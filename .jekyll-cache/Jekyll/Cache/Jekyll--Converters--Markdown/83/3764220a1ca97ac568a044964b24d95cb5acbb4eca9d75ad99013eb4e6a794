I"ÖX<p><br/><br/></p>
<ul>
<li><strong><a href="https://github.com/TaegyunWoo/Spring-Test-Code-Example">ì˜ˆì‹œ í”„ë¡œì íŠ¸ ë‹¤ìš´ë¡œë“œ</a></strong></li>
</ul>
<blockquote>
<p>ìœ„ í”„ë¡œì íŠ¸ë¥¼ ì°¸ê³ í•˜ì—¬ ê¸°ë³¸ì ì¸ ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ ì½”ë“œë¥¼ ê¼­ í™•ì¸í•˜ì!</p>
</blockquote>
<ul>
<li>ì´ì „ ê²Œì‹œê¸€
<ul>
<li><a href="https://taegyunwoo.github.io/test-framework/TestFramework_Mockito_Summary">[Mockito] Mockito ê°œìš”</a></li>
<li><a href="https://taegyunwoo.github.io/test-framework/TestFramework_Mockito_CreateMock">[Mockito] Mock ê°ì²´ ë§Œë“¤ê¸°</a></li>
<li><a href="https://taegyunwoo.github.io/test-framework/TestFramework_Mockito_Stubbing">[Mockito] Mock ê°ì²´ í–‰ë™ ì •ì˜</a></li>
</ul>
</li>
</ul>
<p><br/><br/></p>
<h1 id="mock---">Mock ê°ì²´ì˜ í–‰ë™ ê²€ì¦í•˜ê¸°</h1>
<h2 id="section">ê°œìš”</h2>
<h3 id="mock----1">Mock ê°ì²´ í–‰ë™ ê²€ì¦ì´ë€?</h3>
<ul>
<li>Mock ê°ì²´ê°€ ì–´ë–»ê²Œ ì‚¬ìš©ì´ ëëŠ”ì§€ í™•ì¸í•˜ëŠ” ê²ƒì´ë‹¤.</li>
<li>ì¦‰, ìš°ë¦¬ê°€ ì •ì˜í•œ Mock ê°ì²´ì˜ í–‰ë™ì„ ê²€ì¦í•˜ì—¬ ì–´ë–»ê²Œ ì‘ë™í–ˆëŠ”ì§€ ì•Œ ìˆ˜ ìˆë‹¤.</li>
</ul>
<br/>
<h3 id="mock--------">Mock ê°ì²´ì˜ í–‰ë™ ê²€ì¦ì„ í†µí•´ í™•ì¸í•  ìˆ˜ ìˆëŠ” ë‚´ìš©</h3>
<p>Mock ê°ì²´ê°€ ì–´ë–»ê²Œ í–‰ë™ì„ í–ˆëŠ”ì§€ í™•ì¸í•  ìˆ˜ ìˆëŠ” ë‚´ìš©ì€ ì•„ë˜ì™€ ê°™ë‹¤.</p>
<ul>
<li>íŠ¹ì • ë©”ì„œë“œê°€ íŠ¹ì • ë§¤ê°œë³€ìˆ˜ë¡œ <strong>ëª‡ ë²ˆ í˜¸ì¶œë˜ì—ˆëŠ”ì§€ í™•ì¸</strong> í•  ìˆ˜ ìˆë‹¤.</li>
<li><strong>íŠ¹ì • ì‹œì  ì´í›„ì— ì•„ë¬´ì¼ë„ ë²Œì–´ì§€ì§€ ì•Šì•˜ëŠ”ì§€ í™•ì¸</strong> í•  ìˆ˜ ìˆë‹¤.</li>
</ul>
<blockquote>
<p>ì´ì™¸ì—ë„ íŠ¹ì •ì‹œê°„ì— ë”°ë¼ ê²€ì¦, ìˆœì„œì— ë”°ë¼ ê²€ì¦í•  ìˆ˜ ìˆì§€ë§Œ, ë³¸ í¬ìŠ¤íŒ…ì—ì„  ë‹¤ë£¨ì§€ ì•ŠëŠ”ë‹¤.  (ì‚¬ìš©í•˜ëŠ” ê²½ìš°ê°€ ê±°ì˜ ì—†ë‹¤ê³  í•œë‹¤.)</p>
</blockquote>
<p><br/><br/></p>
<h2 id="section-1">íŠ¹ì • ë©”ì„œë“œê°€ íŠ¹ì • ë§¤ê°œë³€ìˆ˜ë¡œ ëª‡ë²ˆ í˜¸ì¶œë˜ì—ˆëŠ”ì§€ ê²€ì¦</h2>
<ul>
<li>íŠ¹ì • ë©”ì„œë“œê°€ íŠ¹ì • ë§¤ê°œë³€ìˆ˜ë¡œ <strong>ëª‡ ë²ˆ í˜¸ì¶œë˜ì—ˆëŠ”ì§€ í™•ì¸</strong> í•  ìˆ˜ ìˆë‹¤.</li>
<li><code>verify()</code> ë©”ì„œë“œë¥¼ í†µí•´ ê²€ì¦í•œë‹¤.</li>
</ul>
<br/>
<h3 id="section-2">í˜•ì‹</h3>
<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">verify</span><span class="o">(</span><span class="n">í™•ì¸í• _mockê°ì²´</span><span class="o">,</span> <span class="n">times</span><span class="o">(</span><span class="n">í˜¸ì¶œë _íšŸìˆ˜</span><span class="o">)).</span><span class="na">mockê°ì²´ì˜_ë©”ì„œë“œ</span><span class="o">(</span><span class="n">ë§¤ê°œë³€ìˆ˜</span><span class="o">)</span>
</code></pre></div></div>
<ul>
<li><strong>í•´ë‹¹ mock ê°ì²´ì˜ ë©”ì„œë“œê°€ í•´ë‹¹ ë§¤ê°œë³€ìˆ˜ë¡œ ëª‡ë²ˆ í˜¸ì¶œë˜ì—ˆëŠ”ì§€ í™•ì¸í•œë‹¤.</strong>
<ul>
<li>ë¬¼ë¡  <code>any()</code> ë¥¼ <code>mockê°ì²´ì˜_ë©”ì„œë“œ</code> ì˜ ë§¤ê°œë³€ìˆ˜ ì „ë‹¬í•˜ì—¬ ë§¤ê°œë³€ìˆ˜ì— ìƒê´€ì—†ì´ ê²€ì¦í•  ìˆ˜ ìˆë‹¤.</li>
</ul>
</li>
<li><code>times(íšŸìˆ˜)</code> ëŒ€ì‹  ë‹¤ì–‘í•œ ê°’ì´ ë“¤ì–´ê°ˆ ìˆ˜ ìˆë‹¤.
<ul>
<li>í•œë²ˆë„ í˜¸ì¶œë˜ì§€ ì•Šì•˜ëŠ”ê°€? â‡’ <code>never()</code></li>
<li>ì •í™•íˆ 2ë²ˆ í˜¸ì¶œë˜ì—ˆëŠ”ê°€? â‡’ <code>times(2)</code></li>
<li>2ë²ˆ ì´ìƒìœ¼ë¡œ í˜¸ì¶œë˜ì—ˆëŠ”ê°€?(2 í¬í•¨) â‡’ <code>atLeast(2)</code></li>
<li>2ë²ˆ ì´í•˜ë¡œ í˜¸ì¶œë˜ì—ˆëŠ”ê°€?(2 í¬í•¨) â‡’ <code>atMost(2)</code></li>
</ul>
</li>
<li><strong><code>í˜¸ì¶œë _íšŸìˆ˜</code> ê°€ ì •í™•íˆ ë§ì•„ë–¨ì–´ì ¸ì•¼ í…ŒìŠ¤íŠ¸ì— ì„±ê³µí•œë‹¤.</strong></li>
<li><code>í˜¸ì¶œë _íšŸìˆ˜</code> != <code>ì‹¤ì œë¡œ_í˜¸ì¶œëœ_íšŸìˆ˜</code> ë¼ë©´, í…ŒìŠ¤íŠ¸ì— ì‹¤íŒ¨í•œë‹¤.</li>
</ul>
<br/>
<h3 id="section-3">ì˜ˆì‹œ ì½”ë“œ</h3>
<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">static</span> <span class="n">org</span><span class="o">.</span><span class="na">mockito</span><span class="o">.</span><span class="na">Mockito</span><span class="o">.*;</span>
<span class="c1">//ë‚˜ë¨¸ì§€ import ìƒëµ</span>

<span class="kd">class</span> <span class="nc">StudyServiceTest</span> <span class="o">{</span>

  <span class="nd">@DisplayName</span><span class="o">(</span><span class="s">"í–‰ë™ ê²€ì¦"</span><span class="o">)</span>
  <span class="nd">@Test</span>
  <span class="kt">void</span> <span class="nf">testValidation</span><span class="o">(</span><span class="nd">@Mock</span> <span class="nc">MemberService</span> <span class="n">memberService</span><span class="o">,</span>
                      <span class="nd">@Mock</span> <span class="nc">StudyRepository</span> <span class="n">studyRepository</span><span class="o">)</span> <span class="o">{</span>
    <span class="nc">StudyService</span> <span class="n">studyService</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">StudyService</span><span class="o">(</span><span class="n">memberService</span><span class="o">,</span> <span class="n">studyRepository</span><span class="o">);</span>
    <span class="nc">Study</span> <span class="n">study</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Study</span><span class="o">(</span><span class="mi">10</span><span class="o">,</span> <span class="s">"java"</span><span class="o">);</span>
    <span class="nc">Member</span> <span class="n">member</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Member</span><span class="o">();</span>
    <span class="n">member</span><span class="o">.</span><span class="na">setId</span><span class="o">(</span><span class="mi">1L</span><span class="o">);</span>
    <span class="n">member</span><span class="o">.</span><span class="na">setEmail</span><span class="o">(</span><span class="s">"test@test.com"</span><span class="o">);</span>

    <span class="c1">// ----------- í–‰ë™ ì •ì˜ -----------</span>
    <span class="n">when</span><span class="o">(</span><span class="n">memberService</span><span class="o">.</span><span class="na">findById</span><span class="o">(</span><span class="mi">1L</span><span class="o">)).</span><span class="na">thenReturn</span><span class="o">(</span><span class="nc">Optional</span><span class="o">.</span><span class="na">of</span><span class="o">(</span><span class="n">member</span><span class="o">));</span>
    <span class="n">when</span><span class="o">(</span><span class="n">studyRepository</span><span class="o">.</span><span class="na">save</span><span class="o">(</span><span class="n">study</span><span class="o">)).</span><span class="na">thenReturn</span><span class="o">(</span><span class="n">study</span><span class="o">);</span>

    <span class="c1">// ----------- í–‰ë™ í˜¸ì¶œ -----------</span>
    <span class="nc">Study</span> <span class="n">newStudy</span> <span class="o">=</span> <span class="n">studyService</span><span class="o">.</span><span class="na">createNewStudy</span><span class="o">(</span><span class="mi">1L</span><span class="o">,</span> <span class="n">study</span><span class="o">);</span> <span class="c1">//1ë²ˆë§Œ í˜¸ì¶œë¨</span>

    <span class="c1">// ----------- ***í–‰ë™ ê²€ì¦*** -----------</span>
    <span class="n">verify</span><span class="o">(</span><span class="n">memberService</span><span class="o">,</span> <span class="n">times</span><span class="o">(</span><span class="mi">1</span><span class="o">)).</span><span class="na">findById</span><span class="o">(</span><span class="mi">1L</span><span class="o">);</span>

    <span class="c1">// ----------- í…ŒìŠ¤íŠ¸ ê²€ì¦ -----------</span>
    <span class="n">assertEquals</span><span class="o">(</span><span class="n">study</span><span class="o">,</span> <span class="n">newStudy</span><span class="o">);</span>
  <span class="o">}</span>

<span class="o">}</span>
</code></pre></div></div>
<h3 id="section-4">íë¦„</h3>
<ol>
<li>
<p><strong>mock ê°ì²´ë¥¼ ì£¼ì…ë°›ì€ ê°ì²´ <code>StudyService</code> ì˜ ë©”ì„œë“œ í˜¸ì¶œ</strong></p>
<p><img src="/assets/img/2021-09-18-TestFramework_Mockito_ValidateMock/Untitled%202.png" alt="Untitled" /></p>
</li>
<li>
<p><strong><code>StudyService</code> ì˜ <code>createNewStudy()</code> ë©”ì„œë“œ</strong></p>
<p><img src="/assets/img/2021-09-18-TestFramework_Mockito_ValidateMock/Untitled%204.png" alt="Untitled" /></p>
<ul>
<li><code>memberService</code> , <code>repository</code> ëŠ” mockê°ì²´ì´ë‹¤.</li>
<li>ë”°ë¼ì„œ, ì •ì˜ëœëŒ€ë¡œ í–‰ë™í•œë‹¤.</li>
</ul>
</li>
<li>
<p><strong><code>memberService</code> ê°ì²´ì˜ <code>findById()</code> ë©”ì„œë“œê°€ í•œë²ˆë§Œ í˜¸ì¶œë˜ì—ˆë‹¤.</strong></p>
</li>
<li>
<p><strong>í–‰ë™ ê²€ì¦: 1ë²ˆë§Œ ìˆ˜í–‰ë˜ì—ˆëŠ”ê°€?</strong></p>
<p><img src="/assets/img/2021-09-18-TestFramework_Mockito_ValidateMock/Untitled%205.png" alt="Untitled" /></p>
</li>
<li>
<p><strong>í…ŒìŠ¤íŠ¸ ì„±ê³µ!</strong></p>
</li>
</ol>
<br/>
<h3 id="section-5">ê²°ê³¼</h3>
<ul>
<li>
<p>ì„±ê³µì‹œ</p>
<p><img src="/assets/img/2021-09-18-TestFramework_Mockito_ValidateMock/Untitled%206.png" alt="Untitled" /></p>
</li>
<li>
<p>ì‹¤íŒ¨ì‹œ</p>
<p><img src="/assets/img/2021-09-18-TestFramework_Mockito_ValidateMock/Untitled%207.png" alt="Untitled" /></p>
</li>
</ul>
<br/>
<h3 id="section-6">ì£¼ì˜ì‚¬í•­</h3>
<ul>
<li><strong>mock ê°ì²´ë¥¼ ê²€ì¦í•˜ëŠ” ì½”ë“œëŠ” ë°˜ë“œì‹œ mock ê°ì²´ì˜ í–‰ë™ì„ í˜¸ì¶œí•œ ë’¤ì— ì‘ì„±í•´ì•¼í•œë‹¤.</strong></li>
<li>ì˜ˆì‹œ) <code>studyService.createNewStudy(1L, study)</code> í˜¸ì¶œ í›„, <code>verify()</code> ë¥¼ í˜¸ì¶œí•˜ì˜€ë‹¤.</li>
</ul>
<p><br/><br/></p>
<h2 id="section-7">íŠ¹ì • ì‹œì  ì´í›„ì— ì•„ë¬´ ì¼ì´ ì—†ëŠ”ì§€ ê²€ì¦</h2>
<ul>
<li>íŠ¹ì • ë©”ì„œë“œê°€ <strong>íŠ¹ì • ì‹œì  ì´í›„ì— í˜¸ì¶œë˜ì§€ ì•Šì•˜ëŠ”ì§€ ê²€ì¦</strong>í•  ìˆ˜ ìˆë‹¤.</li>
<li><code>verify()</code> ë©”ì„œë“œì™€ <code>verifyNoMoreInteractions()</code> ë©”ì„œë“œë¥¼ í†µí•´ ê²€ì¦í•œë‹¤.</li>
</ul>
<h3 id="section-8">í˜•ì‹</h3>
<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">verify</span><span class="o">(</span><span class="n">í™•ì¸í• _mockê°ì²´</span><span class="o">).</span><span class="na">mockê°ì²´ì˜_ë©”ì„œë“œ</span><span class="o">(</span><span class="n">ë§¤ê°œë³€ìˆ˜</span><span class="o">);</span> <span class="c1">//ê¸°ì¤€ ì‹œì  ì„¤ì •</span>
<span class="n">verifyNoMoreInteractions</span><span class="o">(</span><span class="n">í™•ì¸í• _mockê°ì²´</span><span class="o">);</span> <span class="c1">//ê¸°ì¤€ ì‹œì  ì´í›„ ê²€ì¦</span>
</code></pre></div></div>
<ul>
<li>í•´ë‹¹ mock ê°ì²´ì˜ ë©”ì„œë“œê°€ ê¸°ì¤€ ì‹œì  ì´í›„ì—ë„ í˜¸ì¶œë˜ì—ˆëŠ”ì§€ í™•ì¸í•œë‹¤.</li>
<li><strong><code>verify()</code> ë©”ì„œë“œë¡œ ì„¤ì •í•œ â€˜mockê°ì²´ì˜ ë©”ì„œë“œâ€™ê°€ í˜¸ì¶œëœ ì‹œì ì„ ê¸°ì¤€ìœ¼ë¡œ, mockê°ì²´ê°€ ì‚¬ìš©ë˜ì—ˆë‹¤ë©´ í…ŒìŠ¤íŠ¸ì— ì‹¤íŒ¨í•œë‹¤.</strong></li>
</ul>
<br/>
<h3 id="section-9">ì˜ˆì‹œ ì½”ë“œ</h3>
<ul>
<li>
<p><strong>ì„±ê³µ ì˜ˆì‹œ</strong></p>
<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">static</span> <span class="n">org</span><span class="o">.</span><span class="na">mockito</span><span class="o">.</span><span class="na">Mockito</span><span class="o">.*;</span>
<span class="c1">//ë‚˜ë¨¸ì§€ import ìƒëµ</span>

<span class="kd">class</span> <span class="nc">StudyServiceTest</span> <span class="o">{</span>

  <span class="nd">@DisplayName</span><span class="o">(</span><span class="s">"í–‰ë™ ê²€ì¦"</span><span class="o">)</span>
  <span class="nd">@Test</span>
  <span class="kt">void</span> <span class="nf">testValidation</span><span class="o">(</span><span class="nd">@Mock</span> <span class="nc">MemberService</span> <span class="n">memberService</span><span class="o">,</span>
                      <span class="nd">@Mock</span> <span class="nc">StudyRepository</span> <span class="n">studyRepository</span><span class="o">)</span> <span class="o">{</span>
    <span class="nc">StudyService</span> <span class="n">studyService</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">StudyService</span><span class="o">(</span><span class="n">memberService</span><span class="o">,</span> <span class="n">studyRepository</span><span class="o">);</span>
    <span class="nc">Study</span> <span class="n">study</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Study</span><span class="o">(</span><span class="mi">10</span><span class="o">,</span> <span class="s">"java"</span><span class="o">);</span>
    <span class="nc">Member</span> <span class="n">member</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Member</span><span class="o">();</span>
    <span class="n">member</span><span class="o">.</span><span class="na">setId</span><span class="o">(</span><span class="mi">1L</span><span class="o">);</span>
    <span class="n">member</span><span class="o">.</span><span class="na">setEmail</span><span class="o">(</span><span class="s">"test@test.com"</span><span class="o">);</span>

    <span class="c1">// ----------- í–‰ë™ ì •ì˜ -----------</span>
    <span class="n">when</span><span class="o">(</span><span class="n">memberService</span><span class="o">.</span><span class="na">findById</span><span class="o">(</span><span class="mi">1L</span><span class="o">)).</span><span class="na">thenReturn</span><span class="o">(</span><span class="nc">Optional</span><span class="o">.</span><span class="na">of</span><span class="o">(</span><span class="n">member</span><span class="o">));</span>
    <span class="n">when</span><span class="o">(</span><span class="n">studyRepository</span><span class="o">.</span><span class="na">save</span><span class="o">(</span><span class="n">study</span><span class="o">)).</span><span class="na">thenReturn</span><span class="o">(</span><span class="n">study</span><span class="o">);</span>

    <span class="c1">// ----------- í–‰ë™ í˜¸ì¶œ -----------</span>
    <span class="nc">Study</span> <span class="n">newStudy</span> <span class="o">=</span> <span class="n">studyService</span><span class="o">.</span><span class="na">createNewStudy</span><span class="o">(</span><span class="mi">1L</span><span class="o">,</span> <span class="n">study</span><span class="o">);</span>

    <span class="c1">// ----------- ***í–‰ë™ ê²€ì¦*** -----------</span>
    <span class="n">verify</span><span class="o">(</span><span class="n">memberService</span><span class="o">).</span><span class="na">notify</span><span class="o">(</span><span class="n">any</span><span class="o">());</span> <span class="c1">//ê¸°ì¤€ ì‹œì  = notify()ê°€ í˜¸ì¶œëœ ì‹œì </span>
    <span class="n">verifyNoMoreInteractions</span><span class="o">(</span><span class="n">memberService</span><span class="o">);</span> <span class="c1">//ê¸°ì¤€ ì‹œì  ì´í›„ì—, memberService ê°ì²´(mock)ê°€ ì‚¬ìš©ë˜ì§€ ì•Šì•˜ë‚˜?</span>

    <span class="c1">// ----------- í…ŒìŠ¤íŠ¸ ê²€ì¦ -----------</span>
    <span class="n">assertEquals</span><span class="o">(</span><span class="n">study</span><span class="o">,</span> <span class="n">newStudy</span><span class="o">);</span>
  <span class="o">}</span>

<span class="o">}</span>
</code></pre></div></div>
</li>
<li>
<p><strong>ì‹¤íŒ¨ ì˜ˆì‹œ</strong></p>
<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">static</span> <span class="n">org</span><span class="o">.</span><span class="na">mockito</span><span class="o">.</span><span class="na">Mockito</span><span class="o">.*;</span>
<span class="c1">//ë‚˜ë¨¸ì§€ import ìƒëµ</span>

<span class="kd">class</span> <span class="nc">StudyServiceTest</span> <span class="o">{</span>

  <span class="nd">@DisplayName</span><span class="o">(</span><span class="s">"í–‰ë™ ê²€ì¦"</span><span class="o">)</span>
  <span class="nd">@Test</span>
  <span class="kt">void</span> <span class="nf">testValidation</span><span class="o">(</span><span class="nd">@Mock</span> <span class="nc">MemberService</span> <span class="n">memberService</span><span class="o">,</span>
                      <span class="nd">@Mock</span> <span class="nc">StudyRepository</span> <span class="n">studyRepository</span><span class="o">)</span> <span class="o">{</span>
    <span class="nc">StudyService</span> <span class="n">studyService</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">StudyService</span><span class="o">(</span><span class="n">memberService</span><span class="o">,</span> <span class="n">studyRepository</span><span class="o">);</span>
    <span class="nc">Study</span> <span class="n">study</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Study</span><span class="o">(</span><span class="mi">10</span><span class="o">,</span> <span class="s">"java"</span><span class="o">);</span>
    <span class="nc">Member</span> <span class="n">member</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Member</span><span class="o">();</span>
    <span class="n">member</span><span class="o">.</span><span class="na">setId</span><span class="o">(</span><span class="mi">1L</span><span class="o">);</span>
    <span class="n">member</span><span class="o">.</span><span class="na">setEmail</span><span class="o">(</span><span class="s">"test@test.com"</span><span class="o">);</span>

    <span class="c1">// ----------- í–‰ë™ ì •ì˜ -----------</span>
    <span class="n">when</span><span class="o">(</span><span class="n">memberService</span><span class="o">.</span><span class="na">findById</span><span class="o">(</span><span class="mi">1L</span><span class="o">)).</span><span class="na">thenReturn</span><span class="o">(</span><span class="nc">Optional</span><span class="o">.</span><span class="na">of</span><span class="o">(</span><span class="n">member</span><span class="o">));</span>
    <span class="n">when</span><span class="o">(</span><span class="n">studyRepository</span><span class="o">.</span><span class="na">save</span><span class="o">(</span><span class="n">study</span><span class="o">)).</span><span class="na">thenReturn</span><span class="o">(</span><span class="n">study</span><span class="o">);</span>

    <span class="c1">// ----------- í–‰ë™ í˜¸ì¶œ -----------</span>
    <span class="nc">Study</span> <span class="n">newStudy</span> <span class="o">=</span> <span class="n">studyService</span><span class="o">.</span><span class="na">createNewStudy</span><span class="o">(</span><span class="mi">1L</span><span class="o">,</span> <span class="n">study</span><span class="o">);</span>

    <span class="c1">// ----------- ***í–‰ë™ ê²€ì¦*** -----------</span>
    <span class="n">verify</span><span class="o">(</span><span class="n">memberService</span><span class="o">).</span><span class="na">findById</span><span class="o">(</span><span class="n">any</span><span class="o">());</span> <span class="c1">//ê¸°ì¤€ ì‹œì  = findById()ê°€ í˜¸ì¶œëœ ì‹œì </span>
    <span class="n">verifyNoMoreInteractions</span><span class="o">(</span><span class="n">memberService</span><span class="o">);</span> <span class="c1">//ê¸°ì¤€ ì‹œì  ì´í›„ì—, memberService ê°ì²´(mock)ê°€ ì‚¬ìš©ë˜ì§€ ì•Šì•˜ë‚˜?</span>

    <span class="c1">// ----------- í…ŒìŠ¤íŠ¸ ê²€ì¦ -----------</span>
    <span class="n">assertEquals</span><span class="o">(</span><span class="n">study</span><span class="o">,</span> <span class="n">newStudy</span><span class="o">);</span>
  <span class="o">}</span>

<span class="o">}</span>
</code></pre></div></div>
</li>
</ul>
<h3 id="section-10">íë¦„: ì„±ê³µ ì˜ˆì‹œ</h3>
<ol>
<li>
<p><strong>mock ê°ì²´ë¥¼ ì£¼ì…ë°›ì€ ê°ì²´ <code>StudyService</code> ì˜ ë©”ì„œë“œ í˜¸ì¶œ</strong></p>
<p><img src="/assets/img/2021-09-18-TestFramework_Mockito_ValidateMock/Untitled%208.png" alt="Untitled" /></p>
</li>
<li>
<p><strong><code>StudyService</code> ì˜ <code>createNewStudy()</code> ë©”ì„œë“œ</strong></p>
<p><img src="/assets/img/2021-09-18-TestFramework_Mockito_ValidateMock/Untitled%209.png" alt="Untitled" /></p>
<ul>
<li><code>memberService</code> , <code>repository</code> ëŠ” mockê°ì²´ì´ë‹¤.</li>
<li>ë”°ë¼ì„œ, ì •ì˜ëœëŒ€ë¡œ í–‰ë™í•œë‹¤.</li>
</ul>
</li>
<li>
<p><strong><code>memberService</code> ê°ì²´(mock)ì˜ <code>notify()</code> ë©”ì„œë“œ ì´í›„ë¡œ, <code>memberService</code> ê°ì²´ì— ì ‘ê·¼í•œ ì ì´ ì—†ëŠ”ê°€?</strong></p>
<p><img src="/assets/img/2021-09-18-TestFramework_Mockito_ValidateMock/Untitled%2010.png" alt="Untitled" /></p>
</li>
<li>
<p><strong>ê¸°ì¤€ì‹œì  ê³„ì‚°</strong></p>
<p><img src="/assets/img/2021-09-18-TestFramework_Mockito_ValidateMock/Untitled%2011.png" alt="Untitled" /></p>
</li>
<li>
<p><strong>í•´ë‹¹ ê¸°ì¤€ ì‹œì  ì´í›„ì—, <code>memberService</code> ê°ì²´ì— ì ‘ê·¼í•œ ì ì´ ì—†ë‹¤.</strong></p>
</li>
<li>
<p><strong>í…ŒìŠ¤íŠ¸ ì„±ê³µ!</strong></p>
</li>
</ol>
<br/>
<h3 id="section-11">íë¦„: ì‹¤íŒ¨ ì˜ˆì‹œ</h3>
<ol>
<li>
<p><strong>mock ê°ì²´ë¥¼ ì£¼ì…ë°›ì€ ê°ì²´ <code>StudyService</code> ì˜ ë©”ì„œë“œ í˜¸ì¶œ</strong></p>
<p><img src="/assets/img/2021-09-18-TestFramework_Mockito_ValidateMock/Untitled%2012.png" alt="Untitled" /></p>
</li>
<li>
<p><strong><code>StudyService</code> ì˜ <code>createNewStudy()</code> ë©”ì„œë“œ</strong></p>
<p><img src="/assets/img/2021-09-18-TestFramework_Mockito_ValidateMock/Untitled%209.png" alt="Untitled" /></p>
<ul>
<li><code>memberService</code> , <code>repository</code> ëŠ” mockê°ì²´ì´ë‹¤.</li>
<li>ë”°ë¼ì„œ, ì •ì˜ëœëŒ€ë¡œ í–‰ë™í•œë‹¤.</li>
</ul>
</li>
<li>
<p><strong><code>memberService</code> ê°ì²´(mock)ì˜ <code>findById()</code> ë©”ì„œë“œ ì´í›„ë¡œ, <code>memberService</code> ê°ì²´ì— ì ‘ê·¼í•œ ì ì´ ì—†ëŠ”ê°€?</strong></p>
<p><img src="/assets/img/2021-09-18-TestFramework_Mockito_ValidateMock/Untitled%2013.png" alt="Untitled" /></p>
</li>
<li>
<p><strong>ê¸°ì¤€ì‹œì  ê³„ì‚°</strong></p>
<p><img src="/assets/img/2021-09-18-TestFramework_Mockito_ValidateMock/Untitled%2014.png" alt="Untitled" /></p>
</li>
<li>
<p><strong>í•´ë‹¹ ê¸°ì¤€ ì‹œì  ì´í›„ì—, <code>memberService</code> ê°ì²´ì— ì ‘ê·¼í•œ ì ì´ ìˆë‹¤.</strong></p>
</li>
<li>
<p><strong>í…ŒìŠ¤íŠ¸ ì‹¤íŒ¨!</strong></p>
</li>
</ol>
<br/>
<h3 id="section-12">ê²°ê³¼</h3>
<ul>
<li>
<p>ì„±ê³µì‹œ</p>
<p><img src="/assets/img/2021-09-18-TestFramework_Mockito_ValidateMock/Untitled%206.png" alt="Untitled" /></p>
</li>
<li>
<p>ì‹¤íŒ¨ì‹œ</p>
<p><img src="/assets/img/2021-09-18-TestFramework_Mockito_ValidateMock/Untitled%2015.png" alt="Untitled" /></p>
</li>
</ul>
<br>
<hr />
<br>
<p><a href="https://inf.run/htNB"><img src="/assets/img/Inflearn_Java_Test/logo.png" width="400px" height="300px"></a></p>
<ul>
<li><em>ë³¸ ê²Œì‹œê¸€ì€ ë°±ê¸°ì„ ë‹˜ì˜ ê°•ì˜ë¥¼ í† ëŒ€ë¡œ ì •ë¦¬í•œ ê¸€ì…ë‹ˆë‹¤.</em></li>
<li><em>ë” ìì„¸í•œ ë‚´ìš©ì„ ì•Œê³  ì‹¶ìœ¼ì‹  ë¶„ë“¤ì´ ê³„ì‹ ë‹¤ë©´, í•´ë‹¹ ê°•ì˜ë¥¼ ìˆ˜ê°•í•˜ì‹œëŠ” ê²ƒì„ ì¶”ì²œë“œë¦½ë‹ˆë‹¤.</em></li>
</ul>
:ET