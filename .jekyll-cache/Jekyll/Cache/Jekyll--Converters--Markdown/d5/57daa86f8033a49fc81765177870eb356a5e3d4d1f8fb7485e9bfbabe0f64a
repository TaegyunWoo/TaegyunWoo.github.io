I"”/<p><br/><br/></p>
<h1 id="section">ë¬¸ì œ ì œê¸°</h1>
<h2 id="appconfig--">AppConfig í´ë˜ìŠ¤ì˜ ì˜ë¬¸ì </h2>
<p><code>AppConfig</code> í´ë˜ìŠ¤ì˜ ì½”ë“œì— <code>orderService()</code> ë©”ì„œë“œë¥¼ ì¶”ê°€í•´ë³´ì. ì•„ë˜ì™€ ê°™ì´ ì¶”ê°€í•˜ë”ë¼ë„ <code>AppConfig</code> ëŠ” ì •ìƒì ìœ¼ë¡œ ë™ì‘í•œë‹¤.</p>
<blockquote>
<p>í˜¹ì‹œ ì´ì „ ê¸€ì„ ë³´ì§€ ì•Šì€ ë¶„ë“¤ì€ ì´ì „ ê¸€ë“¤ì„ í•œë²ˆ ì½ê¸° ë°”ë€ë‹¤.</p>
</blockquote>
<blockquote>
<p>í•´ë‹¹ ì½”ë“œê°€ ì •ìƒì ìœ¼ë¡œ ë™ì‘í•˜ëŠ” ê²ƒì€ ê°ì í…ŒìŠ¤íŠ¸í•´ë³´ê¸¸ ë°”ë€ë‹¤.</p>
</blockquote>
<br>
<h3 id="codeappconfigcode-"><code>AppConfig</code> í´ë˜ìŠ¤</h3>
<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nd">@Configuration</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">AppConfig</span> <span class="o">{</span>
<pre><code>&lt;span class=&quot;nd&quot;&gt;@Bean&lt;/span&gt;
&lt;span class=&quot;kd&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;MemberService&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;memberService&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
	&lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;MemberServiceImpl&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;memberRepository&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;());&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;c1&quot;&gt;//ì´ì „ ê¸€ì—ì„œ ì‘ì„±í•œ AppConfig í´ë˜ìŠ¤ì—ì„œ ìƒˆë¡œ ì¶”ê°€ëœ ë©”ì„œë“œ&lt;/span&gt;
&lt;span class=&quot;nd&quot;&gt;@Bean&lt;/span&gt;
&lt;span class=&quot;kd&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;OrderService&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;orderService&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
	&lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;OrderServiceImpl&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;memberRepository&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(),&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;discountPolicy&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;());&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;nd&quot;&gt;@Bean&lt;/span&gt;
&lt;span class=&quot;kd&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;MemberRepository&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;memberRepository&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
	&lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;MemoryMemberRepository&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;();&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;c1&quot;&gt;//ì´í•˜ ìƒëµ..&lt;/span&gt;
</code></pre>
<p><span class="o">}</span>
</code></pre></div></div></p>
<ul>
<li><code>orderService()</code> ë©”ì„œë“œê°€ ì¶”ê°€ë˜ì—ˆì§€ë§Œ, ìœ„ ì½”ë“œ( <code>AppConfig</code> )ëŠ” ì •ìƒì ìœ¼ë¡œ ì‘ë™í•˜ì—¬ ì‹±ê¸€í†¤ íŒ¨í„´ì„ ìœ ì§€í•œë‹¤.</li>
</ul>
<br>
<h3 id="section-1">ì˜ë¬¸ì </h3>
<ul>
<li>
<p><code>memberService()</code> ë©”ì„œë“œ</p>
<ul>
<li><code>memberRepository()</code> ë¥¼ í˜¸ì¶œí•˜ì—¬ <code>MemoryMemberRepository</code> ê°ì²´ë¥¼ <strong>ìƒì„±</strong> í•˜ì—¬ ì£¼ì…í•œë‹¤.</li>
</ul>
</li>
<li>
<p><code>orderService()</code> ë©”ì„œë“œ</p>
<ul>
<li>ì´ ë©”ì„œë“œ ì—­ì‹œ <code>memberRepository()</code> ë¥¼ í˜¸ì¶œí•˜ì—¬ <code>MemoryMemberRepository</code> ê°ì²´ë¥¼ <strong>ìƒì„±</strong> í•˜ì—¬ ì£¼ì…í•œë‹¤.</li>
</ul>
</li>
<li>
<p><code>AppConfig</code> ëŠ” ìŠ¤í”„ë§ ì»¨í…Œì´ë„ˆì— ì„¤ì • ì •ë³´ë¥¼ ì •ìƒì ìœ¼ë¡œ ì „ë‹¬í•œë‹¤. ( ê°ì í…ŒìŠ¤íŠ¸ë¥¼ í†µí•´ í™•ì¸í–ˆì„ ê²ƒì´ë‹¤. )</p>
</li>
<li>
<p>ê²°ê³¼ì ìœ¼ë¡œ ê°ê° ë‹¤ë¥¸ 2ê°œì˜ <code>MemoryMemberRepository</code> ê°€ ìƒì„±ë˜ë©´ì„œ ì‹±ê¸€í†¤ì´ ê¹¨ì§€ëŠ” ê²ƒì²˜ëŸ¼ ë³´ì¸ë‹¤. í•˜ì§€ë§Œ ìŠ¤í”„ë§ ì»¨í…Œì´ë„ˆëŠ” ì‹±ê¸€í†¤ì„ ìœ ì§€í•˜ê²Œ ëœë‹¤. ê·¸ë ‡ë‹¤ë©´ ìŠ¤í”„ë§ì€ ì´ ë¬¸ì œë¥¼ ì–´ë–»ê²Œ í•´ê²°í–ˆì„ê¹Œ?</p>
</li>
</ul>
<p><br><br><br></p>
<h1 id="configuration----">@Configuration ì• ë„ˆí…Œì´ì…˜ì„ í†µí•œ ë°”ì´íŠ¸ì½”ë“œ ì¡°ì‘</h1>
<h2 id="section-2">ë¬¸ì œ í•´ê²°</h2>
<p>ìœ„ì™€ ê°™ì€ ë¬¸ì œë¥¼ í•´ê²°í•˜ê¸° ìœ„í•´ ìŠ¤í”„ë§ì€ <strong>í´ë˜ìŠ¤ì˜ ë°”ì´íŠ¸ì½”ë“œë¥¼ ì¡°ì‘</strong> í•˜ëŠ” ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì‚¬ìš©í•œë‹¤.</p>
<p><br><br></p>
<h2 id="section-3">ë°”ì´íŠ¸ì½”ë“œ ì¡°ì‘</h2>
<h3 id="section-4">í…ŒìŠ¤íŠ¸ì½”ë“œ</h3>
<p>ì•„ë˜ì™€ ê°™ì€ í…ŒìŠ¤íŠ¸ì½”ë“œë¥¼ í†µí•´ ìŠ¤í”„ë§ì´ ì •ë§ë¡œ ë°”ì´íŠ¸ì½”ë“œë¥¼ ì¡°ì‘í•˜ëŠ”ì§€ í™•ì¸í•´ë³´ì.</p>
<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nd">@Test</span>
<span class="kt">void</span> <span class="nf">configurationDeep</span><span class="o">()</span> <span class="o">{</span>
	<span class="nc">ApplicationContext</span> <span class="n">ac</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">AnnotationConfigApplicationContext</span><span class="o">(</span><span class="nc">AppConfig</span><span class="o">.</span><span class="na">class</span><span class="o">);</span>
<pre><code>&lt;span class=&quot;c1&quot;&gt;//AppConfigë„ ìŠ¤í”„ë§ ë¹ˆìœ¼ë¡œ ë“±ë¡ëœë‹¤.&lt;/span&gt;
&lt;span class=&quot;nc&quot;&gt;AppConfig&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;bean&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;ac&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;getBean&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;AppConfig&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;

&lt;span class=&quot;nc&quot;&gt;System&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;out&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;println&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;bean = &quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;bean&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;getClass&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;());&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;//ì¶œë ¥: bean = class hello.core.AppConfig$$EnhancerBySpringCGLIB$$bd479d70&lt;/span&gt;
</code></pre>
<p><span class="o">}</span>
</code></pre></div></div>
<br></p>
<h3 id="section-5">ì˜ˆìƒ ì¶œë ¥ê²°ê³¼</h3>
<p>class hello.core.AppConfig</p>
<br>
<h3 id="section-6">ì‹¤ì œ ì¶œë ¥ê²°ê³¼</h3>
<p>bean = class hello.core.AppConfig$$EnhancerBySpringCGLIB$$bd479d70</p>
<br>
<h3 id="section-7">ë¶„ì„</h3>
<p>ì™œ ì˜ˆìƒê³¼ ë‹¤ë¥´ê²Œ ê²°ê³¼ê°€ ì¶œë ¥ë˜ì—ˆì„ê¹Œ?</p>
<ul>
<li>
<p>ì˜ˆìƒê³¼ ë‹¤ë¥´ê²Œ í´ë˜ìŠ¤ ëª…ì— <code>xxxCGLIB</code> ê°€ ë¶™ì—ˆë‹¤.</p>
</li>
<li>
<p>ì´ê²ƒì€ ìš°ë¦¬ê°€ ë§Œë“  í´ë˜ìŠ¤ê°€ ì•„ë‹ˆë¼ <strong>ìŠ¤í”„ë§ì´ CGLIBë¼ëŠ” ë°”ì´íŠ¸ì½”ë“œ ì¡°ì‘ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ í†µí•´ì„œ</strong> <code>AppConfig</code> <strong>í´ë˜ìŠ¤ë¥¼ ìƒì†ë°›ì€ ì„ì˜ì˜ ë‹¤ë¥¸ í´ë˜ìŠ¤ë¥¼ ë§Œë“¤ê³ , ê·¸ ë‹¤ë¥¸ í´ë˜ìŠ¤ë¥¼ ìŠ¤í”„ë§ ë¹ˆìœ¼ë¡œ ë“±ë¡í•œ ê²ƒ</strong> ì´ë‹¤.</p>
</li>
<li>
<p>ê·¸ë¦¬ê³  ì´ëŸ¬í•œ ë™ì‘ì„ <code>@Configuration</code> ì• ë„ˆí…Œì´ì…˜ì„ í†µí•´ ìˆ˜í–‰í•œë‹¤.</p>
</li>
</ul>
<p><br><br></p>
<h2 id="section-8">ì• ë„ˆí…Œì´ì…˜</h2>
<h3 id="configuration">@Configuration</h3>
<p><img src="/assets/img/2021-07-25-SPRING_Configuration/Untitled%2012.png" alt="@Configuration ì• ë„ˆí…Œì´ì…˜" /></p>
<ul>
<li>
<p>ìŠ¤í”„ë§ì´ â€˜AppConfigë¥¼ ìƒì†ë°›ì€ í´ë˜ìŠ¤â€™ë¥¼ ë¹ˆìœ¼ë¡œ ë“±ë¡í•œë‹¤.</p>
</li>
<li>
<p>â€˜AppConfigë¥¼ ìƒì†ë°›ì€ í´ë˜ìŠ¤â€™ ê°€ ì‹±ê¸€í†¤ì´ ë³´ì¥ë˜ë„ë¡ í•´ì¤€ë‹¤.</p>
</li>
<li>
<p>â€˜AppConfigë¥¼ ìƒì†ë°›ì€ í´ë˜ìŠ¤â€™ëŠ” <code>@Bean</code> ì´ ë¶™ì€ ë©”ì„œë“œë§ˆë‹¤ ì´ë¯¸ ìŠ¤í”„ë§ ë¹ˆì´ ì¡´ì¬í•˜ë©´ ì¡´ì¬í•˜ëŠ” ë¹ˆì„ ë°˜í™˜í•˜ê³ , ìŠ¤í”„ë§ ë¹ˆì´ ì—†ìœ¼ë©´ ìƒì„±í•´ì„œ ìŠ¤í”„ë§ ë¹ˆìœ¼ë¡œ ë“±ë¡í•˜ê³  ë°˜í™˜í•˜ëŠ” ì½”ë“œê°€ ë™ì ìœ¼ë¡œ ë§Œë“¤ì–´ì§„ë‹¤.</p>
</li>
</ul>
<br>
<h3 id="bean--">@Bean ë§Œ ì ìš©í•œë‹¤ë©´?</h3>
<p>ìœ„ì—ì„œ ì„¤ëª…í–ˆë“¯ì´, @Configuration ì• ë„ˆí…Œì´ì…˜ì„ í†µí•´ ìŠ¤í”„ë§ì€ ë°”ì´íŠ¸ì½”ë“œë¥¼ ì¡°ì‘í•˜ì—¬ ì‹±ê¸€í†¤ì„ ìœ ì§€í•œë‹¤. ê·¸ë ‡ë‹¤ë©´ @Configuration ì• ë„ˆí…Œì´ì…˜ì„ ìƒëµí•˜ë©´ ì–´ë–»ê²Œ ë ê¹Œ? ì•„ë˜ ì½”ë“œì™€ ê°™ì´ ë§ì´ë‹¤.</p>
<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// @Configuration ì‚­ì œ</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">AppConfig</span> <span class="o">{</span>
<pre><code>&lt;span class=&quot;nd&quot;&gt;@Bean&lt;/span&gt;
&lt;span class=&quot;kd&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;MemberService&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;memberService&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
	&lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;MemberServiceImpl&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;memberRepository&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;());&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;nd&quot;&gt;@Bean&lt;/span&gt;
&lt;span class=&quot;kd&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;OrderService&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;orderService&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
	&lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;OrderServiceImpl&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;memberRepository&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(),&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;discountPolicy&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;());&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;nd&quot;&gt;@Bean&lt;/span&gt;
&lt;span class=&quot;kd&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;MemberRepository&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;memberRepository&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
	&lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;MemoryMemberRepository&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;();&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;c1&quot;&gt;//ì´í•˜ ìƒëµ..&lt;/span&gt;
</code></pre>
<p><span class="o">}</span>
</code></pre></div></div></p>
<p>ëª¨ë‘ ì˜ˆìƒí–ˆë‹¤ì‹œí”¼, <code>memberRepository()</code> ë©”ì„œë“œê°€ <code>memberService()</code> ì™€ <code>orderService()</code> ë¥¼ í†µí•´ ì¤‘ë³µë˜ì–´ í˜¸ì¶œë˜ê³  <strong>ë°”ì´íŠ¸ì½”ë“œ ì¡°ì‘ì´ ë˜ì§€ ì•Šì•„</strong> ì—¬ëŸ¬ ê°œì˜ <code>MemoryMemberRepository</code> ê°ì²´ê°€ ìƒì„±ëœë‹¤.</p>
<p>ë”°ë¼ì„œ, ë°˜ë“œì‹œ ì„¤ì • ì •ë³´ í´ë˜ìŠ¤ì—ëŠ” <code>@Configuration</code> ì• ë„ˆí…Œì´ì…˜ì„ ë¶™ì´ë„ë¡ í•˜ì.</p>
<br>
<hr />
<br>
<p><a href="https://inf.run/pcN8"><img src="/assets/img/Inflearn_Spring_SpringCore/Logo.png" width="400px" height="250px"></a></p>
<ul>
<li><em>ë³¸ ê²Œì‹œê¸€ì€ ê¹€ì˜í•œë‹˜ì˜ ê°•ì˜ë¥¼ í† ëŒ€ë¡œ ì •ë¦¬í•œ ê¸€ì…ë‹ˆë‹¤.</em></li>
<li><em>ë” ìì„¸í•œ ë‚´ìš©ì„ ì•Œê³  ì‹¶ìœ¼ì‹  ë¶„ë“¤ì´ ê³„ì‹ ë‹¤ë©´, í•´ë‹¹ ê°•ì˜ë¥¼ ìˆ˜ê°•í•˜ì‹œëŠ” ê²ƒì„ ì¶”ì²œë“œë¦½ë‹ˆë‹¤.</em></li>
</ul>
:ET