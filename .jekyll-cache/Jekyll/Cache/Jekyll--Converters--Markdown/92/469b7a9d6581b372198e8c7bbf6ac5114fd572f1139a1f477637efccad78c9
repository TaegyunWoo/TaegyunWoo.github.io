I"A÷<p><br/><br/></p>
<h1 id="spring--">Springê³¼ ì˜ì†ì„± ê´€ë¦¬</h1>
<h2 id="section">íŠ¸ëœì­ì…˜ ë²”ìœ„ì˜ ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸</h2>
<ul>
<li>ìˆœìˆ˜í•˜ê²Œ J2SE í™˜ê²½ì—ì„œ JPAë¥¼ ì‚¬ìš©í•˜ë©´, ê°œë°œìê°€ ì§ì ‘ ì—”í‹°í‹° ë§¤ë‹ˆì €ë¥¼ ìƒì„±í•˜ê³  íŠ¸ëœì­ì…˜ë„ ê´€ë¦¬í•´ì•¼ í•œë‹¤.</li>
<li>ìŠ¤í”„ë§ì´ë‚˜ J2EE ì»¨í…Œì´ë„ˆ í™˜ê²½ì—ì„œ JPAë¥¼ ì‚¬ìš©í•˜ë©´, ì»¨í…Œì´ë„ˆê°€ ì œê³µí•˜ëŠ” ì „ëµì„ ë”°ë¼ì•¼ í•œë‹¤.</li>
</ul>
<br/>
<h3 id="section-1">ìŠ¤í”„ë§ ì»¨í…Œì´ë„ˆì˜ ê¸°ë³¸ ì „ëµ</h3>
<ul>
<li>ìŠ¤í”„ë§ ì»¨í…Œì´ë„ˆëŠ” <strong>íŠ¸ëœì­ì…˜ ë²”ìœ„ì˜ ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ ì „ëµ</strong>ì„ ê¸°ë³¸ìœ¼ë¡œ ì‚¬ìš©í•œë‹¤.
<ul>
<li>
<p><strong>íŠ¸ëœì­ì…˜ ë²”ìœ„ì˜ ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ ì „ëµ?</strong></p>
<ul>
<li>íŠ¸ëœì­ì…˜ì˜ ë²”ìœ„ì™€ ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ì˜ ìƒì¡´ ë²”ìœ„ê°€ ê°™ë‹¤.</li>
<li><strong>ì¦‰, íŠ¸ëœì­ì…˜ì„ ì‹œì‘í•  ë•Œ ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ë¥¼ ìƒì„±í•˜ê³ , íŠ¸ëœì­ì…˜ì´ ëë‚  ë•Œ ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ë¥¼ ì¢…ë£Œí•œë‹¤. ê·¸ë¦¬ê³  ê°™ì€ íŠ¸ëœì­ì…˜ ì•ˆì—ì„œëŠ” í•­ìƒ ê°™ì€ ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ì— ì ‘ê·¼í•œë‹¤.</strong></li>
</ul>
<p><img src="/assets/img/2021-12-06-JPA_WebAppAndPersistence/Untitled.png" alt="Untitled" /></p>
</li>
</ul>
</li>
</ul>
<br/>
<ul>
<li>
<p>ìŠ¤í”„ë§ í”„ë ˆì„ì›Œí¬ ì‚¬ìš© ì‹œ, ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì„ ì‹œì‘í•˜ëŠ” ì„œë¹„ìŠ¤ ê³„ì¸µì— <code>Transactional</code> ì• ë„ˆí…Œì´ì…˜ì„ ì„ ì–¸í•´ì„œ íŠ¸ëœì­ì…˜ì„ ì‹œì‘í•œë‹¤.</p>
<ul>
<li><strong>í•´ë‹¹ ì• ë„ˆí…Œì´ì…˜ì´ ìˆìœ¼ë©´, í˜¸ì¶œí•œ ë©”ì„œë“œë¥¼ ì‹¤í–‰í•˜ê¸° ì§ì „ì— ìŠ¤í”„ë§ì˜ íŠ¸ëœì­ì…˜ AOPê°€ ë¨¼ì € ë™ì‘í•œë‹¤.</strong></li>
</ul>
<p><img src="/assets/img/2021-12-06-JPA_WebAppAndPersistence/Untitled%201.png" alt="Untitled" /></p>
<ul>
<li>ìŠ¤í”„ë§ íŠ¸ëœì­ì…˜ AOPëŠ” ëŒ€ìƒ ë©”ì„œë“œë¥¼ í˜¸ì¶œí•˜ê¸° ì§ì „ì— íŠ¸ëœì­ì…˜ì„ ì‹œì‘í•˜ê³ , ëŒ€ìƒ ë©”ì„œë“œê°€ ì •ìƒ ì¢…ë£Œë˜ë©´ íŠ¸ëœì­ì…˜ì„ ì»¤ë°‹í•˜ë©´ì„œ ì¢…ë£Œí•œë‹¤.
<ul>
<li><strong>ì´ë•Œ íŠ¸ëœì­ì…˜ì„ ì»¤ë°‹í•˜ë©´, JPAëŠ” ë¨¼ì € ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ë¥¼ â€œí”ŒëŸ¬ì‹œâ€í•´ì„œ ë³€ê²½ ë‚´ìš©ì„ DBì— ë°˜ì˜í•œ í›„ì— DB íŠ¸ëœì­ì…˜ì„ ì»¤ë°‹í•œë‹¤.</strong></li>
</ul>
</li>
<li>ë§Œì•½ ì˜ˆì™¸ê°€ ë°œìƒí•˜ë©´ íŠ¸ëœì­ì…˜ì„ ë¡¤ë°±í•˜ê³  ì¢…ë£Œí•˜ëŠ”ë°, ì´ë•ŒëŠ” í”ŒëŸ¬ì‹œë¥¼ í˜¸ì¶œí•˜ì§€ ì•ŠëŠ”ë‹¤.</li>
</ul>
</li>
</ul>
<p>ì˜ˆì‹œ ì½”ë“œë¥¼ í†µí•´ ìì„¸íˆ ì•Œì•„ë³´ì.</p>
<br/>
<h3 id="section-2">íŠ¸ëœì­ì…˜ ë²”ìœ„ì˜ ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ ì „ëµ ì˜ˆì‹œ ì½”ë“œ</h3>
<ul>
<li>
<p>ì»¨íŠ¸ë¡¤ëŸ¬ í´ë˜ìŠ¤</p>
<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nd">@Controller</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">HelloController</span> <span class="o">{</span>
<pre><code>&lt;span class=&quot;nd&quot;&gt;@Autowired&lt;/span&gt;
&lt;span class=&quot;nc&quot;&gt;HelloService&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;helloService&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;kd&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;hello&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
	&lt;span class=&quot;c1&quot;&gt;//**ìƒì„¸ì„¤ëª…: 4**&lt;/span&gt;
	&lt;span class=&quot;c1&quot;&gt;//ë°˜í™˜ëœ member ì—”í‹°í‹°ëŠ” ì¤€ì˜ì† ìƒíƒœì´ë‹¤.&lt;/span&gt;
	&lt;span class=&quot;nc&quot;&gt;Member&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;member&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;helloService&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;logic&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;();&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
</code></pre>
<p><span class="o">}</span>
</code></pre></div></div></p>
</li>
<li>
<p>ì„œë¹„ìŠ¤ í´ë˜ìŠ¤</p>
<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nd">@Service</span>
<span class="kd">class</span> <span class="nc">HelloService</span> <span class="o">{</span>
<pre><code>&lt;span class=&quot;nd&quot;&gt;@Autowired&lt;/span&gt;
&lt;span class=&quot;nc&quot;&gt;Repository1&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;repository1&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;nd&quot;&gt;@Autowired&lt;/span&gt;
&lt;span class=&quot;nc&quot;&gt;Repository2&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;repository2&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;c1&quot;&gt;//----------íŠ¸ëœì­ì…˜ ì‹œì‘----------&lt;/span&gt;
&lt;span class=&quot;nd&quot;&gt;@Transactional&lt;/span&gt;	&lt;span class=&quot;c1&quot;&gt;//**ìƒì„¸ì„¤ëª…: 1**&lt;/span&gt;
&lt;span class=&quot;kd&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;logic&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
	&lt;span class=&quot;n&quot;&gt;repository1&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;hello&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;();&lt;/span&gt;

	&lt;span class=&quot;c1&quot;&gt;//**ìƒì„¸ì„¤ëª…: 2**&lt;/span&gt;
	&lt;span class=&quot;c1&quot;&gt;//memberëŠ” ì˜ì†ìƒíƒœì´ë‹¤.&lt;/span&gt;
	&lt;span class=&quot;nc&quot;&gt;Member&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;member&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;repository2&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;findMember&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;();&lt;/span&gt;
	&lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;member&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;//----------íŠ¸ëœì­ì…˜ ì¢…ë£Œ----------&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;//**ìƒì„¸ì„¤ëª…: 3**&lt;/span&gt;
</code></pre>
<p><span class="o">}</span>
</code></pre></div></div></p>
</li>
<li>
<p>ë ˆíŒŒì§€í† ë¦¬ í´ë˜ìŠ¤ 1</p>
<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nd">@Repository</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">Repository1</span> <span class="o">{</span>
<pre><code>&lt;span class=&quot;c1&quot;&gt;//ì—”í‹°í‹° ë§¤ë‹ˆì € ì£¼ì…&lt;/span&gt;
&lt;span class=&quot;nd&quot;&gt;@PersistenceContext&lt;/span&gt;
&lt;span class=&quot;nc&quot;&gt;EntityManager&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;em&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;kd&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;hello&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
	&lt;span class=&quot;n&quot;&gt;em&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;xxx&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;();&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;//ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ ì ‘ê·¼&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
</code></pre>
<p><span class="o">}</span>
</code></pre></div></div></p>
</li>
<li>
<p>ë ˆíŒŒì§€í† ë¦¬ í´ë˜ìŠ¤ 2</p>
<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nd">@Repository</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">Repository2</span> <span class="o">{</span>
<pre><code>&lt;span class=&quot;c1&quot;&gt;//ì—”í‹°í‹° ë§¤ë‹ˆì € ì£¼ì…&lt;/span&gt;
&lt;span class=&quot;nd&quot;&gt;@PersistenceContext&lt;/span&gt;
&lt;span class=&quot;nc&quot;&gt;EntityManager&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;em&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;kd&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;Member&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;findMember&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
	&lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;em&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;find&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;Member&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;id1&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;//ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ ì ‘ê·¼&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
</code></pre>
<p><span class="o">}</span>
</code></pre></div></div></p>
</li>
<li>
<p>ìƒì„¸ ì„¤ëª…</p>
<ol>
<li><code>HelloService.logic()</code> ì—ì„œ <code>@Transactional</code> ì„ ì„ ì–¸í•´ì„œ ë©”ì„œë“œë¥¼ í˜¸ì¶œí•  ë•Œ íŠ¸ëœì­ì…˜ì„ ë¨¼ì € ì‹œì‘í•œë‹¤.</li>
<li><code>repository2.findMember()</code>
<ul>
<li>í•´ë‹¹ ë©”ì„œë“œë¥¼ í†µí•´ ì¡°íšŒí•œ member ì—”í‹°í‹°ëŠ” íŠ¸ëœì­ì…˜ ë²”ìœ„ ì•ˆì— ìˆìœ¼ë¯€ë¡œ ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ì˜ ê´€ë¦¬ë¥¼ ë°›ëŠ”ë‹¤.</li>
<li>ë”°ë¼ì„œ ì§€ê¸ˆì€ ì˜ì† ìƒíƒœì´ë‹¤.</li>
</ul>
</li>
<li><strong><code>@Transactional</code> ì„ ì„ ì–¸í•œ ë©”ì„œë“œê°€ ì •ìƒ ì¢…ë£Œë˜ë©´ íŠ¸ëœì­ì…˜ì„ ì»¤ë°‹í•œë‹¤.</strong>
<ul>
<li><strong>ì´ë•Œ ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ë¥¼ ì¢…ë£Œí•œë‹¤.</strong></li>
<li><strong>ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ê°€ ì‚¬ë¼ì¡Œìœ¼ë¯€ë¡œ ì¡°íšŒí•œ ì—”í‹°í‹°(member)ëŠ” ì´ì œë¶€í„° ì¤€ì˜ì† ìƒíƒœê°€ ëœë‹¤.</strong></li>
</ul>
</li>
<li>ì„œë¹„ìŠ¤ ë©”ì„œë“œê°€ ëë‚˜ë©´ì„œ íŠ¸ëœì­ì…˜ê³¼ ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ê°€ ì¢…ë£Œë˜ì—ˆë‹¤.
<ul>
<li>ë”°ë¼ì„œ ì»¨íŠ¸ë¡¤ëŸ¬ì— ë°˜í™˜ëœ member ì—”í‹°í‹°ëŠ” ì¤€ì˜ì† ìƒíƒœì´ë‹¤.</li>
</ul>
</li>
</ol>
</li>
</ul>
<br/>
<h3 id="section-3">íŠ¸ëœì­ì…˜ì´ ê°™ìœ¼ë©´ ê°™ì€ ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ë¥¼ ì‚¬ìš©í•œë‹¤.</h3>
<ul>
<li>
<p>íŠ¸ëœì­ì…˜ ë²”ìœ„ì˜ ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ ì „ëµ</p>
<ul>
<li><strong>í•´ë‹¹ ì „ëµì€ ë‹¤ì–‘í•œ ìœ„ì¹˜ì—ì„œ ì—”í‹°í‹° ë§¤ë‹ˆì €ë¥¼ ì£¼ì…ë°›ì•„ ì‚¬ìš©í•´ë„, íŠ¸ëœì­ì…˜ì´ ê°™ìœ¼ë©´ í•­ìƒ ê°™ì€ ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ë¥¼ ì‚¬ìš©í•œë‹¤.</strong></li>
<li><strong>ë”°ë¼ì„œ ì—”í‹°í‹° ë§¤ë‹ˆì €ëŠ” ë‹¬ë¼ë„ ê°™ì€ ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ë¥¼ ì‚¬ìš©í•œë‹¤.</strong>
<ul>
<li>ìœ„ ì˜ˆì‹œì—ì„œ <code>Repository1</code> ê³¼ <code>Repository2</code> ì—ì„œ ì‚¬ìš©í•˜ëŠ” <code>EntityManager</code> ëŠ” ê°ê° ë‹¤ë¥´ì§€ë§Œ, ëª¨ë‘ ê°™ì€ ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ë¥¼ ì‚¬ìš©í•œë‹¤.</li>
</ul>
</li>
</ul>
<p><img src="/assets/img/2021-12-06-JPA_WebAppAndPersistence/Untitled%202.png" alt="Untitled" /></p>
</li>
</ul>
<br/>
<h3 id="section-4">íŠ¸ëœì­ì…˜ì´ ë‹¤ë¥´ë©´ ë‹¤ë¥¸ ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ë¥¼ ì‚¬ìš©í•œë‹¤.</h3>
<ul>
<li>
<p>ì•„ë˜ ê·¸ë¦¼ê³¼ ê°™ì´, <strong>ì—¬ëŸ¬ ì“°ë ˆë“œì—ì„œ ë™ì‹œì— ìš”ì²­ì´ ì™€ì„œ ê°™ì€ ì—”í‹°í‹° ë§¤ë‹ˆì €ë¥¼ ì‚¬ìš©í•´ë„ íŠ¸ëœì­ì…˜ì— ë”°ë¼ ì ‘ê·¼í•˜ëŠ” ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ê°€ ë‹¤ë¥´ë‹¤.</strong></p>
<ul>
<li>ì¦‰, ìŠ¤í”„ë§ ì»¨í…Œì´ë„ˆëŠ” ì“°ë ˆë“œë§ˆë‹¤ ê°ê° ë‹¤ë¥¸ íŠ¸ëœì­ì…˜ì„ ì•Œì•„ì„œ í• ë‹¹í•´ì¤€ë‹¤.</li>
<li>ë”°ë¼ì„œ ë©€í‹° ì“°ë ˆë“œ ìƒí™©ì—ì„œë„ ì•ˆì „í•  ìˆ˜ ìˆë‹¤.</li>
</ul>
<p><img src="/assets/img/2021-12-06-JPA_WebAppAndPersistence/Untitled%203.png" alt="Untitled" /></p>
</li>
</ul>
<p><br/><br/></p>
<h2 id="section-5">ì¤€ì˜ì† ìƒíƒœì™€ ì§€ì—° ë¡œë”©</h2>
<h3 id="section-6">ìŠ¤í”„ë§ì—ì„œì˜ ì—”í‹°í‹° ìƒíƒœ</h3>
<ul>
<li>ë‹¤ì‹œ ë§í•˜ì§€ë§Œ, ìŠ¤í”„ë§ì´ë‚˜ J2EE ì»¨í…Œì´ë„ˆëŠ” <strong>íŠ¸ëœì­ì…˜ ë²”ìœ„ì˜ ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ ì „ëµ</strong> ì„ ê¸°ë³¸ìœ¼ë¡œ ì‚¬ìš©í•œë‹¤.</li>
<li>ë”°ë¼ì„œ ì—”í‹°í‹° ìƒíƒœëŠ” ì•„ë˜ì™€ ê°™ë‹¤.
<ul>
<li>
<p>ì„œë¹„ìŠ¤, ë ˆíŒŒì§€í† ë¦¬ ê³„ì¸µ</p>
<ul>
<li>ì¡°íšŒí•œ ì—”í‹°í‹°ê°€ <strong>ì˜ì† ìƒíƒœ</strong> ë¥¼ ìœ ì§€í•œë‹¤.</li>
</ul>
</li>
<li>
<p>ì»¨íŠ¸ë¡¤ëŸ¬, ë·° ê³„ì¸µ (í”„ë¦¬ì  í…Œì´ì…˜ ê³„ì¸µ)</p>
<ul>
<li>ì¡°íšŒí•œ ì—”í‹°í‹°ê°€ <strong>ì¤€ì˜ì† ìƒíƒœ</strong> ê°€ ëœë‹¤.</li>
</ul>
<blockquote>
<p><strong>íŠ¸ëœì­ì…˜ì´ ì„œë¹„ìŠ¤ ê³„ì¸µì—ì„œ ëë‚˜ê³ , ì´ì™€ ë™ì‹œì— ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ê°€ ì¢…ë£Œë˜ì—ˆìœ¼ë¯€ë¡œ</strong></p>
</blockquote>
</li>
</ul>
</li>
</ul>
<br/>
<h3 id="section-7">ë°œìƒí•˜ëŠ” ë¬¸ì œ</h3>
<p>ì—”í‹°í‹° ìƒíƒœê°€ ìœ„ì™€ ê°™ì´ ë³€í™”í•˜ëŠ” ê²ƒì—ì„œ ì˜¤ëŠ” ë¬¸ì œì— ëŒ€í•´ ì˜ˆì‹œì½”ë“œë¡œ ì•Œì•„ë³´ì.</p>
<ul>
<li>
<p>ì£¼ë¬¸ ì—”í‹°í‹°</p>
<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nd">@Entity</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">Order</span> <span class="o">{</span>
<pre><code>&lt;span class=&quot;nd&quot;&gt;@Id&lt;/span&gt; &lt;span class=&quot;nd&quot;&gt;@GeneratedValue&lt;/span&gt;
&lt;span class=&quot;kd&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;Long&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;id&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;c1&quot;&gt;//ì§€ì—° ë¡œë”© ì „ëµ&lt;/span&gt;
&lt;span class=&quot;nd&quot;&gt;@ManyToOne&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;fetch&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;FetchType&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;LAZY&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;kd&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;Member&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;member&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;//ì£¼ë¬¸ íšŒì›&lt;/span&gt;

&lt;span class=&quot;c1&quot;&gt;// ì´í•˜ ìƒëµ...&lt;/span&gt;
</code></pre>
<p><span class="o">}</span>
</code></pre></div></div></p>
</li>
<li>
<p>ì»¨íŠ¸ë¡¤ëŸ¬ ë¡œì§</p>
<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nd">@Controller</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">OrderController</span> <span class="o">{</span>
<pre><code>&lt;span class=&quot;kd&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;String&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;view&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;Long&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;orderId&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;

	&lt;span class=&quot;nc&quot;&gt;Order&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;order&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;orderService&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;findOne&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;orderId&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
	&lt;span class=&quot;nc&quot;&gt;Member&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;member&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;order&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;getMember&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;();&lt;/span&gt;
	&lt;span class=&quot;n&quot;&gt;member&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;getName&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;();&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;// ì´ë•Œ í”„ë¡ì‹œ ê°ì²´ memberê°€ ë¡œë”©ëœë‹¤. =&amp;gt; ì˜ˆì™¸ ë°œìƒ!&lt;/span&gt;

&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
</code></pre>
<p><span class="o">}</span>
</code></pre></div></div></p>
<ul>
<li><code>member.getName()</code>
<ul>
<li>ì´ë•Œ ì˜ˆì™¸ê°€ ë°œìƒí•œë‹¤.</li>
<li><code>order</code> ì—”í‹°í‹°ëŠ” ì¤€ì˜ì† ìƒíƒœì´ê³ , ì´ì™€ ì—°ê´€ëœ <code>member</code> ì—”í‹°í‹°ëŠ” í˜„ì¬ í”„ë¡ì‹œ ê°ì²´ì¸ë°, í”„ë¡ì‹œ ê°ì²´ì— ì ‘ê·¼í•˜ë©´ DBì— ì ‘ê·¼í•´ì„œ ì‹¤ì œ ë°ì´í„°ë¥¼ ê°€ì ¸ì˜¨ë‹¤.</li>
<li>í•˜ì§€ë§Œ <code>order</code> ì—”í‹°í‹°ê°€ ì¤€ì˜ì† ìƒíƒœì´ë¯€ë¡œ ì‹¤ì œ ë°ì´í„°ë¥¼ ê°€ì ¸ì˜¬ ìˆ˜ ì—†ë‹¤. ë”°ë¼ì„œ ì˜ˆì™¸ê°€ ë°œìƒí•œë‹¤.</li>
</ul>
</li>
</ul>
</li>
</ul>
<br/>
<h3 id="section-8">ì¤€ì˜ì† ìƒíƒœì™€ ë³€ê²½ ê°ì§€</h3>
<ul>
<li><strong>ë³€ê²½ ê°ì§€ ê¸°ëŠ¥ (Dirty Checking)</strong>
<ul>
<li>í•´ë‹¹ ê¸°ëŠ¥ì€ ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ê°€ ì‚´ì•„ ìˆëŠ” ì„œë¹„ìŠ¤ ê³„ì¸µê¹Œì§€ë§Œ ë™ì‘í•˜ê³ , ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ê°€ ì¢…ë£Œëœ í”„ë¦¬ì  í…Œì´ì…˜ ê³„ì¸µì—ì„œëŠ” ë™ì‘í•˜ì§€ ì•ŠëŠ”ë‹¤.</li>
</ul>
</li>
<li><strong>ë‹¨ìˆœíˆ ë°ì´í„°ë¥¼ ë³´ì—¬ì£¼ê¸°ë§Œ í•˜ëŠ” í”„ë¦¬ì  í…Œì´ì…˜ ê³„ì¸µì—ì„œ ë°ì´í„°ë¥¼ ìˆ˜ì •í•  ì¼ì€ ê±°ì˜ ì—†ë‹¤.</strong>
<ul>
<li>ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì€ ì„œë¹„ìŠ¤ ê³„ì¸µì—ì„œ ëë‚´ê³ , í”„ë¦¬ì  í…Œì´ì…˜ ê³„ì¸µì€ ë°ì´í„°ë¥¼ ë³´ì—¬ì£¼ëŠ” ë° ì§‘ì¤‘í•´ì•¼ í•œë‹¤.</li>
<li><strong>ë”°ë¼ì„œ ë³€ê²½ ê°ì§€ ê¸°ëŠ¥ì´ í”„ë¦¬ì   í…Œì´ì…˜ ê³„ì¸µì—ì„œ ë™ì‘í•˜ì§€ ì•ŠëŠ” ê²ƒì€ íŠ¹ë³„íˆ ë¬¸ì œê°€ ë˜ì§€ ì•Šê³ , ì˜¤íˆë ¤ ì¢‹ë‹¤.</strong></li>
</ul>
</li>
</ul>
<br/>
<h3 id="section-9">ì¤€ì˜ì† ìƒíƒœì™€ ì§€ì—° ë¡œë”©</h3>
<ul>
<li>ì¤€ì˜ì† ìƒíƒœì˜ ê°€ì¥ ê³¨ì¹˜ ì•„í”ˆ ë¬¸ì œê°€ ë°”ë¡œ <strong>ì§€ì—° ë¡œë”© ê¸°ëŠ¥ì´ ë™ì‘í•˜ì§€ ì•ŠëŠ”ë‹¤ëŠ” ê²ƒ</strong> ì´ë‹¤.</li>
<li>ì´ê²ƒì„ í•´ê²°í•˜ê¸° ìœ„í•œ ë°©ë²•ì€ ì•„ë˜ 2ê°€ì§€ê°€ ìˆë‹¤.
<ul>
<li><strong>ë·°ê°€ í•„ìš”í•œ ì—”í‹°í‹°ë¥¼ ë¯¸ë¦¬ ë¡œë”©í•´ë‘ëŠ” ë°©ë²•</strong></li>
<li><strong>OSIVë¥¼ ì‚¬ìš©í•´ì„œ ì—”í‹°í‹°ë¥¼ í•­ìƒ ì˜ì† ìƒíƒœë¡œ ìœ ì§€í•˜ëŠ” ë°©ë²•</strong></li>
</ul>
</li>
</ul>
<p>ê°€ì¥ ë¨¼ì €, <strong>ë·°ê°€ í•„ìš”í•œ ì—”í‹°í‹°ë¥¼ ë¯¸ë¦¬ ë¡œë”©í•´ë‘ëŠ” ë°©ë²•</strong> ì— ëŒ€í•´ ì•Œì•„ë³´ì.</p>
<ul>
<li>ë·°ê°€ í•„ìš”í•œ ì—”í‹°í‹°ë¥¼ ë¯¸ë¦¬ ë¡œë”©í•´ë‘ëŠ” ë°©ë²•?
<ul>
<li><strong>ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ê°€ ì‚´ì•„ ìˆì„ ë•Œ, ë·°ì— í•„ìš”í•œ ì—”í‹°í‹°ë“¤ì„ ë¯¸ë¦¬ ë‹¤ ë¡œë”©í•˜ê±°ë‚˜ ì´ˆê¸°í™”í•´ì„œ ë°˜í™˜í•˜ëŠ” ë°©ë²•ì´ë‹¤.</strong></li>
<li><strong>ë”°ë¼ì„œ ì—”í‹°í‹°ê°€ ì¤€ì˜ì† ìƒíƒœë¡œ ë³€í•´ë„ ì—°ê´€ëœ ì—”í‹°í‹°ë¥¼ ì´ë¯¸ ë‹¤ ë¡œë”©í•´ë‘ì–´ì„œ ì§€ì—° ë¡œë”©ì´ ë°œìƒí•˜ì§€ ì•ŠëŠ”ë‹¤.</strong></li>
<li>ë·°ê°€ í•„ìš”í•œ ì—”í‹°í‹°ë¥¼ ë¯¸ë¦¬ ë¡œë”©í•´ë‘ëŠ” ë°©ë²•ì˜ ì¢…ë¥˜
<ul>
<li><strong>ê¸€ë¡œë²Œ í˜ì¹˜ ì „ëµ ìˆ˜ì •</strong></li>
<li><strong>JPQL í˜ì¹˜ ì¡°ì¸</strong></li>
<li><strong>ê°•ì œë¡œ ì´ˆê¸°í™”</strong></li>
</ul>
</li>
</ul>
</li>
</ul>
<p>ì•„ë˜ì—ì„œ í•˜ë‚˜ì”© ì„¤ëª…í•˜ê² ë‹¤.</p>
<p><br/><br/></p>
<h2 id="section-10">ë·°ê°€ í•„ìš”í•œ ì—”í‹°í‹°ë¥¼ ë¯¸ë¦¬ ë¡œë”©í•´ë‘ëŠ” ë°©ë²•: ê¸€ë¡œë²Œ í˜ì¹˜ ì „ëµ ìˆ˜ì •</h2>
<h3 id="section-11">ê¸€ë¡œë²Œ í˜ì¹˜ ì „ëµì´ë€?</h3>
<ul>
<li>ë·°ê°€ í•„ìš”í•œ ì—”í‹°í‹°ë¥¼ ë¯¸ë¦¬ ë¡œë”©í•´ë‘ëŠ” ì•„ì£¼ ê°„ë‹¨í•œ ë°©ë²•ì´ë‹¤.</li>
<li>ê·¸ì € ê¸€ë¡œë²Œ í˜ì¹˜ë¥¼ ì§€ì—° ë¡œë”©ì—ì„œ ì¦‰ì‹œ ë¡œë”©ìœ¼ë¡œ ë³€ê²½í•˜ë©´ ëœë‹¤.</li>
</ul>
<br/>
<h3 id="section-12">ì˜ˆì‹œ ì½”ë“œ</h3>
<ul>
<li>
<p>ì—”í‹°í‹° í´ë˜ìŠ¤</p>
<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nd">@Entity</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">Order</span> <span class="o">{</span>
<pre><code>&lt;span class=&quot;nd&quot;&gt;@Id&lt;/span&gt; &lt;span class=&quot;nd&quot;&gt;@GeneratedValue&lt;/span&gt;
&lt;span class=&quot;kd&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;Long&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;id&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;nd&quot;&gt;@ManyToOne&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;fetch&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;FetchType&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;EAGER&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;//ì¦‰ì‹œ ë¡œë”© ì „ëµ&lt;/span&gt;
&lt;span class=&quot;kd&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;Member&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;member&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;// ì£¼ë¬¸ íšŒì›&lt;/span&gt;
</code></pre>
<p><span class="o">}</span>
</code></pre></div></div></p>
</li>
<li>
<p>í”„ë¦¬ì  í…Œì´ì…˜ ë¡œì§</p>
<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nc">Order</span> <span class="n">order</span> <span class="o">=</span> <span class="n">orderService</span><span class="o">.</span><span class="na">findOne</span><span class="o">(</span><span class="n">orderId</span><span class="o">);</span> <span class="c1">//order = ì¤€ì˜ì†ìƒíƒœ</span>
<span class="nc">Member</span> <span class="n">member</span> <span class="o">=</span> <span class="n">order</span><span class="o">.</span><span class="na">getMember</span><span class="o">();</span>
<span class="n">member</span><span class="o">.</span><span class="na">getName</span><span class="o">();</span> <span class="c1">//ì´ë¯¸ ë¡œë”©ëœ ì—”í‹°í‹° ì‚¬ìš©</span>
</code></pre></div></div>
</li>
<li>
<p>ìƒì„¸ ì„¤ëª…</p>
<ul>
<li>ì—”í‹°í‹° ë§¤ë‹ˆì €ë¡œ ì£¼ë¬¸ ì—”í‹°í‹°ë¥¼ ì¡°íšŒí•˜ë©´ ì—°ê´€ëœ <code>member</code> ì—”í‹°í‹°ë„ í•­ìƒ í•¨ê»˜ ë¡œë”©í•œë‹¤.</li>
<li>í•˜ì§€ë§Œ ì´ë ‡ê²Œ ê¸€ë¡œë²Œ í˜ì¹˜ ì „ëµì„ ì¦‰ì‹œ ë¡œë”©ìœ¼ë¡œ ì„¤ì •í•˜ë©´ 2ê°€ì§€ ë¬¸ì œê°€ ë°œìƒí•œë‹¤.</li>
</ul>
</li>
</ul>
<br/>
<h3 id="section-13">ê¸€ë¡œë²Œ í˜ì¹˜ ì „ëµì— ì¦‰ì‹œ ë¡œë”© ì‚¬ìš© ì‹œ ë¬¸ì œì </h3>
<ul>
<li><strong>ì‚¬ìš©í•˜ì§€ ì•ŠëŠ” ì—”í‹°í‹°ë¥¼ ë¡œë”©í•œë‹¤.</strong>
<ul>
<li>ë§Œì•½ í™”ë©´B(ë·°)ì—ì„œ <code>order</code> ì—”í‹°í‹°ë§Œì„ í•„ìš”ë¡œ í•´ë„, <code>member</code> ì—”í‹°í‹°ë¥¼ ë¡œë”©í•˜ê²Œ ëœë‹¤.</li>
</ul>
</li>
<li><strong>N+1 ë¬¸ì œê°€ ë°œìƒí•œë‹¤.</strong>
<ul>
<li>
<p><code>em.find()</code> ë©”ì„œë“œë¡œ ì—”í‹°í‹°ë¥¼ ì¡°íšŒí•  ë•Œ ì—°ê´€ëœ ì—”í‹°í‹°ë¥¼ ë¡œë”©í•˜ëŠ” ì „ëµì´ ì¦‰ì‹œ ë¡œë”©ì´ë©´, <strong>DBì— JOIN ì¿¼ë¦¬ë¥¼ ì‚¬ìš©í•´ì„œ í•œë²ˆì— ì—°ê´€ëœ ì—”í‹°í‹°ê¹Œì§€ ì¡°íšŒ</strong>í•œë‹¤.</p>
</li>
<li>
<p>Java ì˜ˆì‹œ ì½”ë“œ</p>
<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nc">Order</span> <span class="n">order</span> <span class="o">=</span> <span class="n">em</span><span class="o">.</span><span class="na">find</span><span class="o">(</span><span class="nc">Order</span><span class="o">.</span><span class="na">class</span><span class="o">,</span> <span class="mi">1L</span><span class="o">);</span>
</code></pre></div></div>
</li>
<li>
<p>ì‹¤í–‰ëœ SQL</p>
<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">SELECT</span> <span class="n">o</span><span class="p">.</span><span class="o">*</span><span class="p">,</span> <span class="n">m</span><span class="p">.</span><span class="o">*</span>
<span class="k">FROM</span> <span class="k">ORDER</span> <span class="n">o</span>
<span class="k">LEFT</span> <span class="k">OUTER</span> <span class="k">JOIN</span> <span class="n">MEMBER</span> <span class="n">m</span> <span class="k">ON</span> <span class="n">o</span><span class="p">.</span><span class="n">MEMBER_ID</span><span class="o">=</span><span class="n">m</span><span class="p">.</span><span class="n">MEMBER_ID</span>
<span class="k">WHERE</span> <span class="n">o</span><span class="p">.</span><span class="n">ID</span><span class="o">=</span><span class="mi">1</span>
</code></pre></div></div>
</li>
<li>
<p>ì—¬ê¸°ê¹Œì§€ ë³´ì•˜ì„ ë•, ë”±íˆ ë¬¸ì œê°€ ì—†ë‹¤. í•˜ì§€ë§Œ <strong>ë¬¸ì œëŠ” JPQLì„ ì‚¬ìš©í•  ë•Œ ë°œìƒ</strong>í•œë‹¤. ì•„ë˜ ì˜ˆì‹œë¥¼ ë³´ì</p>
</li>
<li>
<p>JPQL ì‚¬ìš© ì˜ˆì‹œ ì½”ë“œ</p>
<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nc">List</span><span class="o">&lt;</span><span class="nc">Order</span><span class="o">&gt;</span> <span class="n">orders</span> <span class="o">=</span> <span class="n">em</span><span class="o">.</span><span class="na">createQuery</span><span class="o">(</span><span class="s">"select o from Order o"</span><span class="o">,</span> <span class="nc">Order</span><span class="o">.</span><span class="na">class</span><span class="o">)</span>
			<span class="o">.</span><span class="na">getResultList</span><span class="o">();</span>
</code></pre></div></div>
</li>
<li>
<p>ì‹¤í–‰ëœ SQL</p>
<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">SELECT</span> <span class="n">o</span><span class="p">.</span><span class="o">*</span> <span class="k">FROM</span> <span class="k">ORDER</span> <span class="n">o</span><span class="p">;</span>
<p><span class="o">//</span><span class="k">JOIN</span><span class="err">ìœ¼ë¡œ</span> <span class="err">ì—°ê´€</span> <span class="err">ë°ì´í„°ë¥¼</span> <span class="err">ì¡°íšŒí•˜ì§€</span> <span class="err">ì•Šê³ </span><span class="p">,</span>
<span class="o">//</span><span class="err">ì¼ì¼íˆ</span> <span class="err">ê°€ì ¸ì˜¨ë‹¤</span><span class="p">.</span>
<span class="k">SELECT</span> <span class="n">m</span> <span class="k">FROM</span> <span class="n">MEMBER</span> <span class="n">m</span> <span class="k">WHERE</span> <span class="n">m</span><span class="p">.</span><span class="n">ID</span><span class="o">=?</span><span class="p">;</span> <span class="o">//</span><span class="n">EAGER</span><span class="err">ë¡œ</span> <span class="err">ì‹¤í–‰ëœ</span> <span class="k">SQL</span>
<span class="k">SELECT</span> <span class="n">m</span> <span class="k">FROM</span> <span class="n">MEMBER</span> <span class="n">m</span> <span class="k">WHERE</span> <span class="n">m</span><span class="p">.</span><span class="n">ID</span><span class="o">=?</span><span class="p">;</span> <span class="o">//</span><span class="n">EAGER</span><span class="err">ë¡œ</span> <span class="err">ì‹¤í–‰ëœ</span> <span class="k">SQL</span>
<span class="k">SELECT</span> <span class="n">m</span> <span class="k">FROM</span> <span class="n">MEMBER</span> <span class="n">m</span> <span class="k">WHERE</span> <span class="n">m</span><span class="p">.</span><span class="n">ID</span><span class="o">=?</span><span class="p">;</span> <span class="o">//</span><span class="n">EAGER</span><span class="err">ë¡œ</span> <span class="err">ì‹¤í–‰ëœ</span> <span class="k">SQL</span>
<span class="k">SELECT</span> <span class="n">m</span> <span class="k">FROM</span> <span class="n">MEMBER</span> <span class="n">m</span> <span class="k">WHERE</span> <span class="n">m</span><span class="p">.</span><span class="n">ID</span><span class="o">=?</span><span class="p">;</span> <span class="o">//</span><span class="n">EAGER</span><span class="err">ë¡œ</span> <span class="err">ì‹¤í–‰ëœ</span> <span class="k">SQL</span>
</code></pre></div></div></p>
</li>
<li>
<p><strong>JPAê°€ JPQLì„ ë¶„ì„í•´ì„œ SQLì„ ìƒì„±í•  ë•ŒëŠ” ê¸€ë¡œë²Œ í˜ì¹˜ ì „ëµì„ ì°¸ê³ í•˜ì§€ ì•Šê³  ì˜¤ì§ JPQLë§Œì„ ì‚¬ìš©í•œë‹¤.</strong></p>
<ul>
<li><strong>ì¦‰ JPQL ì¿¼ë¦¬ ìì²´ì—ë§Œ ì¶©ì‹¤í•˜ê²Œ SQLì„ ë§Œë“ ë‹¤.</strong></li>
</ul>
</li>
<li>
<p>ë‚´ë¶€ íë¦„ ìˆœì„œ</p>
<ol>
<li><code>select o from Order o</code> JPQLì„ ë¶„ì„í•´ì„œ <code>SELECT o.* FROM ORDER o</code> SQLì„ ìƒì„±í•œë‹¤.</li>
<li>DBì—ì„œ ê²°ê³¼ë¥¼ ë°›ì•„ <code>order</code> ì—”í‹°í‹° ì¸ìŠ¤í„´ìŠ¤ë“¤ì„ ìƒì„±í•œë‹¤.</li>
<li><code>Order.member</code> ì˜ ê¸€ë¡œë²Œ í˜ì¹˜ ì „ëµì´ ì¦‰ì‹œ ë¡œë”©ì´ë¯€ë¡œ, <code>order</code> ë¥¼ ë¡œë”©í•˜ëŠ” ì¦‰ì‹œ ì—°ê´€ëœ <code>member</code> ë„ ë¡œë”©í•´ì•¼ í•œë‹¤.</li>
<li>ì—°ê´€ëœ <code>member</code> ë¥¼ ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ì—ì„œ ì°¾ëŠ”ë‹¤.</li>
<li><strong>ë§Œì•½ ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ì— ì—†ìœ¼ë©´, <code>SELECT * FROM MEMBER WHERE id=?</code> SQLì„ ì¡°íšŒí•œ <code>order</code> ì—”í‹°í‹° ìˆ˜ë§Œí¼ ì‹¤í–‰í•œë‹¤.</strong></li>
</ol>
</li>
<li>
<p><strong>ì¦‰ ì¡°íšŒí•œ <code>order</code> ì—”í‹°í‹°ê°€ 10ê°œì´ë©´, <code>member</code> ë¥¼ ì¡°íšŒí•˜ëŠ” SQLë„ 10ë²ˆ ì‹¤í–‰í•œë‹¤.</strong></p>
</li>
<li>
<p>ì´ì²˜ëŸ¼ <strong>ì²˜ìŒ ì¡°íšŒí•œ ë°ì´í„° ìˆ˜ë§Œí¼ ë‹¤ì‹œ SQLì„ ì‚¬ìš©í•´ì„œ ì¡°íšŒí•˜ëŠ” ê²ƒì„ N+1 ë¬¸ì œ</strong>ë¼ê³  í•œë‹¤.</p>
</li>
<li>
<p><strong>ì´ëŸ° N+1 ë¬¸ì œëŠ” JPQL í˜ì¹˜ ì¡°ì¸ìœ¼ë¡œ í•´ê²°í•  ìˆ˜ ìˆë‹¤.</strong></p>
</li>
</ul>
</li>
</ul>
<p><br/><br/></p>
<h2 id="jpql--">ë·°ê°€ í•„ìš”í•œ ì—”í‹°í‹°ë¥¼ ë¯¸ë¦¬ ë¡œë”©í•´ë‘ëŠ” ë°©ë²•: JPQL í˜ì¹˜ ì¡°ì¸</h2>
<h3 id="jpql---1">JPQL í˜ì¹˜ ì¡°ì¸ì´ë€?</h3>
<blockquote>
<p><strong>í˜ì¹˜ ì¡°ì¸ì— ëŒ€í•´ì„œëŠ” <a href="https://taegyunwoo.github.io/jpa/JPA_ObjectQuery_JPQL_Join#17">ì´ì „ ê²Œì‹œê¸€</a>ì„ ì°¸ê³ í•˜ì.</strong></p>
</blockquote>
<br/>
<h3 id="section-14">ì˜ˆì‹œ ì½”ë“œ</h3>
<ul>
<li>
<p>í˜ì¹˜ ì¡°ì¸ ì‚¬ìš© ì „</p>
<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code>JPQL: select o from Order o
SQL:  select * from Order
</code></pre></div></div>
</li>
<li>
<p>í˜ì¹˜ ì¡°ì¸ ì‚¬ìš© í›„</p>
<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code>JPQL:
	select o
	from Order o
	join fetch o.member
<p>SQL:
select o.<em>, m.</em>
from Order o
inner join Member m
on o.MEMBER_ID=m.MEMBER_ID
</code></pre></div></div></p>
</li>
<li>
<p>ìƒì„¸ ì„¤ëª…</p>
<ul>
<li>í˜ì¹˜ ì¡°ì¸ì„ ì‚¬ìš©í•˜ë©´, SQL JOINì„ ì‚¬ìš©í•´ì„œ í˜ì¹˜ ì¡°ì¸ ëŒ€ìƒê¹Œì§€ í•¨ê»˜ ì¡°íšŒí•œë‹¤.</li>
<li><strong>ë”°ë¼ì„œ N+1 ë¬¸ì œê°€ ë°œìƒí•˜ì§€ ì•ŠëŠ”ë‹¤.</strong></li>
</ul>
</li>
</ul>
<br/>
<h3 id="jpql---">JPQL í˜ì¹˜ ì¡°ì¸ì˜ ë‹¨ì </h3>
<ul>
<li><strong>ë¬´ë¶„ë³„í•˜ê²Œ í•´ë‹¹ ë°©ë²•ì„ ì‚¬ìš©í•˜ë©´, í™”ë©´ì— ë§ì¶˜ ë ˆíŒŒì§€í† ë¦¬ ë©”ì„œë“œê°€ ì¦ê°€í•  ìˆ˜ ìˆë‹¤.</strong>
<ul>
<li>ê²°êµ­ í”„ë¦¬ì  í…Œì´ì…˜ ê³„ì¸µì´ ì•Œê²Œ ëª¨ë¥´ê²Œ ë°ì´í„° ì ‘ê·¼ ê³„ì¸µì„ ì¹¨ë²”í•˜ê²Œ ëœë‹¤.</li>
</ul>
</li>
<li>ì˜ˆì‹œ
<ul>
<li>í™”ë©´ AëŠ” <code>order</code> ì—”í‹°í‹°ë§Œ í•„ìš”ë¡œ í•œë‹¤.</li>
<li>í™”ë©´ BëŠ” <code>order</code> ì™€ ì—°ê´€ëœ ì—”í‹°í‹° <code>member</code> ë‘˜ ë‹¤ í•„ìš”í•˜ë‹¤.</li>
<li>ê²°êµ­ ë‘ í™”ë©´ì„ ëª¨ë‘ ìµœì í™”í•˜ê¸° ìœ„í•´, ì´ ë‘˜ì„ ì§€ì—° ë¡œë”©ìœ¼ë¡œ ì„¤ì •í•˜ê³  ë ˆíŒŒì§€í† ë¦¬ì— ì•„ë˜ 2ê°€ì§€ ë©”ì„œë“œë¥¼ ë§Œë“¤ê²Œ ëœë‹¤.
<ul>
<li><code>order</code>ë§Œ ì¡°íšŒí•˜ëŠ” <code>repository.findOrder()</code> ë©”ì„œë“œ<br />
(í™”ë©´ Aë¥¼ ìœ„í•´)</li>
<li><code>order</code>ì™€ <code>member</code> ëª¨ë‘ ì¡°íšŒí•˜ëŠ” <code>repository.findOrderWithMember()</code> ë©”ì„œë“œ<br />
(í™”ë©´ Bë¥¼ ìœ„í•´)</li>
</ul>
</li>
</ul>
</li>
<li><strong>ìœ„ ì˜ˆì‹œì²˜ëŸ¼ ë©”ì„œë“œë¥¼ ê°ê° ë§Œë“¤ë©´ ìµœì í™”ëŠ” í•  ìˆ˜ ìˆì§€ë§Œ, ë·°ì™€ ë ˆíŒŒì§€í† ë¦¬ ê°„ì— ë…¼ë¦¬ì ì¸ ì˜ì¡´ê´€ê³„ê°€ ë°œìƒí•œë‹¤.</strong></li>
</ul>
<br/>
<h3 id="jpql-----">JPQL í˜ì¹˜ ì¡°ì¸ ë‹¨ì  ë³´ì™„ ë°©ë²•</h3>
<p>ìœ„ ì˜ˆì‹œë¥¼ ì‚¬ìš©í•˜ì—¬, ë‹¨ì ì„ ë³´ì™„í•˜ëŠ” ë°©ë²•ì— ëŒ€í•´ ì„¤ëª…í•˜ê² ë‹¤.</p>
<ul>
<li><code>repository.findOrder()</code> í•˜ë‚˜ë§Œ ë§Œë“ ë‹¤.
<ul>
<li><strong>ì—¬ê¸°ì„œ í˜ì¹˜ ì¡°ì¸ìœ¼ë¡œ <code>order</code> ì™€ <code>member</code> ë¥¼ í•¨ê»˜ ë¡œë”©í•œë‹¤.</strong></li>
</ul>
</li>
<li>ê·¸ë¦¬ê³  í™”ë©´ Aì™€ B ë‘˜ ë‹¤ <code>repository.findOrder()</code> ë©”ì„œë“œë¥¼ ì‚¬ìš©í•˜ë„ë¡ í•œë‹¤.
<ul>
<li>ë¬¼ë¡  <code>order</code> ì—”í‹°í‹°ë§Œ í•„ìš”í•œ í™”ë©´ BëŠ” ì•½ê°„ì˜ ë¡œë”© ì‹œê°„ì´ ì¦ê°€í•˜ê² ì§€ë§Œ, í˜ì¹˜ ì¡°ì¸ì€ JOINì„ ì‚¬ìš©í•´ì„œ ì¿¼ë¦¬ í•œë²ˆìœ¼ë¡œ í•„ìš”í•œ ë°ì´í„°ë¥¼ ì¡°íšŒí•˜ê¸° ë•Œë¬¸ì—, ì„±ëŠ¥ì— ë¯¸ì¹˜ëŠ” ì˜í–¥ì€ ë¯¸ë¹„í•˜ë‹¤.</li>
</ul>
</li>
</ul>
<p><br/><br/></p>
<h2 id="section-15">ë·°ê°€ í•„ìš”í•œ ì—”í‹°í‹°ë¥¼ ë¯¸ë¦¬ ë¡œë”©í•´ë‘ëŠ” ë°©ë²•: ê°•ì œë¡œ ì´ˆê¸°í™”</h2>
<h3 id="section-16">ê°•ì œë¡œ ì´ˆê¸°í™”í•˜ê¸°?</h3>
<ul>
<li>ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ê°€ ì‚´ì•„ìˆì„ ë•Œ, í”„ë¦¬ì  í…Œì´ì…˜ ê³„ì¸µì´ í•„ìš”í•œ ì—”í‹°í‹°ë¥¼ ê°•ì œë¡œ ì´ˆê¸°í™”í•´ì„œ ë°˜í™˜í•˜ëŠ” ë°©ë²•ì´ë‹¤.
<ul>
<li><strong>ì¦‰, í”„ë¡ì‹œ ê°ì²´ë¥¼ ê°•ì œë¡œ ë¡œë”©ì‹œí‚¤ê³  í”„ë¦¬ì  í…Œì´ì…˜ ê³„ì¸µì—ê²Œ ì „ë‹¬í•´ì£¼ëŠ” ë°©ë²•ì´ë‹¤.</strong></li>
</ul>
</li>
</ul>
<blockquote>
<p><strong>í”„ë¡ì‹œ ê°ì²´ëŠ” <a href="https://taegyunwoo.github.io/jpa/JPA_Proxy">ì´ì „ ê²Œì‹œê¸€ì„ ì°¸ê³ </a>í•˜ì.</strong></p>
</blockquote>
<br/>
<h3 id="section-17">ì˜ˆì‹œ ì½”ë“œ</h3>
<ul>
<li>
<p>ì„œë¹„ìŠ¤ ê³„ì¸µì˜ í´ë˜ìŠ¤</p>
<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nd">@Service</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">OrderService</span> <span class="o">{</span>
<pre><code>&lt;span class=&quot;nd&quot;&gt;@Autowired&lt;/span&gt;
&lt;span class=&quot;kd&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;OrderRepository&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;orderRepository&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;nd&quot;&gt;@Transactional&lt;/span&gt;
&lt;span class=&quot;kd&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;Order&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;findOrder&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;Long&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;id&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
	&lt;span class=&quot;nc&quot;&gt;Order&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;order&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;orderRepository&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;findOrder&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;id&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
	&lt;span class=&quot;n&quot;&gt;order&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;getMember&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;().&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;getName&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;();&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;//í”„ë¡ì‹œ ê°ì²´ë¥¼ ê°•ì œë¡œ ì´ˆê¸°í™”í•œë‹¤!&lt;/span&gt;
	&lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;order&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
</code></pre>
<p><span class="o">}</span>
</code></pre></div></div></p>
</li>
<li>
<p>ìƒì„¸ ì„¤ëª…</p>
<ul>
<li>
<p>í”„ë¡ì‹œ ê°ì²´ëŠ” <code>member.getName()</code> ì²˜ëŸ¼ ì§ì ‘ ì‚¬ìš©í•˜ëŠ” ì‹œì ì— ì´ˆê¸°í™”ëœë‹¤.</p>
</li>
<li>
<p>íŠ¸ëœì­ì…˜ ë‹¨ê³„ì—ì„  <code>order</code> ì—”í‹°í‹°ê°€ ì˜ì† ìƒíƒœì´ë¯€ë¡œ, í”„ë¡ì‹œ ê°ì²´ë¥¼ ì´ˆê¸°í™”í•  ìˆ˜ ìˆë‹¤.</p>
</li>
<li>
<p>ê·¸ë¦¬ê³  ì´ë¯¸ ì´ˆê¸°í™”ëœ í”„ë¡ì‹œ ê°ì²´ë¥¼ í”„ë¦¬ì  í…Œì´ì…˜ ê³„ì¸µì— ì „ë‹¬í•˜ë©´, ì¤€ì˜ì† ìƒíƒœì—ì„œë„ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.</p>
</li>
<li>
<p>í•˜ì´ë²„ë„¤ì´íŠ¸ë¥¼ ì‚¬ìš©í•˜ë©´, <code>initialize()</code> ë©”ì„œë“œë¥¼ ì‚¬ìš©í•´ì„œ í”„ë¡ì‹œë¥¼ ê°•ì œë¡œ ì´ˆê¸°í™”í•  ìˆ˜ë„ ìˆë‹¤.</p>
<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">org</span><span class="o">.</span><span class="na">hibernate</span><span class="o">.</span><span class="na">Hibernate</span><span class="o">.</span><span class="na">initialize</span><span class="o">(</span><span class="n">order</span><span class="o">.</span><span class="na">getMember</span><span class="o">());</span> <span class="c1">//í”„ë¡ì‹œ ì´ˆê¸°í™”</span>
</code></pre></div></div>
<blockquote>
<p>JPA í‘œì¤€ì—ëŠ” í”„ë¡ì‹œ ì´ˆê¸°í™” ë©”ì„œë“œê°€ ì—†ë‹¤.<br />
ë‹¨ìˆœíˆ ì´ˆê¸°í™” ì—¬ë¶€ë§Œ í™•ì¸í•  ìˆ˜ ìˆë‹¤. (ê´€ë ¨ ë©”ì„œë“œëŠ” ë”°ë¡œ ì°¾ì•„ë³´ì.)</p>
</blockquote>
</li>
</ul>
</li>
</ul>
<br/>
<h3 id="section-18">ê°•ì œë¡œ ì´ˆê¸°í™” ì‹œ ë°œìƒí•˜ëŠ” ë¬¸ì œ</h3>
<ul>
<li>ìœ„ ì˜ˆì‹œë¥¼ ë‹¤ì‹œë³´ì.</li>
<li><strong>í”„ë¡ì‹œë¥¼ ì´ˆê¸°í™”í•˜ëŠ” ì—­í• ì„ ì„œë¹„ìŠ¤ ê³„ì¸µì´ ë‹´ë‹¹í•˜ë©´, ë·°ê°€ í•„ìš”í•œ ì—”í‹°í‹°ì— ë”°ë¼ ì„œë¹„ìŠ¤ ê³„ì¸µì˜ ë¡œì§ì„ ë³€ê²½í•´ì•¼ í•œë‹¤.</strong>
<ul>
<li><strong>ì¦‰ í”„ë¦¬ì  í…Œì´ì…˜ ê³„ì¸µì´ ì„œë¹„ìŠ¤ ê³„ì¸µì„ ì¹¨ë²”í•˜ê²Œ ëœë‹¤.</strong></li>
</ul>
</li>
<li>ë”°ë¼ì„œ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì„ ë‹´ë‹¹í•˜ëŠ” ì„œë¹„ìŠ¤ ê³„ì¸µì—ì„œ â€˜í”„ë¦¬ì  í…Œì´ì…˜ ê³„ì¸µì„ ìœ„í•œ í”„ë¡ì‹œ ì´ˆê¸°í™” ì—­í• â€™ì„ ë¶„ë¦¬í•´ì•¼ í•œë‹¤.
<ul>
<li><strong>FACADE ê³„ì¸µì´ ê·¸ ì—­í• ì„ ìˆ˜í–‰í•œë‹¤.</strong></li>
</ul>
</li>
</ul>
<br/>
<h3 id="facade--">FACADE ê³„ì¸µ ì¶”ê°€</h3>
<ul>
<li>
<p>FACADE ê³„ì¸µì´ë€?</p>
<p><img src="/assets/img/2021-12-06-JPA_WebAppAndPersistence/Untitled%204.png" alt="Untitled" /></p>
<ul>
<li>ìœ„ ê·¸ë¦¼ì€ í”„ë¦¬ì  í…Œì´ì…˜ ê³„ì¸µê³¼ ì„œë¹„ìŠ¤ ê³„ì¸µ ì‚¬ì´ì— FACADE ê³„ì¸µì„ í•˜ë‚˜ ë” ë‘ëŠ” ë°©ë²•ì„ ë‚˜íƒ€ë‚¸ë‹¤.</li>
<li><strong>ì´ì œë¶€í„° â€˜ë·°ë¥¼ ìœ„í•œ í”„ë¡ì‹œ ì´ˆê¸°í™”â€™ëŠ” ì´ê³³ì—ì„œ ë‹´ë‹¹í•œë‹¤.</strong></li>
<li><strong>ì´ë¥¼ í†µí•´, ì„œë¹„ìŠ¤ ê³„ì¸µê³¼ í”„ë¦¬ì  í…Œì´ì…˜ ê³„ì¸µ ì‚¬ì´ì— ë…¼ë¦¬ì ì¸ ì˜ì¡´ì„±ì„ ë¶„ë¦¬í•  ìˆ˜ ìˆë‹¤.</strong></li>
<li>í”„ë¡ì‹œë¥¼ ì´ˆê¸°í™”í•˜ë ¤ë©´ ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ê°€ í•„ìš”í•˜ë¯€ë¡œ, FACADE ì—ì„œ íŠ¸ëœì­ì…˜ì„ ì‹œì‘í•´ì•¼ í•œë‹¤.</li>
</ul>
</li>
</ul>
<br/>
<ul>
<li>FACADE ê³„ì¸µì˜ ì—­í• ê³¼ íŠ¹ì§•
<ul>
<li>í”„ë¦¬ì  í…Œì´ì…˜ ê³„ì¸µê³¼ ë„ë©”ì¸ ëª¨ë¸ ê³„ì¸µ ê°„ì˜ ë…¼ë¦¬ì  ì˜ì¡´ì„±ì„ ë¶„ë¦¬í•´ì¤€ë‹¤.</li>
<li>í”„ë¦¬ì  í…Œì´ì…˜ ê³„ì¸µì—ì„œ í•„ìš”í•œ í”„ë¡ì‹œ ê°ì²´ë¥¼ ì´ˆê¸°í™”í•œë‹¤.</li>
<li>ì„œë¹„ìŠ¤ ê³„ì¸µì„ í˜¸ì¶œí•´ì„œ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì„ ì‹¤í–‰í•œë‹¤.</li>
<li>ë ˆíŒŒì§€í† ë¦¬ë¥¼ ì§ì ‘ í˜¸ì¶œí•´ì„œ ë·°ê°€ ìš”êµ¬í•˜ëŠ” ì—”í‹°í‹°ë¥¼ ì°¾ëŠ”ë‹¤.</li>
</ul>
</li>
</ul>
<br/>
<ul>
<li>FACADE ê³„ì¸µ ì¶”ê°€ ì˜ˆì‹œ ì½”ë“œ
<ul>
<li>
<p>FACADE ê³„ì¸µ í´ë˜ìŠ¤</p>
<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">public</span> <span class="kd">class</span> <span class="nc">OrderFacade</span> <span class="o">{</span>
<pre><code>&lt;span class=&quot;nd&quot;&gt;@Autowired&lt;/span&gt;
&lt;span class=&quot;nc&quot;&gt;OrderService&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;orderService&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;kd&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;Order&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;findOrder&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;Long&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;id&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
	&lt;span class=&quot;nc&quot;&gt;Order&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;order&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;orderService&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;findOrder&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;id&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
	&lt;span class=&quot;c1&quot;&gt;//í”„ë¦¬ì  í…Œì´ì…˜ ê³„ì¸µì´ í•„ìš”í•œ í”„ë¡ì‹œ ê°ì²´ë¥¼ ê°•ì œë¡œ ì´ˆê¸°í™”í•œë‹¤.&lt;/span&gt;
	&lt;span class=&quot;n&quot;&gt;order&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;getMember&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;().&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;getName&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;();&lt;/span&gt;
	&lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;order&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
</code></pre>
<p><span class="o">}</span>
</code></pre></div></div></p>
</li>
<li>
<p>ì„œë¹„ìŠ¤ ê³„ì¸µ í´ë˜ìŠ¤</p>
<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">public</span> <span class="kd">class</span> <span class="nc">OrderService</span> <span class="o">{</span>
<pre><code>&lt;span class=&quot;kd&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;Order&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;findOrder&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;Long&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;id&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
	&lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;orderRepository&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;findOrder&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;id&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
</code></pre>
<p><span class="o">}</span>
</code></pre></div></div></p>
</li>
<li>
<p>ìƒì„¸ ì„¤ëª…</p>
<ul>
<li><code>OrderService</code> ì— ìˆë˜ í”„ë¡ì‹œ ì´ˆê¸°í™” ì½”ë“œë¥¼ <code>OrderFacade</code> ë¡œ ì´ë™í–ˆë‹¤.</li>
<li>FACADE ê³„ì¸µì„ ì‚¬ìš©í•´ì„œ ì„œë¹„ìŠ¤ ê³„ì¸µê³¼ í”„ë¦¬ì  í…Œì´ì…˜ ê³„ì¸µ ê°„ì— ë…¼ë¦¬ì  ì˜ì¡´ê´€ê³„ë¥¼ ì œê±°í–ˆë‹¤.</li>
</ul>
</li>
</ul>
</li>
</ul>
<br/>
<ul>
<li>FACADEì˜ ë‹¨ì 
<ul>
<li><strong>ì¤‘ê°„ì— ê³„ì¸µì´ í•˜ë‚˜ ë” ë¼ì–´ë“ ë‹¤ëŠ” ì ì´ ìµœëŒ€ ë‹¨ì ì´ë‹¤.</strong></li>
</ul>
</li>
</ul>
<p><br/><br/></p>
<h2 id="section-19">ì¤€ì˜ì† ìƒíƒœì™€ ì§€ì—° ë¡œë”©ì˜ ë¬¸ì œì </h2>
<h3 id="section-20">ì§€ê¸ˆê¹Œì§€ ì•Œì•„ë³¸ ë°©ë²•ë“¤ì— ëŒ€í•œ ë¬¸ì œ</h3>
<ul>
<li>ì§€ê¸ˆê¹Œì§€ ì¤€ì˜ì† ìƒíƒœì¼ ë•Œ, ì§€ì—° ë¡œë”© ë¬¸ì œë¥¼ ê·¹ë³µí•˜ê¸° ìœ„í•´ ì—¬ëŸ¬ê°€ì§€ ì „ëµì„ ì•Œì•„ë³´ì•˜ë‹¤.</li>
<li>í•˜ì§€ë§Œ ì´ëŸ¬í•œ ë°©ë²•ë“¤ì€ ì˜¤ë¥˜ê°€ ë°œìƒí•  ê°€ëŠ¥ì„±ì´ ë†’ë‹¤.
<ul>
<li>ì™œëƒí•˜ë©´ ë³´í†µ ë·°ë¥¼ ê°œë°œí•  ë•ŒëŠ” ì—”í‹°í‹° í´ë˜ìŠ¤ë¥¼ ë³´ê³  ê°œë°œí•˜ì§€, ì´ê²ƒì´ ì´ˆê¸°í™”ë˜ì–´ ìˆëŠ”ì§€ í™•ì¸í•˜ê¸° ìœ„í•´ FACADEë‚˜ ì„œë¹„ìŠ¤ í´ë˜ìŠ¤ë¥¼ ì—´ì–´ë³´ì§€ëŠ” ì•Šê¸° ë•Œë¬¸ì´ë‹¤.</li>
</ul>
</li>
</ul>
<br/>
<h3 id="section-21">ë” ë‚˜ì€ ë°©ë²•</h3>
<ul>
<li><strong>ëª¨ë“  ë¬¸ì œëŠ” ì—”í‹°í‹°ê°€ í”„ë¦¬ì  í…Œì´ì…˜ ê³„ì¸µì—ì„œ ì¤€ì˜ì† ìƒíƒœì´ê¸° ë•Œë¬¸ì— ë°œìƒí•œë‹¤.</strong></li>
<li><strong>ë”°ë¼ì„œ ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ê°€ ë·°ê¹Œì§€ ì‚´ì•„ìˆê²Œ ì—´ì–´ë‘ë©´ ë˜ëŠ” ê²ƒ ì•„ë‹Œê°€?</strong></li>
<li>ê·¸ëŸ¼ ë·°ì—ì„œë„ ì§€ì—° ë¡œë”©ì„ ì‚¬ìš©í•  ìˆ˜ ìˆì„ ê²ƒì´ë‹¤.
<ul>
<li>ê·¸ë¦¬ê³  ì´ê²ƒì„ OSIVë¼ê³  í•œë‹¤.</li>
</ul>
</li>
</ul>
<p><br/><br/></p>
<h2 id="osiv">OSIV</h2>
<h3 id="osiv-1">OSIVë€?</h3>
<ul>
<li>OSIV = Open Session In View</li>
<li>ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ë¥¼ ë·°ê¹Œì§€ ì—´ì–´ë‘”ë‹¤ëŠ” ëœ»ì´ë‹¤.</li>
<li>ë”°ë¼ì„œ ë·°ì—ì„œë„ ì§€ì—° ë¡œë”©ì„ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.</li>
</ul>
<br/>
<h3 id="osiv---">ê³¼ê±° OSIV: ìš”ì²­ ë‹¹ íŠ¸ëœì­ì…˜</h3>
<ul>
<li>
<p>OSIVì˜ í•µì‹¬</p>
<ul>
<li>ë·°ì—ì„œë„ ì§€ì—° ë¡œë”©ì´ ê°€ëŠ¥í•˜ë„ë¡ í•˜ëŠ” ê²ƒ</li>
</ul>
</li>
<li>
<p>ë‹¨ìˆœí•œ êµ¬í˜„ ë°©ë²•</p>
<ul>
<li>í´ë¼ì´ì–¸íŠ¸ ìš”ì²­ì´ ë“¤ì–´ì˜¤ìë§ˆì ì„œë¸”ë¦¿ í•„í„°ë‚˜ ìŠ¤í”„ë§ ì¸í„°ì…‰í„°ì—ì„œ íŠ¸ëœì­ì…˜ì„ ì‹œì‘í•˜ê³  ìš”ì²­ì´ ëë‚  ë•Œ íŠ¸ëœì­ì…˜ë„ ëë‚¸ë‹¤.</li>
<li>ì´ê²ƒì„ <strong>ìš”ì²­ ë‹¹ íŠ¸ëœì­ì…˜ ë°©ì‹ì˜ OSIV</strong> ë¼ê³  í•œë‹¤.</li>
</ul>
</li>
<li>
<p>ìš”ì²­ ë‹¹ íŠ¸ëœì­ì…˜ ë°©ì‹ì˜ OSIV ì‹œê°í™”</p>
<p><img src="/assets/img/2021-12-06-JPA_WebAppAndPersistence/Untitled%205.png" alt="Untitled" /></p>
<ul>
<li><strong>ìš”ì²­ì´ ë“¤ì–´ì˜¤ìë§ˆì ì„œë¸”ë¦¿ í•„í„°ë‚˜ ìŠ¤í”„ë§ ì¸í„°ì…‰í„°ì—ì„œ ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ë¥¼ ë§Œë“¤ê³ , íŠ¸ëœì­ì…˜ì„ ì‹œì‘í•˜ê³  ìš”ì²­ì´ ëë‚  ë•Œ íŠ¸ëœì­ì…˜ê³¼ ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ë¥¼ í•¨ê»˜ ì¢…ë£Œí•œë‹¤.</strong></li>
<li>ì´ì œ ë·°ì—ì„œë„ ì§€ì—° ë¡œë”©ì„ í•  ìˆ˜ ìˆìœ¼ë¯€ë¡œ ì—”í‹°í‹°ë¥¼ ë¯¸ë¦¬ ì´ˆê¸°í™”í•  í•„ìš”ê°€ ì—†ë‹¤.</li>
</ul>
</li>
</ul>
<br/>
<h3 id="osiv-">ìš”ì²­ ë‹¹ íŠ¸ëœì­ì…˜ ë°©ì‹ì˜ OSIV ë¬¸ì œì </h3>
<ul>
<li>
<p>ì»¨íŠ¸ë¡¤ëŸ¬ë‚˜ ë·° ê°™ì€ í”„ë¦¬ì  í…Œì´ì…˜ ê³„ì¸µì´ ì—”í‹°í‹°ë¥¼ ë³€ê²½í•  ìˆ˜ ìˆë‹¤.</p>
</li>
<li>
<p>ì•„ë˜ ì˜ˆì‹œë¥¼ ë³´ì.</p>
</li>
<li>
<p>ì˜ˆì‹œ) ê³ ê° ì˜ˆì œë¥¼ ì¶œë ¥í•´ì•¼ í•˜ëŠ”ë°, ë³´ì•ˆìƒì˜ ì´ìœ ë¡œ ê³ ê°ì´ë¦„ì„ XXXë¡œ ë³€ê²½í•´ì„œ ì¶œë ¥í•´ì•¼ í•œë‹¤ê³  ê°€ì •í•˜ì.</p>
<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">public</span> <span class="kd">class</span> <span class="nc">MemberController</span> <span class="o">{</span>
<pre><code>&lt;span class=&quot;kd&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;String&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;viewMember&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;Long&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;id&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
	&lt;span class=&quot;nc&quot;&gt;Member&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;member&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;memberService&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;getMember&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;id&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
	&lt;span class=&quot;n&quot;&gt;member&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;setName&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;XXX&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;//ë³´ì•ˆìƒ ì´ìœ ë¡œ ê³ ê° ì´ë¦„ì„ XXXë¡œ ë³€ê²½í–ˆë‹¤.&lt;/span&gt;
	&lt;span class=&quot;n&quot;&gt;model&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;addAttribute&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;member&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;member&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;

	&lt;span class=&quot;c1&quot;&gt;//ì´í•˜ ìƒëµ...&lt;/span&gt;

&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
</code></pre>
<p><span class="o">}</span>
</code></pre></div></div></p>
<ul>
<li>ì»¨íŠ¸ë¡¤ëŸ¬ì—ì„œ ê³ ê° ì´ë¦„ì„ XXXë¡œ ë³€ê²½í•´ì„œ ë Œë”ë§í•  ë·°ì— ë„˜ê²¨ì£¼ì—ˆë‹¤.</li>
<li>ê°œë°œìì˜ ì˜ë„
<ul>
<li>ë‹¨ìˆœíˆ ë·°ì— ë…¸ì¶œí•  ë•Œë§Œ ê³ ê° ì´ë¦„ì„ XXXë¡œ ë³€ê²½í•˜ê³  ì‹¶ì€ ê²ƒì´ì§€, ì‹¤ì œ DBì— ìˆëŠ” ê³ ê° ì´ë¦„ê¹Œì§€ ë³€ê²½í•˜ê³  ì‹¶ì€ ê²ƒì€ ì•„ë‹ˆì—ˆë‹¤.</li>
</ul>
</li>
<li>í•˜ì§€ë§Œ ìš”ì²­ë‹¹ íŠ¸ëœì­ì…˜ ë°©ì‹ì˜ OSIVëŠ” ë·°ë¥¼ ë Œë”ë§í•œ í›„ì— íŠ¸ëœì­ì…˜ì„ ì»¤ë°‹í•œë‹¤.</li>
<li>íŠ¸ëœì­ì…˜ì„ ì»¤ë°‹í•˜ë©´ ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ë¥¼ í”ŒëŸ¬ì‹œí•˜ê³ , Dirty Checkingì´ ë™ì‘í•´ì„œ ì‹¤ì œ DBì— ë°˜ì˜í•´ë²„ë¦°ë‹¤.</li>
<li>ì¦‰ DBì˜ ê³ ê°ì´ë¦„ì´ XXXë¡œ ë³€ê²½ëœë‹¤.</li>
</ul>
</li>
<li>
<p>ì´ëŸ° ë¬¸ì œë¥¼ í•´ê²°í•˜ë ¤ë©´, í”„ë¦¬ì  í…Œì´ì…˜ ê³„ì¸µì—ì„œ ì—”í‹°í‹°ë¥¼ ìˆ˜ì •í•˜ì§€ ëª»í•˜ê²Œ ë§‰ìœ¼ë©´ ëœë‹¤.</p>
</li>
<li>
<p>í”„ë¦¬ì  í…Œì´ì…˜ ê³„ì¸µì—ì„œ ì—”í‹°í‹°ë¥¼ ìˆ˜ì •í•˜ì§€ ëª»í•˜ê²Œ ë§‰ëŠ” ë°©ë²•ë“¤</p>
<ul>
<li>ì—”í‹°í‹°ë¥¼ ì½ê¸° ì „ìš© ì¸í„°í˜ì´ìŠ¤ë¡œ ì œê³µí•˜ê¸°</li>
<li>ì—”í‹°í‹° ë˜í•‘</li>
<li>DTOë§Œ ë°˜í™˜</li>
</ul>
</li>
<li>
<p><strong>í•˜ì§€ë§Œ ì´ëŸ¬í•œ ë°©ë²•ë“¤ì€ ë„ˆë¬´ ë²ˆê±°ë¡­ê³ , íš¨ìœ¨ì ì´ì§€ ì•Šë‹¤.</strong></p>
<ul>
<li>ë”°ë¼ì„œ ë¹„ì¦ˆë‹ˆìŠ¤ ê³„ì¸µì—ì„œë§Œ íŠ¸ëœì­ì…˜ì„ ìœ ì§€í•˜ëŠ” ë°©ì‹ì˜ OSIVë¥¼ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ì¢‹ë‹¤.</li>
<li><strong>ìŠ¤í”„ë§ í”„ë ˆì„ì›Œí¬ê°€ ì œê³µí•˜ëŠ” OSIVê°€ ë°”ë¡œ ì´ëŸ° ë°©ì‹ì„ ì‚¬ìš©í•˜ëŠ” OSIVì´ë‹¤.</strong></li>
</ul>
</li>
</ul>
<br/>
<h3 id="osiv----1">ìŠ¤í”„ë§ OSIV: ë¹„ì¦ˆë‹ˆìŠ¤ ê³„ì¸µ íŠ¸ëœì­ì…˜</h3>
<p>OSIVë¥¼ ì„œë¸”ë¦¿ í•„í„°ì—ì„œ ì ìš©í• ì§€, ìŠ¤í”„ë§ ì¸í„°ì…‰í„°ì—ì„œ ì ìš©í• ì§€ì— ë”°ë¼ ì›í•˜ëŠ” í´ë˜ìŠ¤ë¥¼ ì„ íƒí•´ì„œ ì‚¬ìš©í•˜ë©´ ëœë‹¤.</p>
<ul>
<li>
<p>ìŠ¤í”„ë§ í”„ë ˆì„ì›Œí¬ê°€ ì œê³µí•˜ëŠ” OSIV ë¼ì´ë¸ŒëŸ¬ë¦¬ ì¢…ë¥˜</p>
<ul>
<li><strong>í•˜ì´ë²„ë„¤ì´íŠ¸ OSIV ì„œë¸”ë¦¿ í•„í„°</strong>
<ul>
<li><code>org.springframework.orm.hibernate4.support.OpenSessionInViewFilter</code></li>
</ul>
</li>
<li><strong>í•˜ì´ë²„ë„¤ì´íŠ¸ OSIV ìŠ¤í”„ë§ ì¸í„°ì…‰í„°</strong>
<ul>
<li><code>org.springframework.orm.hibernate4.support.OpenSessionInViewInterceptor</code></li>
</ul>
</li>
<li><strong>JPA OEIV ì„œë¸”ë¦¿ í•„í„°</strong>
<ul>
<li><code>org.springframework.orm.jpa.support.OpenSessionInViewFilter</code></li>
</ul>
</li>
<li><strong>JPA OEIV ìŠ¤í”„ë§ ì¸í„°ì…‰í„°</strong>
<ul>
<li><code>org.springframework.orm.jpa.support.OpenSessionInViewInterceptor</code></li>
</ul>
</li>
</ul>
</li>
<li>
<p>ìŠ¤í”„ë§ OSIV ì ìš©í•˜ê¸°</p>
<ul>
<li>ì„œë¸”ë¦¿ í•„í„°ì— ì ìš©í•˜ê¸°
<ul>
<li><code>OpenEntityManagerInViewFilter</code> ë¥¼ ì„œë¸”ë¦¿ í•„í„°ì— ë“±ë¡í•œë‹¤.</li>
</ul>
</li>
<li>ìŠ¤í”„ë§ ì¸í„°ì…‰í„°ì— ì ìš©í•˜ê¸°
<ul>
<li><code>OpenEntityManagerInViewInterceptor</code> ë¥¼ ìŠ¤í”„ë§ ì¸í„°ì…‰í„°ì— ë“±ë¡í•œë‹¤.</li>
</ul>
</li>
</ul>
</li>
</ul>
<br/>
<h3 id="osiv--1">ìŠ¤í”„ë§ OSIV ë¶„ì„</h3>
<ul>
<li>
<p>ì´ì „ì— ì„¤ëª…í–ˆë˜ ìš”ì²­ ë‹¹ íŠ¸ëœì­ì…˜ ë°©ì‹ì˜ OSIVëŠ” í”„ë¦¬ì  í…Œì´ì…˜ ê³„ì¸µì—ì„œ ë°ì´í„°ë¥¼ ë³€ê²½í•  ìˆ˜ ìˆë‹¤ëŠ” ë¬¸ì œê°€ ìˆë‹¤.</p>
</li>
<li>
<p><strong>ìŠ¤í”„ë§ OSIVì€ ë¹„ì¦ˆë‹ˆìŠ¤ ê³„ì¸µì—ì„œ íŠ¸ëœì­ì…˜ì„ ì‚¬ìš©í•˜ëŠ” OSIVì´ë‹¤.</strong></p>
<ul>
<li>ì¦‰ ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ëŠ” ìš”ì²­ì²˜ë¦¬ê°€ ëë‚  ë•Œê¹Œì§€ ìœ ì§€ë˜ì§€ë§Œ, íŠ¸ëœì­ì…˜ì€ ë¹„ì¦ˆë‹ˆìŠ¤ ê³„ì¸µì—ì„œë§Œ ë™ì‘í•œë‹¤.</li>
</ul>
<p><img src="/assets/img/2021-12-06-JPA_WebAppAndPersistence/Untitled%206.png" alt="Untitled" /></p>
</li>
<li>
<p>ë™ì‘ ì›ë¦¬</p>
<ol>
<li>í´ë¼ì´ì–¸íŠ¸ ìš”ì²­ì´ ë“¤ì–´ì˜¤ë©´ ì„œë¸”ë¦¿ í•„í„°ë‚˜, ìŠ¤í”„ë§ ì¸í„°ì…‰í„°ì—ì„œ <strong>ì˜ì†ì„± ì»¨íƒìŠ¤íŠ¸ë¥¼ ìƒì„±</strong>í•œë‹¤.
<ul>
<li><strong>ë‹¨ ì´ë•Œ íŠ¸ëœì­ì…˜ì€ ì‹œì‘í•˜ì§€ ì•ŠëŠ”ë‹¤.</strong></li>
</ul>
</li>
<li>ì„œë¹„ìŠ¤ ê³„ì¸µì—ì„œ <code>@Transactional</code> ë¡œ íŠ¸ëœì­ì…˜ì„ ì‹œì‘í•  ë•Œ, <strong>1ë²ˆì—ì„œ ë¯¸ë¦¬ ìƒì„±í•´ë‘” ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ë¥¼ ì°¾ì•„ì™€ì„œ íŠ¸ëœì­ì…˜ì„ ì‹œì‘</strong>í•œë‹¤.</li>
<li>ì„œë¹„ìŠ¤ ê³„ì¸µì´ ëë‚˜ë©´ íŠ¸ëœì­ì…˜ì„ ì»¤ë°‹í•˜ê³ , ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ë¥¼ í”ŒëŸ¬ì‹œí•œë‹¤.
<ul>
<li><strong>ë‹¨ ì´ë•Œ íŠ¸ëœì­ì…˜ì€ ëë‚´ì§€ë§Œ, ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ëŠ” ì¢…ë£Œí•˜ì§€ ì•ŠëŠ”ë‹¤.</strong></li>
</ul>
</li>
<li>ì»¨íŠ¸ë¡¤ëŸ¬ì™€ ë·°ê¹Œì§€ ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ê°€ ìœ ì§€ë˜ë¯€ë¡œ, <strong>ì¡°íšŒí•œ ì—”í‹°í‹°ëŠ” ì˜ì† ìƒíƒœë¥¼ ìœ ì§€</strong>í•œë‹¤.</li>
<li>ì„œë¸”ë¦¿ í•„í„°ë‚˜ ìŠ¤í”„ë§ ì¸í„°ì…‰í„°ë¡œ ìš”ì²­ì´ ëŒì•„ì˜¤ë©´, <strong>ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ë¥¼ ì¢…ë£Œ</strong>í•œë‹¤.
<ul>
<li><strong>ì´ë•Œ í”ŒëŸ¬ì‹œë¥¼ í˜¸ì¶œí•˜ì§€ ì•Šê³  ë°”ë¡œ ì¢…ë£Œí•œë‹¤.</strong></li>
</ul>
</li>
</ol>
</li>
</ul>
<br/>
<h3 id="section-22">íŠ¸ëœì­ì…˜ ì—†ì´ ì½ê¸°</h3>
<ul>
<li>ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ë¥¼ í†µí•œ ëª¨ë“  ë³€ê²½ì€ íŠ¸ëœì­ì…˜ ì•ˆì—ì„œ ì´ë£¨ì–´ì ¸ì•¼ í•œë‹¤.</li>
<li><strong>ì—”í‹°í‹°ë¥¼ ë³€ê²½í•˜ì§€ ì•Šê³ , ë‹¨ìˆœíˆ ì¡°íšŒë§Œ í•  ë•ŒëŠ” íŠ¸ëœì­ì…˜ì´ ì—†ì–´ë„ ëœë‹¤.</strong>
<ul>
<li><strong>ì´ê²ƒì„ â€˜íŠ¸ëœì­ì…˜ ì—†ì´ ì½ê¸°â€™ë¼ê³  í•œë‹¤.</strong></li>
</ul>
</li>
<li><strong>í”„ë¡ì‹œë¥¼ ì´ˆê¸°í™”í•˜ëŠ” ì§€ì—° ë¡œë”©ë„ ì¡°íšŒ ê¸°ëŠ¥ì´ë¯€ë¡œ, â€˜íŠ¸ëœì­ì…˜ ì—†ì´ ì½ê¸°â€™ê°€ ê°€ëŠ¥í•˜ë‹¤.</strong></li>
</ul>
<br/>
<ul>
<li>ì •ë¦¬
<ul>
<li><strong>ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ëŠ” íŠ¸ëœì­ì…˜ ë²”ìœ„ ì•ˆì—ì„œ ì—”í‹°í‹°ë¥¼ ì¡°íšŒí•˜ê³  ìˆ˜ì •í•  ìˆ˜ ìˆë‹¤.</strong></li>
<li><strong>ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ëŠ” íŠ¸ëœì­ì…˜ ë²”ìœ„ ë°–ì—ì„œ ì—”í‹°í‹°ë¥¼ ì¡°íšŒë§Œ í•  ìˆ˜ ìˆë‹¤.</strong>
<ul>
<li>ì´ê²ƒì„ â€˜íŠ¸ëœì­ì…˜ ì—†ì´ ì½ê¸°â€™ë¼ê³  í•œë‹¤.</li>
</ul>
</li>
</ul>
</li>
</ul>
<br/>
<ul>
<li><strong>ìŠ¤í”„ë§ì´ ì œê³µí•˜ëŠ” OSIVë¥¼ ì‚¬ìš©í•˜ë©´ í”„ë¦¬ì  í…Œì´ì…˜ ê³„ì¸µì—ì„œëŠ” íŠ¸ëœì­ì…˜ì´ ì—†ìœ¼ë¯€ë¡œ ì—”í‹°í‹°ë¥¼ ìˆ˜ì •í•  ìˆ˜ ì—†ë‹¤.</strong>
<ul>
<li>ë”°ë¼ì„œ í”„ë¦¬ì  í…Œì´ì…˜ ê³„ì¸µì—ì„œ ì—”í‹°í‹°ë¥¼ ìˆ˜ì •í•  ìˆ˜ ìˆëŠ” ê¸°ì¡´ OSIVì˜ ë‹¨ì ì„ ë³´ì™„í–ˆë‹¤.</li>
<li>ê·¸ë¦¬ê³  íŠ¸ëœì­ì…˜ ì—†ì´ ì½ê¸°ë¥¼ ì‚¬ìš©í•´ì„œ í”„ë¦¬ì  í…Œì´ì…˜ ê³„ì¸µì—ì„œ ì§€ì—° ë¡œë”© ê¸°ëŠ¥ì„ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.</li>
</ul>
</li>
<li>ìŠ¤í”„ë§ OSIVì˜ íŠ¹ì§•
<ul>
<li>ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ë¥¼ í”„ë¦¬ì  í…Œì´ì…˜ ê³„ì¸µê¹Œì§€ ìœ ì§€í•œë‹¤.</li>
<li>í”„ë¦¬ì  í…Œì´ì…˜ ê³„ì¸µì—ëŠ” íŠ¸ëœì­ì…˜ì´ ì—†ìœ¼ë¯€ë¡œ ì—”í‹°í‹°ë¥¼ ìˆ˜ì •í•  ìˆ˜ ì—†ë‹¤.</li>
<li><strong>í”„ë¦¬ì  í…Œì´ì…˜ ê³„ì¸µì—ëŠ” íŠ¸ëœì­ì…˜ì´ ì—†ì§€ë§Œ, â€˜íŠ¸ëœì­ì…˜ ì—†ì´ ì½ê¸°â€™ë¥¼ ì‚¬ìš©í•´ì„œ ì§€ì—° ë¡œë”©ì„ í•  ìˆ˜ ìˆë‹¤.</strong></li>
</ul>
</li>
</ul>
<br/>
<h3 id="osiv----">ìŠ¤í”„ë§ OSIV ì ìš© í›„, ì˜ˆì‹œ ì½”ë“œ</h3>
<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">public</span> <span class="kd">class</span> <span class="nc">MemberController</span> <span class="o">{</span>
<pre><code>&lt;span class=&quot;nd&quot;&gt;@Autowired&lt;/span&gt;
&lt;span class=&quot;nc&quot;&gt;MemberService&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;memberSerivce&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;kd&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;String&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;viewMember&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;Long&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;id&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
	&lt;span class=&quot;nc&quot;&gt;Member&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;member&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;memberService&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;getMember&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;id&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;//ì˜ì† ìƒíƒœ (ìˆ˜ì • ë¶ˆê°€)&lt;/span&gt;
	&lt;span class=&quot;n&quot;&gt;member&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;setName&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;XXX&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;//ë³´ì•ˆìƒ ì´ìœ ë¡œ ê³ ê° ì´ë¦„ì„ XXXë¡œ ë³€ê²½í–ˆë‹¤.&lt;/span&gt;
	&lt;span class=&quot;n&quot;&gt;model&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;addAttribute&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;member&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;member&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
</code></pre>
<p><span class="o">}</span>
</code></pre></div></div></p>
<ul>
<li>ìƒì„¸ ì„¤ëª…
<ul>
<li>ì»¨íŠ¸ë¡¤ëŸ¬ì—ì„œ íšŒì› ì—”í‹°í‹°ë¥¼ <code>member.setName(&quot;XXX&quot;)</code> ë¡œ ë³€ê²½í–ˆë‹¤.</li>
<li>í”„ë¦¬ì  í…Œì´ì…˜ ê³„ì¸µì´ì§€ë§Œ, ì•„ì§ ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ê°€ ì‚´ì•„ìˆë‹¤.</li>
<li>í”ŒëŸ¬ì‹œê°€ ë™ì‘í•˜ì§€ ì•ŠëŠ” ì´ìœ 
<ul>
<li>íŠ¸ëœì­ì…˜ì„ ì‚¬ìš©í•˜ëŠ” ì„œë¹„ìŠ¤ ê³„ì¸µì´ ëë‚  ë•Œ, íŠ¸ëœì­ì…˜ì´ ì»¤ë°‹ë˜ë©´ì„œ ì´ë¯¸ í”ŒëŸ¬ì‹œí•´ë²„ë ¸ë‹¤. ìš”ì²­ì´ ëë‚˜ë©´ í”ŒëŸ¬ì‹œë¥¼ í˜¸ì¶œí•˜ì§€ ì•Šê³ , <code>em.close()</code> ë¡œ ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ë§Œ ì¢…ë£Œí•´ ë²„ë¦¬ë¯€ë¡œ í”ŒëŸ¬ì‹œê°€ ì¼ì–´ë‚˜ì§€ ì•ŠëŠ”ë‹¤.</li>
<li>íŠ¸ëœì­ì…˜ ë²”ìœ„ ë°–ì´ë¯€ë¡œ ë°ì´í„°ë¥¼ ìˆ˜ì •í•  ìˆ˜ ì—†ë‹¤.</li>
</ul>
</li>
</ul>
</li>
</ul>
<br/>
<h3 id="osiv--2">ìŠ¤í”„ë§ OSIV ì£¼ì˜ì‚¬í•­</h3>
<ul>
<li>
<p>í”„ë¦¬ì  í…Œì´ì…˜ ê³„ì¸µì—ì„œ ì—”í‹°í‹°ë¥¼ ìˆ˜ì •í•œ ì§í›„ì— íŠ¸ëœì­ì…˜ì„ ì‹œì‘í•˜ëŠ” ì„œë¹„ìŠ¤ ê³„ì¸µì„ í˜¸ì¶œí•˜ë©´ ì•„ë˜ì™€ ê°™ì€ ë¬¸ì œê°€ ë°œìƒí•œë‹¤.</p>
</li>
<li>
<p>ë¬¸ì œ ë°œìƒ ì˜ˆì‹œ ì½”ë“œ</p>
<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">public</span> <span class="kd">class</span> <span class="nc">MemberController</span> <span class="o">{</span>
<pre><code>&lt;span class=&quot;nd&quot;&gt;@Autowired&lt;/span&gt;
&lt;span class=&quot;nc&quot;&gt;MemberService&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;memberSerivce&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;kd&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;String&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;viewMember&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;Long&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;id&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
	&lt;span class=&quot;nc&quot;&gt;Member&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;member&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;memberService&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;getMember&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;id&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;//ì˜ì† ìƒíƒœ (ìˆ˜ì • ë¶ˆê°€)&lt;/span&gt;
	&lt;span class=&quot;n&quot;&gt;member&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;setName&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;XXX&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;//ë³´ì•ˆìƒ ì´ìœ ë¡œ ê³ ê° ì´ë¦„ì„ XXXë¡œ ë³€ê²½í–ˆë‹¤.&lt;/span&gt;
	&lt;span class=&quot;n&quot;&gt;model&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;addAttribute&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;member&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;member&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;

	&lt;span class=&quot;c1&quot;&gt;//íŠ¸ëœì­ì…˜ ì‹œì‘&lt;/span&gt;
	&lt;span class=&quot;n&quot;&gt;memberService&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;biz&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;();&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;//ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ (@Transactional)&lt;/span&gt;
	&lt;span class=&quot;c1&quot;&gt;//íŠ¸ëœì­ì…˜ ì¢…ë£Œ&lt;/span&gt;

	&lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;view&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
</code></pre>
<p><span class="o">}</span>
</code></pre></div></div></p>
</li>
<li>
<p>ë¬¸ì œ ì‹œê°í™”</p>
<p><img src="/assets/img/2021-12-06-JPA_WebAppAndPersistence/Untitled%207.png" alt="Untitled" /></p>
<ol>
<li>ì»¨íŠ¸ë¡¤ëŸ¬ì—ì„œ íšŒì› ì—”í‹°í‹°ë¥¼ ì¡°íšŒí•˜ê³  ì´ë¦„ì„ <code>member.setName(&quot;XXX&quot;)</code> ë¡œ ìˆ˜ì •í–ˆë‹¤.</li>
<li><code>biz()</code> ë©”ì„œë“œë¥¼ ì‹¤í–‰í•´ì„œ íŠ¸ëœì­ì…˜ì´ ìˆëŠ” ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì´ ì‹¤í–‰ë˜ì—ˆë‹¤.</li>
<li>íŠ¸ëœì­ì…˜ AOPê°€ ë™ì‘í•˜ë©´ì„œ ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ì— íŠ¸ëœì­ì…˜ì„ ì‹œì‘í•œë‹¤. ê·¸ë¦¬ê³  <code>biz()</code> ë©”ì„œë“œë¥¼ ì‹¤í–‰í•œë‹¤.</li>
<li><code>biz()</code> ë©”ì„œë“œê°€ ëë‚˜ë©´ íŠ¸ëœì­ì…˜ AOPëŠ” íŠ¸ëœì­ì…˜ì„ ì»¤ë°‹í•˜ê³  ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ë¥¼ í”ŒëŸ¬ì‹œí•œë‹¤. <strong>ì´ë•Œ ë³€ê²½ ê°ì§€(Dirty Checking)ì´ ë™ì‘í•˜ë©´ì„œ íšŒì› ì—”í‹°í‹°ì˜ ìˆ˜ì • ì‚¬í•­ì„ DBì— ë°˜ì˜í•œë‹¤.</strong></li>
</ol>
</li>
</ul>
<br/>
<ul>
<li>
<p>ë¬¸ì œ ì›ì¸</p>
<ul>
<li>ì»¨íŠ¸ë¡¤ëŸ¬ì—ì„œ ì—”í‹°í‹°ë¥¼ ìˆ˜ì •í•˜ê³  ì¦‰ì‹œ ë·°ë¥¼ í˜¸ì¶œí•œ ê²ƒì´ ì•„ë‹ˆë¼, íŠ¸ëœì­ì…˜ì´ ë™ì‘í•˜ëŠ” ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì„ í˜¸ì¶œí–ˆìœ¼ë¯€ë¡œ ì´ëŸ° ë¬¸ì œê°€ ë°œìƒí•œë‹¤.</li>
</ul>
</li>
<li>
<p>ë¬¸ì œ í•´ê²° ë°©ë²•</p>
<ul>
<li><strong>íŠ¸ëœì­ì…˜ì´ ìˆëŠ” ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì„ ëª¨ë‘ í˜¸ì¶œí•˜ê³  ë‚˜ì„œ ì—”í‹°í‹°ë¥¼ ë³€ê²½í•˜ë©´ ëœë‹¤.</strong></li>
</ul>
<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">//íŠ¸ëœì­ì…˜ ì‹œì‘</span>
<span class="n">memberService</span><span class="o">.</span><span class="na">biz</span><span class="o">();</span> <span class="c1">//ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ (@Transactional)</span>
<span class="c1">//íŠ¸ëœì­ì…˜ ì¢…ë£Œ</span>
<p><span class="nc">Member</span> <span class="n">member</span> <span class="o">=</span> <span class="n">memberService</span><span class="o">.</span><span class="na">getMember</span><span class="o">(</span><span class="n">id</span><span class="o">);</span> <span class="c1">//ì˜ì† ìƒíƒœ (ìˆ˜ì • ë¶ˆê°€)</span>
<span class="n">member</span><span class="o">.</span><span class="na">setName</span><span class="o">(</span><span class="s">â€œXXXâ€</span><span class="o">);</span> <span class="c1">//ë³´ì•ˆìƒ ì´ìœ ë¡œ ê³ ê° ì´ë¦„ì„ XXXë¡œ ë³€ê²½í–ˆë‹¤.</span>
<span class="n">model</span><span class="o">.</span><span class="na">addAttribute</span><span class="o">(</span><span class="s">â€œmemberâ€</span><span class="o">,</span> <span class="n">member</span><span class="o">);</span></p>
<p><span class="k">return</span> <span class="s">â€œviewâ€</span><span class="o">;</span>
</code></pre></div></div></p>
</li>
<li>
<p>ìŠ¤í”„ë§ OSIVëŠ” ê°™ì€ ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ë¥¼ ì—¬ëŸ¬ íŠ¸ëœì­ì…˜ì´ ê³µìœ í•  ìˆ˜ ìˆìœ¼ë¯€ë¡œ ì´ëŸ° ë¬¸ì œê°€ ë°œìƒí•œë‹¤.</p>
</li>
</ul>
<h3 id="osiv--3">OSIV ì •ë¦¬</h3>
<ul>
<li>ìŠ¤í”„ë§ OSIVì˜ íŠ¹ì§•
<ul>
<li>OSIVëŠ” í´ë¼ì´ì–¸íŠ¸ì˜ ìš”ì²­ì´ ë“¤ì–´ì˜¬ ë•Œ ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ë¥¼ ìƒì„±í•´ì„œ, ìš”ì²­ì´ ëë‚  ë•Œê¹Œì§€ ê°™ì€ ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ë¥¼ ìœ ì§€í•œë‹¤.</li>
<li>ì—”í‹°í‹° ìˆ˜ì •ì€ íŠ¸ëœì­ì…˜ì´ ìˆëŠ” ê³„ì¸µì—ì„œë§Œ ë™ì‘í•œë‹¤. íŠ¸ëœì­ì…˜ì´ ì—†ëŠ” í”„ë¦¬ì  í…Œì´ì…˜ ê³„ì¸µì€ <strong>ì§€ì—° ë¡œë”©ì„ í¬í•¨í•´ì„œ ì¡°íšŒë§Œ</strong> í•  ìˆ˜ ìˆë‹¤.</li>
</ul>
</li>
<li>ìŠ¤í”„ë§ OSIVì˜ ë‹¨ì 
<ul>
<li>OSIVë¥¼ ì ìš©í•˜ë©´ ê°™ì€ ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ë¥¼ ì—¬ëŸ¬ íŠ¸ëœì­ì…˜ì´ ê³µìœ í•  ìˆ˜ ìˆë‹¤ëŠ” ì ì„ ì£¼ì˜í•´ì•¼ í•œë‹¤.
<ul>
<li>íŠ¹íˆ íŠ¸ëœì­ì…˜ ë¡¤ë°± ì‹œ ì£¼ì˜í•´ì•¼ í•œë‹¤.</li>
</ul>
</li>
<li>í”„ë¦¬ì  í…Œì´ì…˜ ê³„ì¸µì—ì„œ ì—”í‹°í‹° ìˆ˜ì •í•˜ê³ ë‚˜ì„œ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì„ ìˆ˜í–‰í•˜ë©´ ì—”í‹°í‹°ê°€ ìˆ˜ì •ë  ìˆ˜ ìˆë‹¤.</li>
<li>í”„ë¦¬ì  í…Œì´ì…˜ ê³„ì¸µì—ì„œ ì§€ì—° ë¡œë”©ì— ì˜í•œ SQLì´ ì‹¤í–‰ëœë‹¤. ë”°ë¼ì„œ ì„±ëŠ¥ íŠœë‹ ì‹œì— í™•ì¸í•´ì•¼ í•  ë¶€ë¶„ì´ ë„“ë‹¤.</li>
</ul>
</li>
<li>OSIVë¥¼ ì‚¬ìš©í•˜ëŠ” ë°©ë²•ì´ ë§ŒëŠ¥ì€ ì•„ë‹ˆë‹¤.
<ul>
<li>ë³µì¡í•œ í™”ë©´ì„ êµ¬ì„±í•  ë•ŒëŠ” ì´ ë°©ë²•ì´ íš¨ê³¼ì ì´ì§€ ì•Šì€ ê²½ìš°ê°€ ë§ë‹¤.
<ul>
<li>ìˆ˜ë§ì€ í…Œì´ë¸”ì„ ì¡°ì¸í•´ì„œ ë³´ì—¬ì£¼ì–´ì•¼ í•˜ëŠ” ê²½ìš° ë“±â€¦</li>
</ul>
</li>
<li>ì´ë• JPQLë¡œ í•„ìš”í•œ ë°ì´í„°ë“¤ë§Œ ì¡°íšŒí•´ì„œ DTOë¡œ ë°˜í™˜í•˜ëŠ” ê²ƒì´ ë” ë‚˜ì€ í•´ê²°ì±…ì¼ ìˆ˜ ìˆë‹¤.</li>
</ul>
</li>
<li>OSIVëŠ” ê°™ì€ JVMì„ ë²—ì–´ë‚œ ì›ê²© ìƒí™©ì—ì„œëŠ” ì‚¬ìš©í•  ìˆ˜ ì—†ë‹¤.</li>
</ul>
<p><br><br></p>
<hr />
<br>
<div style="font-style: italic;color: gray;">
  <ul>
    <li>ê¹€ì˜í•œ, ã€ìë°” ORM í‘œì¤€ JPA í”„ë¡œê·¸ë˜ë°ã€, ì—ì´ì½˜</li>
  </ul>
  ë³¸ ê²Œì‹œê¸€ì€ ìœ„ êµì¬ë¥¼ ê¸°ë°˜ìœ¼ë¡œ ì •ë¦¬í•œ ê¸€ì…ë‹ˆë‹¤.
</div>
:ET