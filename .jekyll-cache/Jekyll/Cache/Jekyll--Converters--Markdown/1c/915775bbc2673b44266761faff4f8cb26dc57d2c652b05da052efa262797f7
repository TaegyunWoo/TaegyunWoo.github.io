I"£t<p><br/><br/></p>
<p>ì´ì „ ê²Œì‹œê¸€ë“¤ (<a href="https://taegyunwoo.github.io/spring/SPRING_MVC_HTTP_RequestParameter">ìš”ì²­íŒŒë¼ë¯¸í„°</a> , <a href="https://taegyunwoo.github.io/spring/SPRING_MVC_ModelAttribute">@ModelAttribute</a>) ì—ì„œ â€œGET, ì¿¼ë¦¬ íŒŒë¼ë¯¸í„°â€ì™€ â€œPOST, HTML Formâ€ ìœ¼ë¡œ ì „ë‹¬ëœ íŒŒë¼ë¯¸í„°ë¥¼ ì²˜ë¦¬í•˜ëŠ” ë°©ë²•ì— ëŒ€í•´ ì„¤ëª…í•˜ì˜€ë‹¤.</p>
<p>ìš”ì²­ ë©”ì‹œì§€ê°€ ì–´ë–»ê²Œ ë°ì´í„°ë¥¼ ì „ë‹¬í•˜ëŠ”ì§€ ë‹¤ì‹œ í™•ì¸í•´ë³´ìë©´ ì•„ë˜ì™€ ê°™ë‹¤.</p>
<ul>
<li><strong>GET - ì¿¼ë¦¬ íŒŒë¼ë¯¸í„°</strong></li>
<li><strong>POST - HTML Form</strong></li>
<li><strong>HTTP message bodyì— ë°ì´í„°ë¥¼ ì§ì ‘ ë‹´ì•„ì„œ ì „ë‹¬í•˜ëŠ” ë°©ì‹</strong></li>
</ul>
<p>ì´ ì¤‘ ì²« ë²ˆì§¸ì™€ ë‘ ë²ˆì§¸ ë°©ì‹ì„ ì²˜ë¦¬í•˜ëŠ” ë°©ë²•ì— ëŒ€í•´ì„œ ì´ì „ ê¸€ì—ì„œ ë‹¤ë¤˜ìœ¼ë‹ˆ, ì´ì œ ì„¸ ë²ˆì§¸ ë°©ì‹ â€˜ìš”ì²­ ë©”ì‹œì§€ì˜ ë°”ë””ë¶€ì— ë°ì´í„°ê°€ ë‹´ê¸´ ë°©ì‹â€™ ì„ ì–´ë–»ê²Œ ì²˜ë¦¬í•  ê²ƒì¸ì§€ ì•Œì•„ë³´ì.</p>
<p><br><br><br></p>
<h1 id="section">ê°œìš”</h1>
<h2 id="http-message-body----">HTTP message bodyì— ë°ì´í„°ë¥¼ ì§ì ‘ ë‹´ì•„ì„œ ìš”ì²­</h2>
<ul>
<li>HTTP APIì—ì„œ ì£¼ë¡œ ì‚¬ìš©í•œë‹¤. (JSON, XML, TEXT ë“±)</li>
<li><strong>ë°ì´í„° í˜•ì‹ì€ ì£¼ë¡œ JSONì„ ì‚¬ìš©í•œë‹¤.</strong></li>
</ul>
<p>ì´ ë°©ì‹ì˜ ê²½ìš°, ìš”ì²­ íŒŒë¼ë¯¸í„°ì™€ëŠ” ë‹¤ë¥´ê²Œ <code>@RequestParam</code> , <code>@ModelAttribute</code> ë¥¼ ì‚¬ìš©í•  ìˆ˜ ì—†ë‹¤.</p>
<blockquote>
<p>ë¬¼ë¡ , HTML Form í˜•ì‹ì„ í†µí•´ ë°”ë””ë¶€ì— ì…ë ¥ë˜ëŠ” ê²½ìš° ì œì™¸</p>
</blockquote>
<p><br><br><br></p>
<h1 id="section-1">ìš”ì²­ ë©”ì‹œì§€ ë°”ë”” ë°ì´í„° ì²˜ë¦¬</h1>
<h2 id="section-2">ê¸°ì´ˆì ì¸ ë°©ì‹</h2>
<h3 id="inputstream----">ì§ì ‘ InputStreamì„ ê°€ì ¸ì™€ì„œ ë°”ë”” ë°ì´í„° ì¡°íšŒí•˜ê¸°</h3>
<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nd">@Slf4j</span>
<span class="nd">@Controller</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">RequestBodyStringController</span> <span class="o">{</span>

	<span class="nd">@PostMapping</span><span class="o">(</span><span class="s">"/request-body-string-v1"</span><span class="o">)</span>
	<span class="kd">public</span> <span class="kt">void</span> <span class="nf">requestBodyString</span><span class="o">(</span><span class="nc">HttpServletRequest</span> <span class="n">request</span><span class="o">,</span> <span class="nc">HttpServletResponse</span> <span class="n">response</span><span class="o">)</span> <span class="kd">throws</span> <span class="nc">IOException</span> <span class="o">{</span>
		
		<span class="c1">//InputStreamì„ í†µí•´ ìš”ì²­msgì˜ ë°”ë””ë¶€ ë°ì´í„°ë¥¼ ë°›ëŠ”ë‹¤. (ë°”ì´íŠ¸ì½”ë“œë¡œ ë°›ìŒ)</span>
		<span class="nc">ServletInputStream</span> <span class="n">inputStream</span> <span class="o">=</span> <span class="n">request</span><span class="o">.</span><span class="na">getInputStream</span><span class="o">();</span>

		<span class="c1">//ë°”ì´íŠ¸ì½”ë“œë¡œ êµ¬ì„±ëœ ë°”ë””ë¶€ ë°ì´í„°ë¥¼ UTF-8 í˜•ì‹ìœ¼ë¡œ ì¸ì½”ë”©í•˜ì—¬ ë¬¸ìì—´ë¡œ ë³€í™˜í•œë‹¤.</span>
		<span class="nc">String</span> <span class="n">messageBody</span> <span class="o">=</span> <span class="nc">StreamUtils</span><span class="o">.</span><span class="na">copyToString</span><span class="o">(</span><span class="n">inputStream</span><span class="o">,</span> <span class="nc">StandardCharsets</span><span class="o">.</span><span class="na">UTF_8</span><span class="o">);</span>

		<span class="n">log</span><span class="o">.</span><span class="na">info</span><span class="o">(</span><span class="s">"messageBody={}"</span><span class="o">,</span> <span class="n">messageBody</span><span class="o">);</span>
		<span class="n">response</span><span class="o">.</span><span class="na">getWriter</span><span class="o">().</span><span class="na">write</span><span class="o">(</span><span class="s">"ok"</span><span class="o">);</span>
	<span class="o">}</span>

<span class="o">}</span>
</code></pre></div></div>
<ul>
<li><code>request.getInputStream()</code>
<ul>
<li>ìš”ì²­ ë©”ì‹œì§€ì˜ ë°”ë””ë¶€ë¶„ì— ì €ì¥ë˜ì–´ìˆëŠ” ë°ì´í„°ë¥¼ ë°”ì´íŠ¸ì½”ë“œë¡œ ë°›ëŠ”ë‹¤.</li>
</ul>
</li>
<li><code>StreamUtils.copyToString(inputStream, StandardCharsets.UTF_8)</code>
<ul>
<li>InputStreamìœ¼ë¡œ ë°›ì€ ë°ì´í„°ë¥¼ ì¸ì½”ë”©í•˜ì—¬ ë¬¸ìì—´ë¡œ ë³€í™˜í•œë‹¤.</li>
</ul>
</li>
</ul>
<br>
<h3 id="codeinputstreamcode--codewritercode---">ìŠ¤í”„ë§ì—ê²Œ <code>InputStream</code> , <code>Writer</code> ê°ì²´ë¥¼ ì „ë‹¬ë°›ì•„ ì¡°íšŒí•˜ê¸°</h3>
<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nd">@Slf4j</span>
<span class="nd">@Controller</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">RequestBodyStringController</span> <span class="o">{</span>

	<span class="cm">/**
	 * InputStream(Reader): HTTP ìš”ì²­ ë©”ì‹œì§€ ë°”ë””ì˜ ë‚´ìš©ì„ ì§ì ‘ ì¡°íšŒ
	 * OutputStream(Writer): HTTP ì‘ë‹µ ë©”ì‹œì§€ì˜ ë°”ë””ì— ì§ì ‘ ê²°ê³¼ ì¶œë ¥
	 */</span>
	<span class="nd">@PostMapping</span><span class="o">(</span><span class="s">"/request-body-string-v2"</span><span class="o">)</span>
	<span class="kd">public</span> <span class="kt">void</span> <span class="nf">requestBodyStringV2</span><span class="o">(</span><span class="nc">InputStream</span> <span class="n">inputStream</span><span class="o">,</span> <span class="nc">Writer</span> <span class="n">responseWriter</span><span class="o">)</span> <span class="kd">throws</span> <span class="nc">IOException</span> <span class="o">{</span>
		<span class="nc">String</span> <span class="n">messageBody</span> <span class="o">=</span> <span class="nc">StreamUtils</span><span class="o">.</span><span class="na">copyToString</span><span class="o">(</span><span class="n">inputStream</span><span class="o">,</span> <span class="nc">StandardCharsets</span><span class="o">.</span><span class="na">UTF_8</span><span class="o">);</span>
		<span class="n">log</span><span class="o">.</span><span class="na">info</span><span class="o">(</span><span class="s">"messageBody={}"</span><span class="o">,</span> <span class="n">messageBody</span><span class="o">);</span>
		<span class="n">responseWriter</span><span class="o">.</span><span class="na">write</span><span class="o">(</span><span class="s">"ok"</span><span class="o">);</span>
	<span class="o">}</span>

<span class="o">}</span>
</code></pre></div></div>
<ul>
<li><strong>ë§¤ê°œë³€ìˆ˜</strong> <code>InputStream inputStream</code>
<ul>
<li>ìŠ¤í”„ë§ìœ¼ë¡œë¶€í„° â€˜ìš”ì²­ ë©”ì‹œì§€ì˜ ë°”ë”” ë°ì´í„°ê°€ ë“¤ì–´ìˆëŠ” <code>InputStream</code> ê°ì²´â€™ ë¥¼ ì „ë‹¬ë°›ëŠ”ë‹¤.</li>
</ul>
</li>
<li><strong>ë§¤ê°œë³€ìˆ˜</strong> <code>Writer responseWriter</code>
<ul>
<li>ìŠ¤í”„ë§ìœ¼ë¡œë¶€í„° â€˜ì‘ë‹µ ë©”ì‹œì§€ì˜ ë°”ë””ì— ë°ì´í„°ë¥¼ ì‘ì„±í•  ìˆ˜ ìˆëŠ” <code>Writer</code> ê°ì²´â€™ ë¥¼ ì „ë‹¬ë°›ëŠ”ë‹¤.</li>
</ul>
</li>
<li><strong>InputStream</strong> (Reader)
<ul>
<li>HTTP ìš”ì²­ ë©”ì‹œì§€ ë°”ë””ì˜ ë‚´ìš©ì„ ì§ì ‘ ì¡°íšŒí•˜ëŠ” ê¸°ëŠ¥ì„ ì§€ì›í•œë‹¤.</li>
</ul>
</li>
<li><strong>OutputStream</strong> (Writer)
<ul>
<li>HTTP ì‘ë‹µ ë©”ì‹œì§€ì˜ ë°”ë””ì— ì§ì ‘ ê²°ê³¼ ì¶œë ¥í•˜ëŠ” ê¸°ëŠ¥ì„ ì§€ì›í•œë‹¤.</li>
</ul>
</li>
</ul>
<br>
<h3 id="codehttpentityltgtcode---">ìŠ¤í”„ë§ì—ê²Œ <code>HttpEntity&lt;&gt;</code> ê°ì²´ë¥¼ ì „ë‹¬ë°›ì•„ ì¡°íšŒí•˜ê¸°</h3>
<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nd">@Slf4j</span>
<span class="nd">@Controller</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">RequestBodyStringController</span> <span class="o">{</span>

	<span class="cm">/**
	 * HttpEntity: HTTP header, body ì •ë³´ë¥¼ í¸ë¼í•˜ê²Œ ì¡°íšŒ
	 * - ë©”ì‹œì§€ ë°”ë”” ì •ë³´ë¥¼ ì§ì ‘ ì¡°íšŒ(@RequestParam X, @ModelAttribute X)
	 * - HttpMessageConverter ì‚¬ìš© -&gt; StringHttpMessageConverter ì ìš©
	 *
	 * ì‘ë‹µì—ì„œë„ HttpEntity ì‚¬ìš© ê°€ëŠ¥
	 * - ë©”ì‹œì§€ ë°”ë”” ì •ë³´ ì§ì ‘ ë°˜í™˜(view ì¡°íšŒX)
	 * - HttpMessageConverter ì‚¬ìš© -&gt; StringHttpMessageConverter ì ìš©
	 */</span>
	<span class="nd">@PostMapping</span><span class="o">(</span><span class="s">"/request-body-string-v3"</span><span class="o">)</span>
	<span class="kd">public</span> <span class="nc">HttpEntity</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;</span> <span class="nf">requestBodyStringV3</span><span class="o">(</span><span class="nc">HttpEntity</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;</span> <span class="n">httpEntity</span><span class="o">)</span> <span class="o">{</span>
		
		<span class="c1">//ìš”ì²­ ë©”ì‹œì§€ì˜ ë°”ë””ë¶€ë¶„ ë°ì´í„° ë°›ê¸°</span>
		<span class="nc">String</span> <span class="n">messageBody</span> <span class="o">=</span> <span class="n">httpEntity</span><span class="o">.</span><span class="na">getBody</span><span class="o">();</span>

		<span class="n">log</span><span class="o">.</span><span class="na">info</span><span class="o">(</span><span class="s">"messageBody={}"</span><span class="o">,</span> <span class="n">messageBody</span><span class="o">);</span>

		<span class="c1">//HttpEntity&lt;&gt; ê°ì²´ë¡œ ì‘ë‹µë„ í•  ìˆ˜ ìˆë‹¤.</span>
		<span class="k">return</span> <span class="k">new</span> <span class="nc">HttpEntity</span><span class="o">&lt;&gt;(</span><span class="s">"ok"</span><span class="o">);</span>
	<span class="o">}</span>

<span class="o">}</span>
</code></pre></div></div>
<ul>
<li>
<p><code>HttpEntity</code></p>
<ul>
<li>HTTP header, body ì •ë³´ë¥¼ í¸ë¦¬í•˜ê²Œ ì¡°íšŒí•  ìˆ˜ ìˆë„ë¡ ì§€ì›í•˜ëŠ” ê°ì²´ì´ë‹¤.</li>
<li>ë§¤ê°œë³€ìˆ˜ <code>HttpEntity&lt;String&gt; httpEntity</code> ëŠ” ìŠ¤í”„ë§ìœ¼ë¡œë¶€í„° ë°›ëŠ”ë‹¤.</li>
<li>ìš”ì²­ íŒŒë¼ë¯¸í„°ë¥¼ ì¡°íšŒí•˜ëŠ” ê¸°ëŠ¥ê³¼ ê´€ê³„ëŠ” ì—†ë‹¤.
<ul>
<li><code>@RequestParam</code> , <code>@ModelAttribute</code> ì™€ ê´€ê³„ ì—†ìŒ.</li>
</ul>
</li>
<li>ì‘ë‹µì—ë„ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.
<ul>
<li>ì‘ë‹µìœ¼ë¡œ ì‚¬ìš©ì‹œ, ë©”ì‹œì§€ ë°”ë”” ì •ë³´ë¥¼ ì§ì ‘ ë°˜í™˜í•˜ê²Œ ëœë‹¤.</li>
<li>í—¤ë” ì •ë³´ í¬í•¨ ê°€ëŠ¥</li>
<li>view ì¡°íšŒëŠ” ì•ˆëœë‹¤.</li>
</ul>
</li>
</ul>
</li>
<li>
<p><code>HttpEntity</code> ë¥¼ ìƒì†ë°›ì€ ê°ì²´ë“¤</p>
<ul>
<li><code>RequestEntity</code>
<ul>
<li>HttpMethod, url ì •ë³´ê°€ ì¶”ê°€ëë‹¤.</li>
<li>ìš”ì²­ì—ì„œ ì‚¬ìš©í•œë‹¤.</li>
</ul>
</li>
<li><code>ResponseEntity</code>
<ul>
<li>HTTP ìƒíƒœ ì½”ë“œë¥¼ ì„¤ì •í•  ìˆ˜ ìˆë‹¤.</li>
</ul>
</li>
</ul>
</li>
</ul>
<blockquote>
<p>ì°¸ê³ ë¡œ, ìŠ¤í”„ë§ MVC ë‚´ë¶€ì—ì„œ â€˜HTTP ë©”ì‹œì§€ ë°”ë””â€™ë¥¼ ì½ì–´ì„œ ë¬¸ìë‚˜ ê°ì²´ë¡œ ë³€í™˜í•˜ì—¬ ì „ë‹¬í•´ì¤€ë‹¤. ì´ë•Œ ì‚¬ìš©ë˜ëŠ” ê¸°ëŠ¥ì´ ë°”ë¡œ <strong>â€œHTTP ë©”ì‹œì§€ ì»¨ë²„í„°â€</strong> ì´ë‹¤. HTTP ë©”ì‹œì§€ ì»¨ë²„í„°ëŠ” ë‚˜ì¤‘ì— ìì„¸íˆ ë‹¤ë£¬ë‹¤.</p>
</blockquote>
<p><br><br></p>
<h2 id="section-3">ì• ë„ˆí…Œì´ì…˜ ë°©ì‹</h2>
<h3 id="coderequestbodycode-------"><code>@RequestBody</code> ë¥¼ í†µí•´ ìš”ì²­ ë©”ì‹œì§€ì˜ ë°”ë”” ë°ì´í„° ì¡°íšŒí•˜ê¸°</h3>
<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nd">@Slf4j</span>
<span class="nd">@Controller</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">RequestBodyStringController</span> <span class="o">{</span>

	<span class="cm">/**
	 * @RequestBody
	 * - ë©”ì‹œì§€ ë°”ë”” ì •ë³´ë¥¼ ì§ì ‘ ì¡°íšŒ(@RequestParam X, @ModelAttribute X)
	 * - HttpMessageConverter ì‚¬ìš© -&gt; StringHttpMessageConverter ì ìš©
	 *
	 * @ResponseBody
	 * - ë©”ì‹œì§€ ë°”ë”” ì •ë³´ ì§ì ‘ ë°˜í™˜(view ì¡°íšŒX)
	 * - HttpMessageConverter ì‚¬ìš© -&gt; StringHttpMessageConverter ì ìš©
	 */</span>
	<span class="nd">@ResponseBody</span>
	<span class="nd">@PostMapping</span><span class="o">(</span><span class="s">"/request-body-string-v4"</span><span class="o">)</span>
	<span class="kd">public</span> <span class="nc">String</span> <span class="nf">requestBodyStringV4</span><span class="o">(</span><span class="nd">@RequestBody</span> <span class="nc">String</span> <span class="n">messageBody</span><span class="o">)</span> <span class="o">{</span>
		<span class="n">log</span><span class="o">.</span><span class="na">info</span><span class="o">(</span><span class="s">"messageBody={}"</span><span class="o">,</span> <span class="n">messageBody</span><span class="o">);</span>
		<span class="k">return</span> <span class="s">"ok"</span><span class="o">;</span>
	<span class="o">}</span>

<span class="o">}</span>
</code></pre></div></div>
<ul>
<li><code>@RequestBody</code>
<ul>
<li>HTTP ë©”ì‹œì§€ ë°”ë”” ì •ë³´ë¥¼ í¸ë¦¬í•˜ê²Œ ì¡°íšŒí•  ìˆ˜ ìˆë‹¤.</li>
<li>í—¤ë” ì •ë³´ê°€ í•„ìš”í•˜ë©´ ìœ„ì—ì„œ ì„¤ëª…í•œ <code>HttpEntity</code> ë¥¼ ì‚¬ìš©í•˜ê±°ë‚˜, <code>@RequestHeader</code> ë¥¼ ì‚¬ìš©í•˜ë©´ ëœë‹¤.</li>
<li>ìš”ì²­ íŒŒë¼ë¯¸í„° ì¡°íšŒ ê¸°ëŠ¥ì¸ <code>@RequestParam</code> ê³¼ <code>@ModelAttribute</code> ì™€ ê´€ê³„ê°€ ì—†ë‹¤.</li>
</ul>
</li>
<li><code>@ResponseBody</code> ì—­ì‹œ ì¡´ì¬í•œë‹¤.
<ul>
<li>HTTP ì‘ë‹µ ë©”ì‹œì§€ì— ì§ì ‘ ì •ë³´ë¥¼ ë‹´ì•„ì„œ ì „ë‹¬í•  ìˆ˜ ìˆë‹¤.</li>
</ul>
</li>
</ul>
<p><br><br></p>
<h2 id="vs-http--">ìš”ì²­ íŒŒë¼ë¯¸í„° vs HTTP ë©”ì‹œì§€ ë°”ë””</h2>
<h3 id="section-4">ìš”ì²­ íŒŒë¼ë¯¸í„° ì¡°íšŒ ê¸°ëŠ¥</h3>
<ul>
<li><code>@RequestParam</code></li>
<li><code>@ModelAttribute</code></li>
</ul>
<br>
<h3 id="http-----">HTTP ë©”ì‹œì§€ ë°”ë”” ì •ë³´ ì¡°íšŒ ê¸°ëŠ¥</h3>
<ul>
<li><code>@RequestBody</code></li>
</ul>
<p><br><br><br></p>
<h1 id="json--">ìš”ì²­ ë©”ì‹œì§€ ë°”ë””ì˜ JSON ë°ì´í„° ì²˜ë¦¬</h1>
<p>ì´ë²ˆì—ëŠ” ìš”ì²­ ë©”ì‹œì§€ì˜ ë°”ë””ê°€ JSON í˜•ì‹ì¼ ê²½ìš°ì— ëŒ€í•´ ì•Œì•„ë³´ì.</p>
<p><br><br></p>
<h2 id="section-5">ê¸°ì´ˆì ì¸ ë°©ì‹</h2>
<h3 id="inputstream------">ì§ì ‘ InputStreamì„ ê°€ì ¸ì™€ì„œ ë°”ë”” ë°ì´í„°ë¥¼ ìë°” ê°ì²´ë¡œ ì „í™˜í•˜ê¸°</h3>
<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cm">/**
 * ìš”ì²­ë©”ì‹œì§€ì˜ ì •ë³´
 * ë°”ë””: {"username":"hello", "age":20} 
 * í—¤ë”: content-type: application/json
 */</span>
<span class="nd">@Slf4j</span>
<span class="nd">@Controller</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">RequestBodyJsonController</span> <span class="o">{</span>

	<span class="c1">//JSONì„ ì²˜ë¦¬í•˜ê¸° ìœ„í•œ ê°ì²´</span>
	<span class="kd">private</span> <span class="nc">ObjectMapper</span> <span class="n">objectMapper</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">ObjectMapper</span><span class="o">();</span>

	<span class="nd">@PostMapping</span><span class="o">(</span><span class="s">"/request-body-json-v1"</span><span class="o">)</span>
	<span class="kd">public</span> <span class="kt">void</span> <span class="nf">requestBodyJsonV1</span><span class="o">(</span><span class="nc">HttpServletRequest</span> <span class="n">request</span><span class="o">,</span> <span class="nc">HttpServletResponse</span> <span class="n">response</span><span class="o">)</span> <span class="kd">throws</span> <span class="nc">IOException</span> <span class="o">{</span>
		
		<span class="c1">//InputStreamì„ í†µí•´ ìš”ì²­ ë©”ì‹œì§€ ë°”ë”” ì •ë³´ë¥¼ ê°€ì ¸ì˜´.</span>
		<span class="nc">ServletInputStream</span> <span class="n">inputStream</span> <span class="o">=</span> <span class="n">request</span><span class="o">.</span><span class="na">getInputStream</span><span class="o">();</span>

		<span class="c1">//ì¸ì½”ë”©í•˜ì—¬ ë¬¸ìì—´ë¡œ ë³€í™˜</span>
		<span class="nc">String</span> <span class="n">messageBody</span> <span class="o">=</span> <span class="nc">StreamUtils</span><span class="o">.</span><span class="na">copyToString</span><span class="o">(</span><span class="n">inputStream</span><span class="o">,</span> <span class="nc">StandardCharsets</span><span class="o">.</span><span class="na">UTF_8</span><span class="o">);</span>

		<span class="n">log</span><span class="o">.</span><span class="na">info</span><span class="o">(</span><span class="s">"messageBody={}"</span><span class="o">,</span> <span class="n">messageBody</span><span class="o">);</span>

		<span class="c1">//ObjectMapper ê°ì²´ë¥¼ í†µí•´ JSON ë°ì´í„°ë¥¼ HelloData ê°ì²´ì— ë°”ì¸ë”©</span>
		<span class="nc">HelloData</span> <span class="n">data</span> <span class="o">=</span> <span class="n">objectMapper</span><span class="o">.</span><span class="na">readValue</span><span class="o">(</span><span class="n">messageBody</span><span class="o">,</span> <span class="nc">HelloData</span><span class="o">.</span><span class="na">class</span><span class="o">);</span>

		<span class="n">log</span><span class="o">.</span><span class="na">info</span><span class="o">(</span><span class="s">"username={}, age={}"</span><span class="o">,</span> <span class="n">data</span><span class="o">.</span><span class="na">getUsername</span><span class="o">(),</span> <span class="n">data</span><span class="o">.</span><span class="na">getAge</span><span class="o">());</span>
		<span class="n">response</span><span class="o">.</span><span class="na">getWriter</span><span class="o">().</span><span class="na">write</span><span class="o">(</span><span class="s">"ok"</span><span class="o">);</span>
	<span class="o">}</span>

<span class="o">}</span>
</code></pre></div></div>
<ul>
<li><code>request.getInputStream()</code>
<ul>
<li>ìœ„ì—ì„œ ì„¤ëª…í–ˆë˜ ê²ƒê³¼ ë™ì¼í•˜ë‹¤.</li>
</ul>
</li>
<li><code>ObjectMapper</code> <strong>ê°ì²´</strong>
<ul>
<li>ë¬¸ìë¡œ ëœ JSON ë°ì´í„°ë¥¼ Jackson ë¼ì´ë¸ŒëŸ¬ë¦¬ì¸ <code>ObjectMapping</code> ë¥¼ ì‚¬ìš©í•´ì„œ ìë°” ê°ì²´ë¡œ ë³€í™˜í•œë‹¤.</li>
</ul>
</li>
</ul>
<p><br><br></p>
<h2 id="section-6">ì• ë„ˆí…Œì´ì…˜ ë°©ì‹</h2>
<h3 id="coderequestbodycode---json-----"><code>@RequestBody</code> ë¥¼ í†µí•´ JSON ë°ì´í„°ë¥¼ ë¬¸ìì—´ë¡œ ë°›ì•„ ê°ì²´ë¡œ ì „í™˜í•˜ê¸°</h3>
<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cm">/**
 * ìš”ì²­ë©”ì‹œì§€ì˜ ì •ë³´
 * ë°”ë””: {"username":"hello", "age":20} 
 * í—¤ë”: content-type: application/json
 */</span>
<span class="nd">@Slf4j</span>
<span class="nd">@Controller</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">RequestBodyJsonController</span> <span class="o">{</span>

	<span class="kd">private</span> <span class="nc">ObjectMapper</span> <span class="n">objectMapper</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">ObjectMapper</span><span class="o">();</span>

	<span class="cm">/**
	 * @RequestBody
	 * HttpMessageConverter ì‚¬ìš© -&gt; StringHttpMessageConverter ì ìš©
	 *
	 * @ResponseBody
	 * - ëª¨ë“  ë©”ì„œë“œì— @ResponseBody ì ìš©
	 * - ë©”ì‹œì§€ ë°”ë”” ì •ë³´ ì§ì ‘ ë°˜í™˜(view ì¡°íšŒX)
	 * - HttpMessageConverter ì‚¬ìš© -&gt; StringHttpMessageConverter ì ìš©
	 */</span>
	<span class="nd">@ResponseBody</span>
	<span class="nd">@PostMapping</span><span class="o">(</span><span class="s">"/request-body-json-v2"</span><span class="o">)</span>
	<span class="kd">public</span> <span class="nc">String</span> <span class="nf">requestBodyJsonV2</span><span class="o">(</span><span class="nd">@RequestBody</span> <span class="nc">String</span> <span class="n">messageBody</span><span class="o">)</span> <span class="kd">throws</span> <span class="nc">IOException</span> <span class="o">{</span>

		<span class="c1">//ë¬¸ìì—´ë¡œ ë°›ì€ JSON ë°ì´í„°ë¥¼ HelloData ê°ì²´ë¡œ ë³€í™˜í•œë‹¤.</span>
		<span class="nc">HelloData</span> <span class="n">data</span> <span class="o">=</span> <span class="n">objectMapper</span><span class="o">.</span><span class="na">readValue</span><span class="o">(</span><span class="n">messageBody</span><span class="o">,</span> <span class="nc">HelloData</span><span class="o">.</span><span class="na">class</span><span class="o">);</span>

		<span class="n">log</span><span class="o">.</span><span class="na">info</span><span class="o">(</span><span class="s">"username={}, age={}"</span><span class="o">,</span> <span class="n">data</span><span class="o">.</span><span class="na">getUsername</span><span class="o">(),</span> <span class="n">data</span><span class="o">.</span><span class="na">getAge</span><span class="o">());</span>
		<span class="k">return</span> <span class="s">"ok"</span><span class="o">;</span>
	<span class="o">}</span>

<span class="o">}</span>
</code></pre></div></div>
<ul>
<li>ìœ„ì—ì„œ ì„¤ëª…í•œ <code>@RequestBody</code> ë¥¼ ì ìš©í•˜ì—¬ ë¬¸ìì—´ì„ ìë°” ê°ì²´ë¡œ ë³€í™˜í–ˆë‹¤.</li>
<li>í•˜ì§€ë§Œ, ì—¬ì „íˆ ë¶ˆí¸í•˜ë‹¤â€¦</li>
<li>ì•„ë˜ì— ì„¤ëª…ì„ ê³„ì†í•˜ê² ë‹¤.</li>
</ul>
<br>
<h3 id="coderequestbodycode---json----"><code>@RequestBody</code> ë¥¼ í†µí•´ JSON ë°ì´í„°ë¥¼ ìë°” ê°ì²´ë¡œ ì „í™˜í•˜ê¸°</h3>
<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cm">/**
 * ìš”ì²­ë©”ì‹œì§€ì˜ ì •ë³´
 * ë°”ë””: {"username":"hello", "age":20} 
 * í—¤ë”: content-type: application/json
 */</span>
<span class="nd">@Slf4j</span>
<span class="nd">@Controller</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">RequestBodyJsonController</span> <span class="o">{</span>

	<span class="cm">/**
	 * @RequestBody ìƒëµ ë¶ˆê°€ëŠ¥(@ModelAttribute ê°€ ì ìš©ë˜ì–´ ë²„ë¦¼)
	 * HttpMessageConverter ì‚¬ìš© -&gt; MappingJackson2HttpMessageConverter (content- type: application/json)
	 *  */</span>
	<span class="nd">@ResponseBody</span>
	<span class="nd">@PostMapping</span><span class="o">(</span><span class="s">"/request-body-json-v3"</span><span class="o">)</span>
	<span class="kd">public</span> <span class="nc">String</span> <span class="nf">requestBodyJsonV3</span><span class="o">(</span><span class="nd">@RequestBody</span> <span class="nc">HelloData</span> <span class="n">data</span><span class="o">)</span> <span class="o">{</span>
		<span class="n">log</span><span class="o">.</span><span class="na">info</span><span class="o">(</span><span class="s">"username={}, age={}"</span><span class="o">,</span> <span class="n">data</span><span class="o">.</span><span class="na">getUsername</span><span class="o">(),</span> <span class="n">data</span><span class="o">.</span><span class="na">getAge</span><span class="o">());</span>
		<span class="k">return</span> <span class="s">"ok"</span><span class="o">;</span>
	<span class="o">}</span>

<span class="o">}</span>
</code></pre></div></div>
<ul>
<li>
<p><strong>ë§¤ê°œë³€ìˆ˜</strong> <code>@RequestBody HelloData data</code></p>
<ul>
<li>HTTP ë©”ì‹œì§€ ì»¨ë²„í„°ê°€ HTTP ë©”ì‹œì§€ ë°”ë””ì˜ ë‚´ìš©ì„ ìš°ë¦¬ê°€ ì›í•˜ëŠ” ë¬¸ìë‚˜ ê°ì²´ ë“±ìœ¼ë¡œ ë³€í™˜í•´ì¤€ë‹¤.</li>
<li>ìœ„ ì½”ë“œ (<code>requestBodyJsonV3</code> ë©”ì„œë“œ) ì˜ ê²½ìš°, JSON ë°ì´í„°ë¥¼ ìë°” ê°ì²´ë¡œ ë³€í™˜í•˜ì—¬ ë§¤ê°œë³€ìˆ˜ë¡œ ì „ë‹¬í•´ì¤€ ê²ƒì´ë‹¤.</li>
</ul>
<blockquote>
<p>ë‹¤ì‹œ ì´ì•¼ê¸°í•˜ì§€ë§Œ, ì´ ë§ˆë²•ê°™ì€ HTTP ë©”ì‹œì§€ ì»¨ë²„í„°ëŠ” ë‚˜ì¤‘ì— ë‹¤ë£¨ê² ë‹¤.</p>
</blockquote>
</li>
<li>
<p><strong>ì£¼ì˜ì‚¬í•­</strong></p>
<ul>
<li>HTTP ìš”ì²­ ë©”ì‹œì§€ì˜ í—¤ë”ê°€ <code>content-type: application/json</code> ë¥¼ í¬í•¨í•˜ëŠ”ì§€ í™•ì¸í•´ì•¼í•œë‹¤.</li>
<li>ê·¸ë˜ì•¼ë§Œ, HTTP ë©”ì‹œì§€ ì»¨ë²„í„°ê°€ ì •ìƒì ìœ¼ë¡œ JSON ë°ì´í„°ë¥¼ ìë°” ê°ì²´ë¡œ ë³€í™˜í•´ì¤€ë‹¤.</li>
</ul>
</li>
</ul>
<p>ìœ„ ì½”ë“œëŠ” ì•„ë˜ ì½”ë“œì™€ ë™ì¼í•˜ë‹¤.</p>
<br>
<h3 id="codehttpentitycode---json----"><code>HttpEntity</code> ê°ì²´ë¥¼ í†µí•´ JSON ë°ì´í„°ë¥¼ ìë°” ê°ì²´ë¡œ ì „í™˜í•˜ê¸°</h3>
<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cm">/**
 * ìš”ì²­ë©”ì‹œì§€ì˜ ì •ë³´
 * ë°”ë””: {"username":"hello", "age":20} 
 * í—¤ë”: content-type: application/json
 */</span>
<span class="nd">@Slf4j</span>
<span class="nd">@Controller</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">RequestBodyJsonController</span> <span class="o">{</span>

	<span class="nd">@ResponseBody</span>
	<span class="nd">@PostMapping</span><span class="o">(</span><span class="s">"/request-body-json-v3"</span><span class="o">)</span>
	<span class="kd">public</span> <span class="nc">String</span> <span class="nf">requestBodyJsonV3</span><span class="o">(</span><span class="nd">@RequestBody</span> <span class="nc">HelloData</span> <span class="n">data</span><span class="o">)</span> <span class="o">{</span>
		<span class="n">log</span><span class="o">.</span><span class="na">info</span><span class="o">(</span><span class="s">"username={}, age={}"</span><span class="o">,</span> <span class="n">data</span><span class="o">.</span><span class="na">getUsername</span><span class="o">(),</span> <span class="n">data</span><span class="o">.</span><span class="na">getAge</span><span class="o">());</span>
		<span class="k">return</span> <span class="s">"ok"</span><span class="o">;</span>
	<span class="o">}</span>

	<span class="c1">//ìœ„ ì½”ë“œ (requestBodyJsonV3 ë©”ì„œë“œ)ì™€ ë™ì¼í•˜ê²Œ ë™ì‘í•œë‹¤.</span>
	<span class="nd">@ResponseBody</span>
	<span class="nd">@PostMapping</span><span class="o">(</span><span class="s">"/request-body-json-v4"</span><span class="o">)</span>
	<span class="kd">public</span> <span class="nc">String</span> <span class="nf">requestBodyJsonV4</span><span class="o">(</span><span class="nc">HttpEntity</span><span class="o">&lt;</span><span class="nc">HelloData</span><span class="o">&gt;</span> <span class="n">data</span><span class="o">)</span> <span class="o">{</span>
		<span class="n">log</span><span class="o">.</span><span class="na">info</span><span class="o">(</span><span class="s">"username={}, age={}"</span><span class="o">,</span> <span class="n">data</span><span class="o">.</span><span class="na">getUsername</span><span class="o">(),</span> <span class="n">data</span><span class="o">.</span><span class="na">getAge</span><span class="o">());</span>
		<span class="k">return</span> <span class="s">"ok"</span><span class="o">;</span>
	<span class="o">}</span>

<span class="o">}</span>
</code></pre></div></div>
<br>
<h3 id="json---1">JSON í˜•ì‹ìœ¼ë¡œ ì‘ë‹µí•˜ê¸°</h3>
<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cm">/**
 * ìš”ì²­ë©”ì‹œì§€ì˜ ì •ë³´
 * ë°”ë””: {"username":"hello", "age":20} 
 * í—¤ë”: content-type: application/json
 */</span>
<span class="nd">@Slf4j</span>
<span class="nd">@Controller</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">RequestBodyJsonController</span> <span class="o">{</span>

	<span class="cm">/**
	 * @RequestBody ìƒëµ ë¶ˆê°€ëŠ¥(@ModelAttribute ê°€ ì ìš©ë˜ì–´ ë²„ë¦¼)
	 * HttpMessageConverter ì‚¬ìš© -&gt; MappingJackson2HttpMessageConverter (content- type: application/json)
	 *
	 * @ResponseBody ì ìš©
	 * - ë©”ì‹œì§€ ë°”ë”” ì •ë³´ ì§ì ‘ ë°˜í™˜(view ì¡°íšŒX)
	 * - HttpMessageConverter ì‚¬ìš© -&gt; MappingJackson2HttpMessageConverter ì ìš© (Accept: application/json)
	 */</span>
	<span class="nd">@ResponseBody</span>
	<span class="nd">@PostMapping</span><span class="o">(</span><span class="s">"/request-body-json-v5"</span><span class="o">)</span>
	<span class="kd">public</span> <span class="nc">HelloData</span> <span class="nf">requestBodyJsonV5</span><span class="o">(</span><span class="nd">@RequestBody</span> <span class="nc">HelloData</span> <span class="n">data</span><span class="o">)</span> <span class="o">{</span>
		<span class="n">log</span><span class="o">.</span><span class="na">info</span><span class="o">(</span><span class="s">"username={}, age={}"</span><span class="o">,</span> <span class="n">data</span><span class="o">.</span><span class="na">getUsername</span><span class="o">(),</span> <span class="n">data</span><span class="o">.</span><span class="na">getAge</span><span class="o">());</span>

		<span class="c1">//ìë°” ê°ì²´ë¥¼ ê·¸ëŒ€ë¡œ ë°˜í™˜í•˜ì—¬, JSON í˜•ì‹ìœ¼ë¡œ ì‘ë‹µí•œë‹¤.</span>
		<span class="c1">//ì´ëŸ¬í•œ ë™ì‘ì€ @ResponseBodyë¥¼ í†µí•´ ê°€ëŠ¥í•˜ë‹¤.</span>
		<span class="k">return</span> <span class="n">data</span><span class="o">;</span>
	<span class="o">}</span>

<span class="o">}</span>
</code></pre></div></div>
<ul>
<li><code>@ResponseBody</code>
<ul>
<li>ì‘ë‹µ ë©”ì‹œì§€ ë°”ë””ì— ì§ì ‘ ë°ì´í„°ë¥¼ ì…ë ¥í•œë‹¤. (ë°˜í™˜ê°’ì„ ì‘ë‹µ ë°ì´í„°ë¡œ)</li>
<li>ìë°” ê°ì²´ë¥¼ ë°˜í™˜í•  ë•, JSON í˜•ì‹ìœ¼ë¡œ ì‘ë‹µí•˜ê²Œ ëœë‹¤.</li>
</ul>
</li>
</ul>
<p><br><br></p>
<h2 id="section-7">ì •ë¦¬</h2>
<h3 id="coderequestbodycode"><code>@RequestBody</code></h3>
<ul>
<li>JSON ìš”ì²­ â†’ HTTP ë©”ì‹œì§€ ì»¨ë²„í„° â†’ ê°ì²´</li>
<li>ë§¤ê°œë³€ìˆ˜ì˜ ë°ì´í„°íƒ€ì…ì— ë”°ë¼, ë™ì‘ì´ ë‹¬ë¼ì§„ë‹¤.
<ul>
<li>String íƒ€ì…ì˜ ë§¤ê°œë³€ìˆ˜ì— ì ìš©ì‹œ
<ul>
<li>ìš”ì²­ ë©”ì‹œì§€ì˜ ë°”ë”” ì •ë³´ë¥¼ ë¬¸ìì—´ë¡œ ë„˜ê²¨ì¤€ë‹¤.</li>
</ul>
</li>
<li>ë‹¨ìˆœ íƒ€ì… ì´ì™¸ì˜ ë§¤ê°œë³€ìˆ˜ì— ì ìš©ì‹œ
<ul>
<li>ìš”ì²­ ë©”ì‹œì§€ì˜ ë°”ë”” ì •ë³´ë¥¼ í•´ë‹¹ ê°ì²´ë¡œ ë³€í™˜í•˜ì—¬ ë„˜ê²¨ì¤€ë‹¤.</li>
<li>(ë‹¹ì—°íˆ JSON íƒ€ì…ìœ¼ë¡œ ìš”ì²­ì‹œ, <code>content-type: application/json</code> ì´ì–´ì•¼ í•œë‹¤.)</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="coderesponsebodycode"><code>@ResponseBody</code></h3>
<ul>
<li>ê°ì²´ â†’ HTTP ë©”ì‹œì§€ ì»¨ë²„í„° â†’ JSON ì‘ë‹µ</li>
<li>ë°˜í™˜ê°’ì˜ ë°ì´í„°íƒ€ì…ì— ë”°ë¼, ë™ì‘ì´ ë‹¬ë¼ì§„ë‹¤.
<ul>
<li>ë°˜í™˜ê°’ì´ String íƒ€ì…ì¼ ë•Œ
<ul>
<li>ì‘ë‹µ ë©”ì‹œì§€ ë°”ë””ì— ë¬¸ìì—´(text)ë¡œ ë‹´ì•„ ì‘ë‹µí•œë‹¤.</li>
</ul>
</li>
<li>ë°˜í™˜ê°’ì´ ë‹¨ìˆœ íƒ€ì… ì´ì™¸ì˜ ë§¤ê°œë³€ìˆ˜ì¼ ë•Œ
<ul>
<li>ì‘ë‹µ ë©”ì‹œì§€ ë°”ë””ì— JSON í˜•ì‹ìœ¼ë¡œ ë‹´ì•„ ì‘ë‹µí•œë‹¤.</li>
</ul>
</li>
</ul>
</li>
</ul>
<br>
<hr />
<br>
<p><a href="https://inf.run/RfTn"><img src="/assets/img/Inflearn_Spring_MVC1/Logo.png" width="400px" height="300px"></a></p>
<ul>
<li><em>ë³¸ ê²Œì‹œê¸€ì€ ê¹€ì˜í•œë‹˜ì˜ ê°•ì˜ë¥¼ í† ëŒ€ë¡œ ì •ë¦¬í•œ ê¸€ì…ë‹ˆë‹¤.</em></li>
<li><em>ë” ìì„¸í•œ ë‚´ìš©ì„ ì•Œê³  ì‹¶ìœ¼ì‹  ë¶„ë“¤ì´ ê³„ì‹ ë‹¤ë©´, í•´ë‹¹ ê°•ì˜ë¥¼ ìˆ˜ê°•í•˜ì‹œëŠ” ê²ƒì„ ì¶”ì²œë“œë¦½ë‹ˆë‹¤.</em></li>
</ul>
:ET