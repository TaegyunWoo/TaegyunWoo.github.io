I"ö<p><br/><br/></p>
<ul>
<li>ì´ì „ ê²Œì‹œê¸€
<ol>
<li><a href="https://taegyunwoo.github.io/jpa/JPA_ObjectQuery_Begin">[JPA] ê°ì²´ì§€í–¥ ì¿¼ë¦¬ ì–¸ì–´ - ì†Œê°œ</a></li>
<li><a href="https://taegyunwoo.github.io/jpa/JPA_ObjectQuery_JPQL_Begin">[JPA] ê°ì²´ì§€í–¥ ì¿¼ë¦¬ ì–¸ì–´ - JPQL ê¸°ì´ˆ</a></li>
<li><a href="https://taegyunwoo.github.io/jpa/JPA_ObjectQuery_JPQL_Join">[JPA] ê°ì²´ì§€í–¥ ì¿¼ë¦¬ ì–¸ì–´ - JPQL ì¡°ì¸</a></li>
<li><a href="https://taegyunwoo.github.io/jpa/JPA_ObjectQuery_JPQL_Expert">[JPA] ê°ì²´ì§€í–¥ ì¿¼ë¦¬ ì–¸ì–´ - JPQL ì‹¬í™”</a></li>
</ol>
</li>
</ul>
<p><br/><br/></p>
<h1 id="querydsl">QueryDSL</h1>
<h2 id="section">ê°œìš”</h2>
<h3 id="querydsl-">QueryDSL ì´ë€?</h3>
<ul>
<li>CriteriaëŠ” ë„ˆë¬´ ë³µì¡í•˜ê³  ì–´ë µë‹¤.</li>
<li>QueryDSLë„ Criteriaì²˜ëŸ¼ JPQL ë¹Œë” ì—­í• ì„ ìˆ˜í–‰í•˜ì§€ë§Œ, ë”ìš± ê°„ê²°í•˜ê³  ì‰½ë‹¤.</li>
<li>QueryDSLì€ ì˜¤í”ˆì†ŒìŠ¤ í”„ë¡œì íŠ¸ì´ë‹¤.</li>
</ul>
<p><br/><br/></p>
<h2 id="querydsl--1">QueryDSL ê¸°ì´ˆ</h2>
<h3 id="q">ì¿¼ë¦¬ íƒ€ì…(Q)</h3>
<ul>
<li>ì¿¼ë¦¬ íƒ€ì…ì´ë€?
<ul>
<li>QueryDSLì„ ì‚¬ìš©í•˜ë ¤ë©´, ì—”í‹°í‹°ë¥¼ ê¸°ë°˜ìœ¼ë¡œ ì¿¼ë¦¬ íƒ€ì…ì´ë¼ëŠ” <strong>ì¿¼ë¦¬ìš© í´ë˜ìŠ¤</strong>ë¥¼ ìƒì„±í•´ì•¼ í•œë‹¤.</li>
<li><strong>ë°”ë¡œ ì´, ì¿¼ë¦¬ìš© í´ë˜ìŠ¤ê°€ ì¿¼ë¦¬ íƒ€ì…ì´ë‹¤.</strong></li>
</ul>
</li>
</ul>
<br/>
<h3 id="section-1">ì‹œì‘í•˜ê¸°</h3>
<p>ì˜ˆì œë¥¼ í†µí•´, QueryDSLì„ ì–´ë–»ê²Œ ì‚¬ìš©í•´ì•¼í•˜ëŠ” ê±´ì§€ ì•Œì•„ë³´ì.</p>
<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">public</span> <span class="kt">void</span> <span class="nf">queryDSL</span><span class="o">()</span> <span class="o">{</span>
<pre><code>&lt;span class=&quot;nc&quot;&gt;EntityManager&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;em&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;emf&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;createEntityManager&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;();&lt;/span&gt;

&lt;span class=&quot;c1&quot;&gt;// 1. QueryDSL ì‚¬ìš©ì„ ìœ„í•œ ê°ì²´ ìƒì„±&lt;/span&gt;
&lt;span class=&quot;nc&quot;&gt;JPAQuery&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;query&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;JPAQuery&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;em&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;

&lt;span class=&quot;c1&quot;&gt;// 2. ì¿¼ë¦¬íƒ€ì…(Q) ìƒì„±&lt;/span&gt;
&lt;span class=&quot;nc&quot;&gt;QMember&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;qMember&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;QMember&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;m&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;//ìƒì„±ë˜ëŠ” JPQLì˜ ë³„ì¹­ì„ mìœ¼ë¡œ ì„¤ì •&lt;/span&gt;

&lt;span class=&quot;nc&quot;&gt;List&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;Member&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;members&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;query&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;from&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;qMember&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
	&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;where&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;qMember&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;eq&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;íšŒì›1&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;))&lt;/span&gt;
	&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;orderBy&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;qMember&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;desc&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;())&lt;/span&gt;
	&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;list&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;qMember&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
</code></pre>
<p><span class="o">}</span>
</code></pre></div></div></p>
<ol>
<li><code>com.mysema.query.jpa.impl.JPAQuery</code> ê°ì²´ ìƒì„±í•œë‹¤.
<ul>
<li>ì´ë•Œ ìƒì„±ìë¥¼ í†µí•´, <code>EntityManager</code> ê°ì²´ë¥¼ ë„˜ê²¨ì¤€ë‹¤.</li>
</ul>
</li>
<li>ì‚¬ìš©í•  ì¿¼ë¦¬ íƒ€ì…(Q)ë¥¼ ìƒì„±í•œë‹¤.
<ul>
<li>ì´ë•Œ ìƒì„±ìë¥¼ í†µí•´, ì—”í‹°í‹°ì˜ ë³„ì¹­ì„ ì„¤ì •í•œë‹¤.</li>
</ul>
</li>
</ol>
<ul>
<li>
<p>ê²°ê³¼ SQL</p>
<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">SELECT</span> <span class="n">m</span> <span class="k">FROM</span> <span class="n">Member</span> <span class="n">m</span>
<span class="k">WHERE</span> <span class="n">m</span><span class="p">.</span><span class="n">name</span> <span class="o">=</span> <span class="o">?</span><span class="mi">1</span>
<span class="k">ORDER</span> <span class="k">BY</span> <span class="n">m</span><span class="p">.</span><span class="n">name</span> <span class="k">DESC</span>
</code></pre></div></div>
</li>
</ul>
<br/>
<h3 id="q-">ê¸°ë³¸ Q ìƒì„±</h3>
<ul>
<li>
<p>ì¿¼ë¦¬ íƒ€ì…ì€ ì‚¬ìš©í•˜ê¸° í¸ë¦¬í•˜ë„ë¡ ì•„ë˜ì™€ ê°™ì´ <strong>ê¸°ë³¸ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ë³´ê´€</strong>í•˜ê³  ìˆë‹¤.</p>
<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">public</span> <span class="kd">class</span> <span class="nc">QMember</span> <span class="kd">extends</span> <span class="nc">EntityPathBase</span><span class="o">&lt;</span><span class="nc">Member</span><span class="o">&gt;</span> <span class="o">{</span>
<pre><code>&lt;span class=&quot;kd&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;QMember&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;member&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;QMember&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;member1&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
</code></pre>
<p><span class="o">}</span>
</code></pre></div></div></p>
<ul>
<li><strong>ë”°ë¼ì„œ QMember ê°ì²´ë¥¼ new ì—°ì‚°ìë¡œ ìƒì„±í•˜ì§€ ì•Šê³ ,  <code>QMember.member</code> ë¡œ ì ‘ê·¼í•˜ì—¬ QMember ê°ì²´ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.</strong></li>
</ul>
</li>
<li>
<p>ì˜ˆì‹œ ì½”ë“œ</p>
<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nc">QMember</span> <span class="n">qMember</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">QMember</span><span class="o">(</span><span class="s">"m"</span><span class="o">);</span> <span class="c1">//ì§ì ‘ ì§€ì •</span>
<span class="nc">QMember</span> <span class="n">qMember</span> <span class="o">=</span> <span class="nc">QMember</span><span class="o">.</span><span class="na">member</span><span class="o">;</span> <span class="c1">//ê¸°ë³¸ ì¸ìŠ¤í„´ìŠ¤ ì‚¬ìš©</span>
</code></pre></div></div>
</li>
</ul>
<br/>
<ul>
<li>
<p><code>import static</code> ì„ í†µí•´ ê¸°ë³¸ ì¸ìŠ¤í„´ìŠ¤ ì‚¬ìš© ì‹œ, ì½”ë“œê°€ ë”ìš± ê°„ê²°í•´ì§„ë‹¤.</p>
<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">static</span> <span class="n">jpabook</span><span class="o">.</span><span class="na">jpashop</span><span class="o">.</span><span class="na">domain</span><span class="o">.</span><span class="na">QMember</span><span class="o">.</span><span class="na">member</span><span class="o">;</span> <span class="c1">// ê¸°ë³¸ ì¸ìŠ¤í„´ìŠ¤</span>
<p><span class="kd">public</span> <span class="kt">void</span> <span class="nf">basic</span><span class="o">()</span> <span class="o">{</span>
<span class="nc">EntityManager</span> <span class="n">em</span> <span class="o">=</span> <span class="n">emf</span><span class="o">.</span><span class="na">createEntityManager</span><span class="o">();</span></p>
<pre><code>&lt;span class=&quot;c1&quot;&gt;//í•„ìš”ì—†ëŠ” ì½”ë“œ&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;// QMember member = new QMember(&quot;member1&quot;);&lt;/span&gt;

&lt;span class=&quot;nc&quot;&gt;JPAQuery&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;query&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;JPAQuery&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;em&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;nc&quot;&gt;List&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;Member&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;members&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;query&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;from&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;member&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
		&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;where&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;member&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;eq&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;íšŒì›1&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;))&lt;/span&gt;
		&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;orderBy&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;member&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;desc&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;())&lt;/span&gt;
		&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;list&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;member&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
</code></pre>
<p><span class="o">}</span>
</code></pre></div></div></p>
</li>
</ul>
<p><br/><br/></p>
<h2 id="section-2">ê²€ìƒ‰ ì¡°ê±´ ì¿¼ë¦¬</h2>
<h3 id="querydsl--2">QueryDSL ì½”ë“œ</h3>
<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nc">JPAQuery</span> <span class="n">query</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">JPAQuery</span><span class="o">(</span><span class="n">em</span><span class="o">);</span>
<span class="nc">QItem</span> <span class="n">item</span> <span class="o">=</span> <span class="nc">QItem</span><span class="o">.</span><span class="na">item</span><span class="o">;</span>
<span class="nc">List</span><span class="o">&lt;</span><span class="nc">Item</span><span class="o">&gt;</span> <span class="n">list</span> <span class="o">=</span> <span class="n">query</span><span class="o">.</span><span class="na">from</span><span class="o">(</span><span class="n">item</span><span class="o">)</span>
		<span class="o">.</span><span class="na">where</span><span class="o">(</span><span class="n">item</span><span class="o">.</span><span class="na">name</span><span class="o">.</span><span class="na">eq</span><span class="o">(</span><span class="s">"ì¢‹ì€ìƒí’ˆ"</span><span class="o">).</span><span class="na">and</span><span class="o">(</span><span class="n">item</span><span class="o">.</span><span class="na">price</span><span class="o">.</span><span class="na">gt</span><span class="o">(</span><span class="mi">20000</span><span class="o">)))</span>
		<span class="o">.</span><span class="na">list</span><span class="o">(</span><span class="n">item</span><span class="o">);</span> <span class="c1">//ì¡°íšŒí•  í”„ë¡œì ì…˜ ì§€ì •</span>
</code></pre></div></div>
<br/>
<h3 id="jpql">ë³€í™˜ëœ JPQL</h3>
<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code>select i From Item i
where i.name=?1 and i.price &gt; ?2
</code></pre></div></div>
<br/>
<h3 id="section-3">ìƒì„¸ì„¤ëª…</h3>
<ul>
<li>
<p>QueryDSLì˜ whereì ˆì— <code>and</code> ë‚˜ <code>or</code>ì„ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.</p>
</li>
<li>
<p>ì•„ë˜ ì½”ë“œì²˜ëŸ¼ ê°„í¸í•˜ê²Œ <code>and</code> ì—°ì‚°ì„ í• ìˆ˜ë„ ìˆë‹¤.</p>
<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code>.where(item.name.eq("ì¢‹ì€ìƒí’ˆ"), item.price.gt(20000))
</code></pre></div></div>
</li>
<li>
<p><code>where()</code> ì—ì„œ ì‚¬ìš©ë˜ëŠ” ì£¼ìš” ë©”ì„œë“œ</p>
<ul>
<li><code>item.price.between(10000, 20000);</code>
<ul>
<li>ê°€ê²©ì´ 10000ì› ~ 20000ì›ì¸ ìƒí’ˆ</li>
</ul>
</li>
<li><code>item.name.contains(&quot;ìƒí’ˆ1&quot;);</code>
<ul>
<li>ìƒí’ˆ1ì´ë¼ëŠ” ì´ë¦„ì„ í¬í•¨í•œ ìƒí’ˆ</li>
<li>SQL: <code>%ìƒí’ˆ1%</code></li>
</ul>
</li>
<li><code>item.name.startsWith(&quot;ê³ ê¸‰&quot;);</code>
<ul>
<li>ì´ë¦„ì´ ê³ ê¸‰ìœ¼ë¡œ ì‹œì‘í•˜ëŠ” ìƒí’ˆ</li>
<li>SQL: <code>ê³ ê¸‰%</code></li>
</ul>
</li>
</ul>
<blockquote>
<p>ì´ì™¸ì—ë„ ì—¬ëŸ¬ê°€ì§€ ë©”ì„œë“œê°€ ì¡´ì¬í•œë‹¤. ìì„¸í•œ ê²ƒì€ IDEì˜ ë„ì›€ì„ ë°›ì•„ ì°¾ì•„ë³´ì.</p>
</blockquote>
</li>
</ul>
<p><br/><br/></p>
<h2 id="section-4">ê²°ê³¼ ì¡°íšŒ</h2>
<h3 id="querydsl--3">QueryDSL ì½”ë“œ</h3>
<ul>
<li>
<p><strong>ì¿¼ë¦¬ ì‘ì„±ì´ ëë‚˜ê³ , ê²°ê³¼ ì¡°íšŒ ë©”ì„œë“œë¥¼ í˜¸ì¶œí•˜ë©´ ì‹¤ì œ DBë¥¼ ì¡°íšŒí•œë‹¤.</strong></p>
<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nc">List</span><span class="o">&lt;</span><span class="nc">Item</span><span class="o">&gt;</span> <span class="n">list</span> <span class="o">=</span> <span class="n">query</span><span class="o">.</span><span class="na">from</span><span class="o">(</span><span class="n">item</span><span class="o">)</span>
		<span class="o">.</span><span class="na">where</span><span class="o">(</span><span class="n">item</span><span class="o">.</span><span class="na">name</span><span class="o">.</span><span class="na">eq</span><span class="o">(</span><span class="s">"ì¢‹ì€ìƒí’ˆ"</span><span class="o">).</span><span class="na">and</span><span class="o">(</span><span class="n">item</span><span class="o">.</span><span class="na">price</span><span class="o">.</span><span class="na">gt</span><span class="o">(</span><span class="mi">20000</span><span class="o">)))</span>
		<span class="o">.</span><span class="na">list</span><span class="o">(</span><span class="n">item</span><span class="o">);</span> <span class="c1">//ì´ë•Œ ì‹¤ì œ DB ì¡°íšŒ</span>
</code></pre></div></div>
</li>
</ul>
<br/>
<h3 id="section-5">ëŒ€í‘œ ê²°ê³¼ ì¡°íšŒ ë©”ì„œë“œ</h3>
<ul>
<li><code>uniqueResult(í”„ë¡œì ì…˜)</code>
<ul>
<li>ì¡°íšŒ ê²°ê³¼ê°€ í•œ ê±´ì¼ ë•Œ ì‚¬ìš©í•˜ëŠ” ë©”ì„œë“œ</li>
<li>ì¡°íšŒ ê²°ê³¼ê°€ ì—†ìŒ: null ë°˜í™˜</li>
<li>ì¡°íšŒ ê²°ê³¼ê°€ í•˜ë‚˜ ì´ìƒ: <code>com.mysema.query.NonUniqueResultException</code> ì˜ˆì™¸ ë°œìƒ</li>
</ul>
</li>
<li><code>singleResult(í”„ë¡œì ì…˜)</code>
<ul>
<li>ê²°ê³¼ê°€ í•˜ë‚˜ ì´ìƒì´ë©´ ì²˜ìŒ ë°ì´í„°ë¥¼ ë°˜í™˜í•œë‹¤.</li>
</ul>
</li>
<li><code>list(í”„ë¡œì ì…˜)</code>
<ul>
<li>ê²°ê³¼ê°€ í•˜ë‚˜ ì´ìƒì¼ ë•Œ ì‚¬ìš©í•œë‹¤.</li>
<li>ê²°ê³¼ê°€ ì—†ìœ¼ë©´ ë¹ˆ ì»¬ë ‰ì…˜ì„ ë°˜í™˜í•œë‹¤.</li>
</ul>
</li>
</ul>
<p><br/><br/></p>
<h2 id="section-6">í˜ì´ì§•ê³¼ ì •ë ¬</h2>
<h3 id="querydsl--4">QueryDSL ì½”ë“œ</h3>
<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nc">QItem</span> <span class="n">item</span> <span class="o">=</span> <span class="nc">QItem</span><span class="o">.</span><span class="na">item</span><span class="o">;</span>
<span class="n">query</span><span class="o">.</span><span class="na">from</span><span class="o">(</span><span class="n">item</span><span class="o">)</span>
	<span class="o">.</span><span class="na">where</span><span class="o">(</span><span class="n">item</span><span class="o">.</span><span class="na">price</span><span class="o">.</span><span class="na">gt</span><span class="o">(</span><span class="mi">20000</span><span class="o">))</span>
	<span class="o">.</span><span class="na">orderBy</span><span class="o">(</span><span class="n">item</span><span class="o">.</span><span class="na">price</span><span class="o">.</span><span class="na">desc</span><span class="o">(),</span> <span class="n">item</span><span class="o">.</span><span class="na">stockQuantity</span><span class="o">.</span><span class="na">asc</span><span class="o">())</span> <span class="c1">//ì •ë ¬</span>
	<span class="o">.</span><span class="na">offset</span><span class="o">(</span><span class="mi">10</span><span class="o">).</span><span class="na">limit</span><span class="o">(</span><span class="mi">20</span><span class="o">)</span> <span class="c1">//í˜ì´ì§•</span>
	<span class="o">.</span><span class="na">list</span><span class="o">(</span><span class="n">item</span><span class="o">);</span>
</code></pre></div></div>
<ul>
<li><code>.orderBy(item.price.desc(), item.stockQuantity.asc())</code>
<ul>
<li>priceë¥¼ ë‚´ë¦¼ì°¨ìˆœìœ¼ë¡œ ì •ë ¬í•œë‹¤.</li>
<li>priceê°€ ë™ì¼í•  ë•Œ, stockQuantityë¥¼ ì˜¤ë¦„ì°¨ìˆœìœ¼ë¡œ ì •ë ¬í•œë‹¤.</li>
</ul>
</li>
<li><code>.offset(10).limit(20)</code>
<ul>
<li>0ë²ˆë¶€í„° ì‹œì‘í•˜ëŠ” indexì—ì„œ, 10ë²ˆì§¸ ë ˆì½”ë“œë¶€í„° ì´ 20ê°œì˜ ë ˆì½”ë“œë¥¼ ê²€ìƒ‰í•œë‹¤.</li>
</ul>
</li>
</ul>
<br/>
<h3 id="section-7">ë˜ë‹¤ë¥¸ í˜ì´ì§• ë°©ë²•</h3>
<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nc">QueryModifiers</span> <span class="n">queryModifiers</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">QueryModifiers</span><span class="o">(</span><span class="mi">20L</span><span class="o">,</span> <span class="mi">10L</span><span class="o">);</span>
<p><span class="nc">List</span><span class="o">&lt;</span><span class="nc">Item</span><span class="o">&gt;</span> <span class="n">list</span> <span class="o">=</span> <span class="n">query</span><span class="o">.</span><span class="na">from</span><span class="o">(</span><span class="n">item</span><span class="o">)</span>
<span class="o">.</span><span class="na">restrict</span><span class="o">(</span><span class="n">queryModifiers</span><span class="o">)</span>
<span class="o">.</span><span class="na">list</span><span class="o">(</span><span class="n">item</span><span class="o">);</span>
</code></pre></div></div></p>
<ul>
<li><code>QueryModifiers</code>
<ul>
<li>í•´ë‹¹ ê°ì²´ë¥¼ í†µí•´ í˜ì´ì§•ì„ í•  ìˆ˜ ìˆë‹¤.</li>
<li><code>new QueryModifiers(Long ê²€ìƒ‰_ê°œìˆ˜, Long ì‹œì‘_ì¸ë±ìŠ¤)</code></li>
</ul>
</li>
<li><code>.restrict(QueryModifiers_ê°ì²´)</code>
<ul>
<li>í˜ì´ì§• ì •ë³´ê°€ ë‹´ê¸´ ê°ì²´ë¥¼ ì „ë‹¬í•˜ì—¬ ì ìš©í•œë‹¤.</li>
</ul>
</li>
</ul>
<br/>
<h3 id="section-8">ê²€ìƒ‰ëœ ì „ì²´ ë°ì´í„° ìˆ˜ í™•ì¸í•˜ê¸°</h3>
<ul>
<li>ì‹¤ì œ í˜ì´ì§• ì²˜ë¦¬ë¥¼ ìœ„í•´ì„ , ê²€ìƒ‰ëœ ì „ì²´ ë°ì´í„° ìˆ˜ë¥¼ ì•Œì•„ì•¼ í•œë‹¤.</li>
<li>ì´ë•, <code>list()</code> ëŒ€ì‹  <code>listResults()</code> ë¥¼ ì‚¬ìš©í•œë‹¤.</li>
</ul>
<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nc">SearchResults</span><span class="o">&lt;</span><span class="nc">Item</span><span class="o">&gt;</span> <span class="n">result</span> <span class="o">=</span> <span class="n">query</span><span class="o">.</span><span class="na">from</span><span class="o">(</span><span class="n">item</span><span class="o">)</span>
		<span class="o">.</span><span class="na">where</span><span class="o">(</span><span class="n">item</span><span class="o">.</span><span class="na">price</span><span class="o">.</span><span class="na">gt</span><span class="o">(</span><span class="mi">10000</span><span class="o">))</span>
		<span class="o">.</span><span class="na">offset</span><span class="o">(</span><span class="mi">10</span><span class="o">).</span><span class="na">limit</span><span class="o">(</span><span class="mi">20</span><span class="o">)</span>
		<span class="o">.</span><span class="na">listResults</span><span class="o">(</span><span class="n">item</span><span class="o">);</span> <span class="c1">//list() ëŒ€ì‹  listResults()ë¥¼ ì‚¬ìš©í•œë‹¤.</span>
<p><span class="kt">long</span> <span class="n">total</span> <span class="o">=</span> <span class="n">result</span><span class="o">.</span><span class="na">getTotal</span><span class="o">();</span> <span class="c1">// ê²€ìƒ‰ëœ ì „ì²´ ë°ì´í„° ìˆ˜</span>
<span class="kt">long</span> <span class="n">limit</span> <span class="o">=</span> <span class="n">result</span><span class="o">.</span><span class="na">getLimit</span><span class="o">();</span> <span class="c1">// Limit ê°’</span>
<span class="kt">long</span> <span class="n">offset</span> <span class="o">=</span> <span class="n">result</span><span class="o">.</span><span class="na">getOffset</span><span class="o">();</span> <span class="c1">// Offset ê°’</span></p>
<p><span class="nc">List</span><span class="o">&lt;</span><span class="nc">Item</span><span class="o">&gt;</span> <span class="n">results</span> <span class="o">=</span> <span class="n">result</span><span class="o">.</span><span class="na">getResults</span><span class="o">();</span> <span class="c1">//í˜ì´ì§• ì ìš© ê²°ê³¼</span>
</code></pre></div></div></p>
<ul>
<li><code>listResults()</code> ë¥¼ ì‚¬ìš©í•˜ë©´, ì „ì²´ ë°ì´í„° ì¡°íšŒë¥¼ ìœ„í•œ <code>countì¿¼ë¦¬</code>ë¥¼ í•œë²ˆ ë” ì‹¤í–‰í•œë‹¤.</li>
<li>ê·¸ë¦¬ê³  ê·¸ ê²°ê³¼ë¡œ <code>SearchResults</code> ë¥¼ ë°˜í™˜í•œë‹¤. ì´ ê°ì²´ì—ì„œ ì „ì²´ ë°ì´í„° ìˆ˜ë¥¼ ì¡°íšŒí•  ìˆ˜ ìˆë‹¤.</li>
</ul>
<p><br/><br/></p>
<h2 id="section-9">ê·¸ë£¹</h2>
<h3 id="querydsl--5">QueryDSL ì½”ë“œ</h3>
<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">query</span><span class="o">.</span><span class="na">from</span><span class="o">(</span><span class="n">item</span><span class="o">)</span>
	<span class="o">.</span><span class="na">groupBy</span><span class="o">(</span><span class="n">item</span><span class="o">.</span><span class="na">price</span><span class="o">)</span> <span class="c1">//ê°™ì€ priceë¼ë¦¬ ê·¸ë£¹í•‘</span>
	<span class="o">.</span><span class="na">having</span><span class="o">(</span><span class="n">item</span><span class="o">.</span><span class="na">price</span><span class="o">.</span><span class="na">gt</span><span class="o">(</span><span class="mi">1000</span><span class="o">))</span> <span class="c1">//ê·¸ë£¹í•‘ ê²°ê³¼ì—ì„œ 1000ë³´ë‹¤ í° ê·¸ë£¹ë§Œ</span>
	<span class="o">.</span><span class="na">list</span><span class="o">(</span><span class="n">item</span><span class="o">);</span>
</code></pre></div></div>
<p><br/><br/></p>
<h2 id="section-10">ì¡°ì¸</h2>
<h3 id="querydsl---">QueryDSLì—ì„œ ì‚¬ìš©ê°€ëŠ¥í•œ ì¡°ì¸ ì¢…ë¥˜</h3>
<ul>
<li>
<p><code>innerJoin (join)</code></p>
</li>
<li>
<p><code>leftJoin</code></p>
</li>
<li>
<p><code>rightJoin</code></p>
</li>
<li>
<p><code>fullJoin</code></p>
</li>
<li>
<p>ê¸°íƒ€</p>
<ul>
<li><code>on</code> ì ˆ</li>
<li><code>fetch</code> ì¡°ì¸</li>
</ul>
</li>
</ul>
<br/>
<h3 id="section-11">ì¡°ì¸ ê¸°ë³¸ ë¬¸ë²•</h3>
<ul>
<li>ì²« ë²ˆì§¸ íŒŒë¼ë¯¸í„°
<ul>
<li>ì¡°ì¸ ëŒ€ìƒ ì§€ì •</li>
</ul>
</li>
<li>ë‘ ë²ˆì§¸ íŒŒë¼ë¯¸í„°
<ul>
<li>ë³„ì¹­ìœ¼ë¡œ ì‚¬ìš©í•  ì¿¼ë¦¬ íƒ€ì… ì§€ì •</li>
</ul>
</li>
</ul>
<p><code>join(ì¡°ì¸ëŒ€ìƒ, ë³„ì¹­ìœ¼ë¡œ_ì‚¬ìš©í• _ì¿¼ë¦¬íƒ€ì…)</code></p>
<br/>
<h3 id="querydsl----1">QueryDSL ì½”ë“œ: ê¸°ë³¸ ì¡°ì¸</h3>
<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nc">QOrder</span> <span class="n">order</span> <span class="o">=</span> <span class="nc">QOrder</span><span class="o">.</span><span class="na">order</span><span class="o">;</span>
<span class="nc">QMember</span> <span class="n">member</span> <span class="o">=</span> <span class="nc">QMember</span><span class="o">.</span><span class="na">member</span><span class="o">;</span>
<span class="nc">QOrderItem</span> <span class="n">orderItem</span> <span class="o">=</span> <span class="nc">QOrderItem</span><span class="o">.</span><span class="na">orderItem</span><span class="o">;</span>
<p><span class="n">query</span><span class="o">.</span><span class="na">from</span><span class="o">(</span><span class="n">order</span><span class="o">)</span>
<span class="o">.</span><span class="na">join</span><span class="o">(</span><span class="n">order</span><span class="o">.</span><span class="na">member</span><span class="o">,</span> <span class="n">member</span><span class="o">)</span>
<span class="o">.</span><span class="na">leftJoin</span><span class="o">(</span><span class="n">order</span><span class="o">.</span><span class="na">orderItems</span><span class="o">,</span> <span class="n">orderItem</span><span class="o">)</span>
<span class="o">.</span><span class="na">list</span><span class="o">(</span><span class="n">order</span><span class="o">);</span>
</code></pre></div></div>
<br/></p>
<h3 id="querydsl----on">QueryDSL ì½”ë“œ: ì¡°ì¸ + ON</h3>
<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nc">QOrder</span> <span class="n">order</span> <span class="o">=</span> <span class="nc">QOrder</span><span class="o">.</span><span class="na">order</span><span class="o">;</span>
<span class="nc">QOrderItem</span> <span class="n">orderItem</span> <span class="o">=</span> <span class="nc">QOrderItem</span><span class="o">.</span><span class="na">orderItem</span><span class="o">;</span>
<p><span class="n">query</span><span class="o">.</span><span class="na">from</span><span class="o">(</span><span class="n">order</span><span class="o">)</span>
<span class="o">.</span><span class="na">leftJoin</span><span class="o">(</span><span class="n">order</span><span class="o">.</span><span class="na">orderItems</span><span class="o">,</span> <span class="n">orderItem</span><span class="o">)</span>
<span class="o">.</span><span class="na">on</span><span class="o">(</span><span class="n">orderItem</span><span class="o">.</span><span class="na">count</span><span class="o">.</span><span class="na">gt</span><span class="o">(</span><span class="mi">2</span><span class="o">))</span>
<span class="o">.</span><span class="na">list</span><span class="o">(</span><span class="n">order</span><span class="o">);</span>
</code></pre></div></div>
<br/></p>
<h3 id="querydsl----2">QueryDSL ì½”ë“œ: í˜ì¹˜ ì¡°ì¸</h3>
<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nc">QOrder</span> <span class="n">order</span> <span class="o">=</span> <span class="nc">QOrder</span><span class="o">.</span><span class="na">order</span><span class="o">;</span>
<span class="nc">QMember</span> <span class="n">member</span> <span class="o">=</span> <span class="nc">QMember</span><span class="o">.</span><span class="na">member</span><span class="o">;</span>
<span class="nc">QOrderItem</span> <span class="n">orderItem</span> <span class="o">=</span> <span class="nc">QOrderItem</span><span class="o">.</span><span class="na">orderItem</span><span class="o">;</span>
<p><span class="n">query</span><span class="o">.</span><span class="na">from</span><span class="o">(</span><span class="n">order</span><span class="o">)</span>
<span class="o">.</span><span class="na">innerJoin</span><span class="o">(</span><span class="n">order</span><span class="o">.</span><span class="na">member</span><span class="o">,</span> <span class="n">member</span><span class="o">).</span><span class="na">fetch</span><span class="o">()</span>
<span class="o">.</span><span class="na">leftJoin</span><span class="o">(</span><span class="n">order</span><span class="o">.</span><span class="na">orderItems</span><span class="o">,</span> <span class="n">orderItem</span><span class="o">).</span><span class="na">fetch</span><span class="o">()</span>
<span class="o">.</span><span class="na">list</span><span class="o">(</span><span class="n">order</span><span class="o">);</span>
</code></pre></div></div>
<br/></p>
<h3 id="querydsl----3">QueryDSL ì½”ë“œ: ì„¸íƒ€ ì¡°ì¸</h3>
<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nc">QOrder</span> <span class="n">order</span> <span class="o">=</span> <span class="nc">QOrder</span><span class="o">.</span><span class="na">order</span><span class="o">;</span>
<span class="nc">QMember</span> <span class="n">member</span> <span class="o">=</span> <span class="nc">QMember</span><span class="o">.</span><span class="na">member</span><span class="o">;</span>
<p><span class="n">query</span><span class="o">.</span><span class="na">from</span><span class="o">(</span><span class="n">order</span><span class="o">,</span> <span class="n">member</span><span class="o">)</span>
<span class="o">.</span><span class="na">where</span><span class="o">(</span><span class="n">order</span><span class="o">.</span><span class="na">member</span><span class="o">.</span><span class="na">eq</span><span class="o">(</span><span class="n">member</span><span class="o">))</span>
<span class="o">.</span><span class="na">list</span><span class="o">(</span><span class="n">order</span><span class="o">);</span>
</code></pre></div></div></p>
<p><br/><br/></p>
<h2 id="section-12">ì„œë¸Œ ì¿¼ë¦¬</h2>
<h3 id="querydsl--6">QueryDSL ì„œë¸Œì¿¼ë¦¬</h3>
<ul>
<li>ì„œë¸Œ ì¿¼ë¦¬ëŠ” <code>com.mysema.query.jpa.JPASubQuery</code> ë¥¼ ìƒì„±í•´ì„œ ì‚¬ìš©í•œë‹¤.</li>
<li>ì„œë¸Œ ì¿¼ë¦¬ì˜ ê²°ê³¼ê°€ í•˜ë‚˜ë©´ <code>unique()</code>, ì—¬ëŸ¬ ê±´ì´ë©´ <code>list()</code> ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.</li>
</ul>
<br/>
<h3 id="querydsl----4">QueryDSL ì½”ë“œ: í•œ ê±´</h3>
<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nc">QItem</span> <span class="n">item</span> <span class="o">=</span> <span class="nc">QItem</span><span class="o">.</span><span class="na">item</span><span class="o">;</span> <span class="c1">//ì£¼ ì¿¼ë¦¬ì—ì„œ ì‚¬ìš©ë  ì¿¼ë¦¬ íƒ€ì… ê°ì²´</span>
<span class="nc">QItem</span><span class="o">.</span><span class="na">itemSub</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">QItem</span><span class="o">(</span><span class="s">"itemSub"</span><span class="o">);</span> <span class="c1">//ì„œë¸Œ ì¿¼ë¦¬ì—ì„œ ì‚¬ìš©ë  ì¿¼ë¦¬ íƒ€ì… ê°ì²´</span>
<p><span class="n">query</span><span class="o">.</span><span class="na">from</span><span class="o">(</span><span class="n">item</span><span class="o">)</span>
<span class="o">.</span><span class="na">where</span><span class="o">(</span><span class="n">item</span><span class="o">.</span><span class="na">price</span><span class="o">.</span><span class="na">eq</span><span class="o">(</span>
<span class="k">new</span> <span class="nf">JPASubQuery</span><span class="o">().</span><span class="na">from</span><span class="o">(</span><span class="n">itemSub</span><span class="o">).</span><span class="na">unique</span><span class="o">(</span><span class="n">itemSub</span><span class="o">.</span><span class="na">price</span><span class="o">.</span><span class="na">max</span><span class="o">())</span> <span class="c1">//ì„œë¸Œì¿¼ë¦¬</span>
<span class="o">))</span>
<span class="o">.</span><span class="na">list</span><span class="o">(</span><span class="n">item</span><span class="o">);</span>
</code></pre></div></div>
<br/></p>
<h3 id="querydsl----5">QueryDSL ì½”ë“œ: ì—¬ëŸ¬ ê±´</h3>
<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nc">QItem</span> <span class="n">item</span> <span class="o">=</span> <span class="nc">QItem</span><span class="o">.</span><span class="na">item</span><span class="o">;</span> <span class="c1">//ì£¼ ì¿¼ë¦¬ì—ì„œ ì‚¬ìš©ë  ì¿¼ë¦¬ íƒ€ì… ê°ì²´</span>
<span class="nc">QItem</span><span class="o">.</span><span class="na">itemSub</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">QItem</span><span class="o">(</span><span class="s">"itemSub"</span><span class="o">);</span> <span class="c1">//ì„œë¸Œ ì¿¼ë¦¬ì—ì„œ ì‚¬ìš©ë  ì¿¼ë¦¬ íƒ€ì… ê°ì²´</span>
<p><span class="n">query</span><span class="o">.</span><span class="na">from</span><span class="o">(</span><span class="n">item</span><span class="o">)</span>
<span class="o">.</span><span class="na">where</span><span class="o">(</span><span class="n">item</span><span class="o">.</span><span class="na">in</span><span class="o">(</span>
<span class="k">new</span> <span class="nf">JPASubQuery</span><span class="o">().</span><span class="na">from</span><span class="o">(</span><span class="n">itemSub</span><span class="o">).</span>
<span class="o">.</span><span class="na">where</span><span class="o">(</span><span class="n">item</span><span class="o">.</span><span class="na">name</span><span class="o">.</span><span class="na">eq</span><span class="o">(</span><span class="n">itemSub</span><span class="o">.</span><span class="na">name</span><span class="o">))</span>
<span class="o">.</span><span class="na">list</span><span class="o">(</span><span class="n">itemSub</span><span class="o">)</span> <span class="c1">//ì„œë¸Œì¿¼ë¦¬</span>
<span class="o">))</span>
<span class="o">.</span><span class="na">list</span><span class="o">(</span><span class="n">item</span><span class="o">);</span>
</code></pre></div></div></p>
<p><br/><br/></p>
<h2 id="section-13">í”„ë¡œì ì…˜ê³¼ ê²°ê³¼ ë°˜í™˜</h2>
<h3 id="section-14">í”„ë¡œì ì…˜ì´ë€?</h3>
<ul>
<li>
<p>í”„ë¡œì ì…˜ì€ <code>select</code> ì ˆì— ì¡°íšŒ ëŒ€ìƒì„ ì§€ì •í•˜ëŠ” ê²ƒì„ ë§í•œë‹¤.</p>
<blockquote>
<p>ìì„¸í•œ ê²ƒì€ <a href="https://taegyunwoo.github.io/jpa/JPA_ObjectQuery_JPQL_Begin#14">ì´ì „ ê²Œì‹œê¸€ ì°¸ê³ </a></p>
</blockquote>
</li>
</ul>
<br/>
<h3 id="querydsl-----">QueryDSL ì½”ë“œ: í”„ë¡œì ì…˜ ëŒ€ìƒì´ í•˜ë‚˜ì¸ ê²½ìš°</h3>
<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nc">QItem</span> <span class="n">item</span> <span class="o">=</span> <span class="nc">QItem</span><span class="o">.</span><span class="na">item</span><span class="o">;</span>
<p><span class="nc">List</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;</span> <span class="n">result</span> <span class="o">=</span> <span class="n">query</span><span class="o">.</span><span class="na">from</span><span class="o">(</span><span class="n">item</span><span class="o">).</span><span class="na">list</span><span class="o">(</span><span class="n">item</span><span class="o">.</span><span class="na">name</span><span class="o">);</span>
<span class="c1">//í”„ë¡œì ì…˜=item.name</span></p>
<p><span class="k">for</span> <span class="o">(</span><span class="nc">String</span> <span class="n">name</span> <span class="o">:</span> <span class="n">result</span><span class="o">)</span> <span class="o">{</span>
<span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">â€œname = â€œ</span> <span class="o">+</span> <span class="n">name</span><span class="o">)</span>
<span class="o">}</span>
</code></pre></div></div>
<br/></p>
<h3 id="querydsl------1">QueryDSL ì½”ë“œ: ì—¬ëŸ¬ ì¹¼ëŸ¼ ë°˜í™˜ê³¼ íŠœí”Œ</h3>
<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nc">QItem</span> <span class="n">item</span> <span class="o">=</span> <span class="nc">QItem</span><span class="o">.</span><span class="na">item</span><span class="o">;</span>
<p><span class="c1">//List&lt;Tuple&gt; result = query.from(item).list(new QTuple(item.name, item.price));</span>
<span class="nc">List</span><span class="o">&lt;</span><span class="nc">Tuple</span><span class="o">&gt;</span> <span class="n">result</span> <span class="o">=</span> <span class="n">query</span><span class="o">.</span><span class="na">from</span><span class="o">(</span><span class="n">item</span><span class="o">).</span><span class="na">list</span><span class="o">(</span><span class="n">item</span><span class="o">.</span><span class="na">name</span><span class="o">,</span> <span class="n">item</span><span class="o">.</span><span class="na">price</span><span class="o">);</span> <span class="c1">// ìœ„ ì½”ë“œì™€ ê°™ë‹¤.</span>
<span class="c1">//í”„ë¡œì ì…˜ = item.name , item.price</span></p>
<p><span class="k">for</span> <span class="o">(</span><span class="nc">Tuple</span> <span class="n">tuple</span> <span class="o">:</span> <span class="n">result</span><span class="o">)</span> <span class="o">{</span>
<span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">â€œname = â€œ</span> <span class="o">+</span> <span class="n">tuple</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="n">item</span><span class="o">.</span><span class="na">name</span><span class="o">));</span>
<span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">â€œprice = â€œ</span> <span class="o">+</span> <span class="n">tuple</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="n">item</span><span class="o">.</span><span class="na">price</span><span class="o">));</span>
<span class="o">}</span>
</code></pre></div></div></p>
<ul>
<li>ì—¬ëŸ¬ ì¹¼ëŸ¼ì„ ë°˜í™˜í•  ë•, Tuple ê°ì²´ë¥¼ ì‚¬ìš©í•œë‹¤.</li>
</ul>
<br/>
<h3 id="querydsl--bean-">QueryDSL ì½”ë“œ: ë¹ˆ(bean) ìƒì„±</h3>
<ul>
<li><strong>ë¹ˆ ìƒì„± ê¸°ëŠ¥</strong>
<ul>
<li>
<p>ì¿¼ë¦¬ ê²°ê³¼ë¥¼ ì—”í‹°í‹°ê°€ ì•„ë‹Œ íŠ¹ì • ê°ì²´ë¡œ ë°›ê³  ì‹¶ìœ¼ë©´, ë¹ˆ ìƒì„± (Bean Population) ê¸°ëŠ¥ì„ ì‚¬ìš©í•˜ë©´ ëœë‹¤.</p>
<blockquote>
<p>JPQLì—ì„œ ë‹¤ë£¬ NEW ì—°ì‚°ìì™€ ìœ ì‚¬í•˜ë‹¤.<br />
ìì„¸í•œ ê²ƒì€ <a href="https://taegyunwoo.github.io/jpa/JPA_ObjectQuery_JPQL_Begin#20">ì´ì „ ê²Œì‹œê¸€ì„ ì°¸ê³ </a>í•˜ì.</p>
</blockquote>
</li>
<li>
<p>QueryDSLì˜ ê°ì²´(ë¹ˆ) ìƒì„± ë°©ë²•</p>
<ul>
<li><strong>í”„ë¡œí¼í‹° ì ‘ê·¼</strong></li>
<li><strong>í•„ë“œ ì§ì ‘ ì ‘ê·¼</strong></li>
<li><strong>ìƒì„±ì ì‚¬ìš©</strong></li>
</ul>
</li>
<li>
<p>ìœ„ ë°©ë²• ì¤‘, ì›í•˜ëŠ” ë°©ë²•ì„ ì§€ì •í•˜ê¸° ìœ„í•´ ì•„ë˜ ê°ì²´ë¥¼ ì‚¬ìš©í•˜ë©´ ëœë‹¤.</p>
<ul>
<li><code>com.mysema.query.types.Projections</code></li>
</ul>
</li>
</ul>
</li>
</ul>
<br/>
<ul>
<li>ì˜ˆì‹œ ì½”ë“œ: ItemDTO ì— ê°’ ì±„ìš°ê¸°
<ul>
<li>
<p>ItemDTO í´ë˜ìŠ¤</p>
<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">public</span> <span class="kd">class</span> <span class="nc">ItemDTO</span> <span class="o">{</span>
<pre><code>&lt;span class=&quot;kd&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;String&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;username&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;kd&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;price&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;kd&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;ItemDTO&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{}&lt;/span&gt;

&lt;span class=&quot;kd&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;ItemDTO&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;String&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;username&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;price&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
	&lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;username&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;username&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt;
	&lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;price&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;price&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;c1&quot;&gt;//Getter, Setter&lt;/span&gt;
&lt;span class=&quot;kd&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;String&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;getUsername&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{...}&lt;/span&gt;
&lt;span class=&quot;kd&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;setUsername&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;String&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;username&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{...}&lt;/span&gt;
&lt;span class=&quot;kd&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;String&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;getPrice&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{...}&lt;/span&gt;
&lt;span class=&quot;kd&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;setPrice&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;price&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{...}&lt;/span&gt;
</code></pre>
<p><span class="o">}</span>
</code></pre></div></div>
<br/></p>
</li>
<li>
<p>ê°ì²´(Bean) ìƒì„± ë°©ë²•: í”„ë¡œí¼í‹° ì ‘ê·¼(Setter)</p>
<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nc">QItem</span> <span class="n">item</span> <span class="o">=</span> <span class="nc">QItem</span><span class="o">.</span><span class="na">item</span><span class="o">;</span>
<p><span class="nc">List</span><span class="o">&lt;</span><span class="nc">ItemDTO</span><span class="o">&gt;</span> <span class="n">result</span> <span class="o">=</span> <span class="n">query</span><span class="o">.</span><span class="na">from</span><span class="o">(</span><span class="n">item</span><span class="o">).</span><span class="na">list</span><span class="o">(</span>
<span class="nc">Projections</span><span class="o">.</span><span class="na">bean</span><span class="o">(</span><span class="nc">ItemDTO</span><span class="o">.</span><span class="na">class</span><span class="o">,</span> <span class="n">item</span><span class="o">.</span><span class="na">name</span><span class="o">.</span><span class="na">as</span><span class="o">(</span><span class="s">â€œusernameâ€</span><span class="o">),</span> <span class="n">item</span><span class="o">.</span><span class="na">price</span><span class="o">)</span>
<span class="o">);</span>
</code></pre></div></div></p>
<ul>
<li><code>Projections.bean()</code> ë©”ì„œë“œëŠ” ìˆ˜ì •ì(<code>Setter</code>)ë¥¼ ì‚¬ìš©í•´ì„œ, DTOì˜ ê°’ì„ ì±„ìš´ë‹¤.</li>
<li>â€˜ì¿¼ë¦¬ ê²°ê³¼â€™ì™€ â€˜ë§¤í•‘í•  í”„ë¡œí¼í‹° ì´ë¦„â€™ì´ ë‹¤ë¥´ë©´, <code>as</code> ë°ì„œë“œë¥¼ ì‚¬ìš©í•´ì„œ ë³„ì¹­ì„ ì¤˜ì„œ ì±„ìš°ë©´ ëœë‹¤.</li>
</ul>
  <br/>        
</li>
<li>
<p>ê°ì²´(Bean) ìƒì„± ë°©ë²•: í•„ë“œ ì§ì ‘ ì ‘ê·¼</p>
<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nc">QItem</span> <span class="n">item</span> <span class="o">=</span> <span class="nc">QItem</span><span class="o">.</span><span class="na">item</span><span class="o">;</span>
<p><span class="nc">List</span><span class="o">&lt;</span><span class="nc">ItemDTO</span><span class="o">&gt;</span> <span class="n">result</span> <span class="o">=</span> <span class="n">query</span><span class="o">.</span><span class="na">from</span><span class="o">(</span><span class="n">item</span><span class="o">).</span><span class="na">list</span><span class="o">(</span>
<span class="nc">Projections</span><span class="o">.</span><span class="na">fields</span><span class="o">(</span><span class="nc">ItemDTO</span><span class="o">.</span><span class="na">class</span><span class="o">,</span> <span class="n">item</span><span class="o">.</span><span class="na">name</span><span class="o">.</span><span class="na">as</span><span class="o">(</span><span class="s">â€œusernameâ€</span><span class="o">),</span> <span class="n">item</span><span class="o">.</span><span class="na">price</span><span class="o">)</span>
<span class="o">);</span>
</code></pre></div></div></p>
<ul>
<li><code>Projections.fields()</code> ë©”ì„œë“œëŠ” DTO ê°ì²´ì˜ í•„ë“œì— ì§ì ‘ ì ‘ê·¼í•´ì„œ ê°’ì„ ì±„ìš´ë‹¤.</li>
<li>í•„ë“œë¥¼ <code>private</code> ë¡œ ì„¤ì •í•´ë„ ë™ì‘í•œë‹¤.</li>
</ul>
  <br/>
</li>
<li>
<p>ê°ì²´(Bean) ìƒì„± ë°©ë²•: ìƒì„±ì ì‚¬ìš©</p>
<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nc">QItem</span> <span class="n">item</span> <span class="o">=</span> <span class="nc">QItem</span><span class="o">.</span><span class="na">item</span><span class="o">;</span>
<p><span class="nc">List</span><span class="o">&lt;</span><span class="nc">ItemDTO</span><span class="o">&gt;</span> <span class="n">result</span> <span class="o">=</span> <span class="n">query</span><span class="o">.</span><span class="na">from</span><span class="o">(</span><span class="n">item</span><span class="o">).</span><span class="na">list</span><span class="o">(</span>
<span class="nc">Projections</span><span class="o">.</span><span class="na">constructor</span><span class="o">(</span><span class="nc">ItemDTO</span><span class="o">.</span><span class="na">class</span><span class="o">,</span> <span class="n">item</span><span class="o">.</span><span class="na">name</span><span class="o">,</span> <span class="n">item</span><span class="o">.</span><span class="na">price</span><span class="o">)</span>
<span class="o">);</span>
</code></pre></div></div></p>
<ul>
<li><code>Projections.constructor()</code> ë©”ì„œë“œëŠ” DTO ê°ì²´ì˜ ìƒì„±ìë¥¼ ì‚¬ìš©í•œë‹¤.</li>
<li>ìƒì„±ìì˜ íŒŒë¼ë¯¸í„°ì— ê°’ì„ ì „ë‹¬í•˜ë¯€ë¡œ, <code>as</code> ë©”ì„œë“œëŠ” í•„ìš”ì—†ë‹¤.</li>
<li>ë¬¼ë¡  ìƒì„±ìì˜ â€˜íŒŒë¼ë¯¸í„° ìˆœì„œâ€™ì™€ â€˜ì „ë‹¬ê°’ì˜ ìˆœì„œâ€™ë¥¼ ë§ì¶”ì–´ì•¼ í•œë‹¤.</li>
</ul>
</li>
</ul>
</li>
</ul>
<br/>
<h3 id="distinct">DISTINCT</h3>
<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">query</span><span class="o">.</span><span class="na">distinct</span><span class="o">().</span><span class="na">from</span><span class="o">(</span><span class="n">item</span><span class="o">)...</span>
</code></pre></div></div>
<ul>
<li>distinct ëª…ë ¹ì–´ëŠ” ìœ„ì™€ ê°™ì´ ì‚¬ìš©í•˜ë©´ ëœë‹¤.</li>
</ul>
<p><br/><br/></p>
<h2 id="section-15">ìˆ˜ì •, ì‚­ì œ ë°°ì¹˜ ì¿¼ë¦¬</h2>
<h3 id="section-16">ìˆ˜ì •, ì‚­ì œ ë°°ì¹˜ ì¿¼ë¦¬ì˜ íŠ¹ì§•</h3>
<ul>
<li>QueryDSLì€ â€˜JPQL ë°°ì¹˜ ì¿¼ë¦¬â€™ì™€ ê°™ì´, <strong>ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ë¥¼ ë¬´ì‹œí•˜ê³  DBì— ì§ì ‘ ì¿¼ë¦¬</strong>í•œë‹¤.</li>
</ul>
<blockquote>
<p>JPQL ë°°ì¹˜ ì¿¼ë¦¬ëŠ” ë‹¤ìŒ í¬ìŠ¤íŒ…ì—ì„œ ë‹¤ë£¬ë‹¤.<br />
ì§€ê¸ˆì€ ì˜ˆì‹œ ì½”ë“œ ì •ë„ë§Œ ì•Œì•„ë‘ì.</p>
</blockquote>
<br/>
<h3 id="querydsl----">QueryDSL ì½”ë“œ: ìˆ˜ì • ë°°ì¹˜ ì¿¼ë¦¬</h3>
<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nc">QItem</span> <span class="n">item</span> <span class="o">=</span> <span class="nc">QItem</span><span class="o">.</span><span class="na">item</span><span class="o">;</span>
<p><span class="nc">JPAUpdateClause</span> <span class="n">updateClause</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">JPAUpdateClause</span><span class="o">(</span><span class="n">em</span><span class="o">,</span> <span class="n">item</span><span class="o">);</span>
<span class="kt">long</span> <span class="n">count</span> <span class="o">=</span> <span class="n">updateClause</span><span class="o">.</span><span class="na">where</span><span class="o">(</span><span class="n">item</span><span class="o">.</span><span class="na">name</span><span class="o">.</span><span class="na">eq</span><span class="o">(</span><span class="s">â€œë§¤ì½”ë§¤ê°œ ì±…â€</span><span class="o">))</span>
<span class="o">.</span><span class="na">set</span><span class="o">(</span><span class="n">item</span><span class="o">.</span><span class="na">price</span><span class="o">,</span> <span class="n">item</span><span class="o">.</span><span class="na">price</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="mi">100</span><span class="o">))</span>
<span class="o">.</span><span class="na">execute</span><span class="o">();</span>
</code></pre></div></div></p>
<ul>
<li>ìœ„ ì˜ˆì‹œëŠ” â€˜ìƒí’ˆì˜ ê°€ê²©ì„ 100ì› ì¦ê°€â€™ì‹œí‚¨ë‹¤.</li>
</ul>
<br/>
<h3 id="querydsl-----1">QueryDSL ì½”ë“œ: ì‚­ì œ ë°°ì¹˜ ì¿¼ë¦¬</h3>
<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nc">QItem</span> <span class="n">item</span> <span class="o">=</span> <span class="nc">QItem</span><span class="o">.</span><span class="na">item</span><span class="o">;</span>
<p><span class="nc">JPADeleteClause</span> <span class="n">deleteClause</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">JPAUpdateClause</span><span class="o">(</span><span class="n">em</span><span class="o">,</span> <span class="n">item</span><span class="o">);</span>
<span class="kt">long</span> <span class="n">count</span> <span class="o">=</span> <span class="n">deleteClause</span><span class="o">.</span><span class="na">where</span><span class="o">(</span><span class="n">item</span><span class="o">.</span><span class="na">name</span><span class="o">.</span><span class="na">eq</span><span class="o">(</span><span class="s">â€œë§¤ì½”ë§¤ê°œ ì±…â€</span><span class="o">))</span>
<span class="o">.</span><span class="na">execute</span><span class="o">();</span>
</code></pre></div></div></p>
<ul>
<li>ìœ„ ì˜ˆì‹œëŠ” â€˜ì´ë¦„ì´ ê°™ì€ ìƒí’ˆì„ ì‚­ì œâ€™í•œë‹¤.</li>
</ul>
<p><br/><br/></p>
<h2 id="section-17">ë™ì  ì¿¼ë¦¬</h2>
<h3 id="querydsl--7">QueryDSL ì½”ë“œ</h3>
<ul>
<li><code>com.mysema.query.BooleanBuilder</code> ë¥¼ ì‚¬ìš©í•˜ë©´, íŠ¹ì • ì¡°ê±´(<code>if</code> ë¬¸)ì— ë”°ë¥¸ ë™ì  ì¿¼ë¦¬ë¥¼ í¸ë¦¬í•˜ê²Œ ìƒì„±í•  ìˆ˜ ìˆë‹¤.</li>
</ul>
<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nc">SearchParam</span> <span class="n">param</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">SearchParam</span><span class="o">();</span>
<span class="n">param</span><span class="o">.</span><span class="na">setName</span><span class="o">(</span><span class="s">"ë§¤ì½”ë§¤ê°œ"</span><span class="o">);</span>
<span class="n">param</span><span class="o">.</span><span class="na">setPrice</span><span class="o">(</span><span class="mi">10000</span><span class="o">);</span>
<p><span class="nc">QItem</span> <span class="n">item</span> <span class="o">=</span> <span class="nc">QItem</span><span class="o">.</span><span class="na">item</span><span class="o">;</span></p>
<p><span class="nc">BooleanBuilder</span> <span class="n">builder</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">BooleanBuilder</span><span class="o">();</span></p>
<p><span class="c1">// ifë¬¸: ë§Œì•½ param.nameì´ ë¹„ì–´ìˆì§€ ì•Šë‹¤ë©´</span>
<span class="c1">// QueryDSL: .where(item.name.contains(param.getName()))</span>
<span class="c1">// JPQL: WHEREì ˆì— [AND item.name LIKE â€˜%ë§¤ì½”ë§¤ê°œ%â€™] ì¶”ê°€</span>
<span class="k">if</span> <span class="o">(</span><span class="nc">StringUtils</span><span class="o">.</span><span class="na">hasText</span><span class="o">(</span><span class="n">param</span><span class="o">.</span><span class="na">getName</span><span class="o">()))</span> <span class="o">{</span>
<span class="n">builder</span><span class="o">.</span><span class="na">and</span><span class="o">(</span><span class="n">item</span><span class="o">.</span><span class="na">name</span><span class="o">.</span><span class="na">contains</span><span class="o">(</span><span class="n">param</span><span class="o">.</span><span class="na">getName</span><span class="o">()));</span>
<span class="o">}</span></p>
<p><span class="c1">// ifë¬¸: ë§Œì•½ param.priceì´ ë¹„ì–´ìˆì§€ ì•Šë‹¤ë©´</span>
<span class="c1">// QueryDSL: .where(item.price.gt(param.getPrice()))</span>
<span class="c1">// JPQL: WHEREì ˆì— [AND item.price &gt; 10000] ì¶”ê°€</span>
<span class="k">if</span> <span class="o">(</span><span class="n">param</span><span class="o">.</span><span class="na">getPrice</span><span class="o">()</span> <span class="o">!=</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span>
<span class="n">builder</span><span class="o">.</span><span class="na">and</span><span class="o">(</span><span class="n">item</span><span class="o">.</span><span class="na">price</span><span class="o">.</span><span class="na">gt</span><span class="o">(</span><span class="n">param</span><span class="o">.</span><span class="na">getPrice</span><span class="o">()));</span>
<span class="o">}</span></p>
<p><span class="nc">List</span><span class="o">&lt;</span><span class="nc">Item</span><span class="o">&gt;</span> <span class="n">result</span> <span class="o">=</span> <span class="n">query</span><span class="o">.</span><span class="na">from</span><span class="o">(</span><span class="n">item</span><span class="o">)</span>
<span class="o">.</span><span class="na">where</span><span class="o">(</span><span class="n">builder</span><span class="o">)</span>
<span class="o">.</span><span class="na">list</span><span class="o">(</span><span class="n">list</span><span class="o">);</span>
</code></pre></div></div></p>
<ul>
<li>ìƒí’ˆ ì´ë¦„ê³¼ ê°€ê²© ìœ ë¬´ì— ë”°ë¼ ë™ì ìœ¼ë¡œ ì¿¼ë¦¬ë¥¼ ìƒì„±í•œë‹¤.
<ul>
<li>ì¦‰ <code>if</code> ë¬¸ì„ ì‚¬ìš©í•˜ì—¬, ë™ì ìœ¼ë¡œ QueryDSL ì¿¼ë¦¬ë¥¼ ì‘ì„±í•  ìˆ˜ ìˆë‹¤.</li>
</ul>
</li>
</ul>
<p><br/><br/></p>
<h2 id="section-18">ë©”ì„œë“œ ìœ„ì„</h2>
<h3 id="section-19">ë©”ì„œë“œ ìœ„ì„ì´ë€?</h3>
<ul>
<li>ë©”ì„œë“œ ìœ„ì„ì´ë€, ì¿¼ë¦¬ íƒ€ì…ì— ê²€ìƒ‰ì¡°ê±´ì„ ì§ì ‘ ì •ì˜í•˜ëŠ” ê¸°ëŠ¥ì´ë‹¤.</li>
<li>ê¸°ë³¸ì ìœ¼ë¡œ ì œê³µë˜ëŠ” <code>eq()</code> , <code>gt()</code> , <code>contains()</code> ë“±ì˜ ë©”ì„œë“œ ì´ì™¸ë¡œ, ì‚¬ìš©ìê°€ ì§ì ‘ ê²€ìƒ‰ì¡°ê±´ì„ ë§Œë“¤ ìˆ˜ ìˆë‹¤.</li>
</ul>
<br/>
<h3 id="section-20">ë©”ì„œë“œ ìœ„ì„ ì ˆì°¨</h3>
<ol>
<li>ì •ì  ë©”ì„œë“œë¥¼ ë§Œë“ ë‹¤.
<ul>
<li>ì²«ë²ˆì§¸ íŒŒë¼ë¯¸í„°: ëŒ€ìƒ ì—”í‹°í‹°ì˜ ì¿¼ë¦¬ íƒ€ì…(Q) ì§€ì •</li>
<li>ë‘ë²ˆì§¸ íŒŒë¼ë¯¸í„°: í•„ìš”í•œ ë‚˜ë¨¸ì§€ íŒŒë¼ë¯¸í„°</li>
</ul>
</li>
<li><code>com.mysema.query.annotations.QueryDelegate</code> ì• ë„ˆí…Œì´ì…˜ë¥¼ ì •ì  ë©”ì„œë“œì— ì ìš©í•œë‹¤.
<ul>
<li>ì†ì„±ì—ëŠ” ë©”ì„œë“œ ìœ„ì„ ê¸°ëŠ¥ì„ ì ìš©í•  <strong>ì—”í‹°í‹°ë¥¼ ì§€ì •</strong>í•œë‹¤. (ì¿¼ë¦¬ íƒ€ì… Q í´ë˜ìŠ¤ë¥¼ ì§€ì •í•˜ëŠ” ê²ƒì´ ì•„ë‹ˆë‹¤.</li>
</ul>
</li>
</ol>
<br/>
<h3 id="querydsl--8">QueryDSL ì½”ë“œ</h3>
<ul>
<li>
<p>ê²€ìƒ‰ ì¡°ê±´ ì •ì˜</p>
<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">public</span> <span class="kd">class</span> <span class="nc">ItemExpression</span> <span class="o">{</span>
<pre><code>&lt;span class=&quot;nd&quot;&gt;@QueryDelegate&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;Item&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;kd&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;BooleanExpression&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;isExpensive&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;QItem&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;item&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;Integer&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;price&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;

	&lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;item&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;price&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;gt&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;price&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;//ì •ì˜í•œ ê²€ìƒ‰ì¡°ê±´&lt;/span&gt;

&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
</code></pre>
<p><span class="o">}</span>
</code></pre></div></div></p>
<ul>
<li>
<p>ì¿¼ë¦¬ íƒ€ì…(<code>QItem</code>)ì— ìƒì„±ëœ ê²°ê³¼</p>
<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">public</span> <span class="kd">class</span> <span class="nc">QItem</span> <span class="kd">extends</span> <span class="nc">EntityPathBase</span><span class="o">&lt;</span><span class="nc">Item</span><span class="o">&gt;</span> <span class="o">{</span>
<pre><code>&lt;span class=&quot;c1&quot;&gt;//...&lt;/span&gt;

&lt;span class=&quot;kd&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;com&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;mysema&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;query&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;types&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;expr&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;BooleanExpression&lt;/span&gt;
		&lt;span class=&quot;nf&quot;&gt;isExpensive&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;Integer&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;price&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;//ì¿¼ë¦¬ íƒ€ì… íŒŒë¼ë¯¸í„°ëŠ” ìƒì„±ë˜ì§€ ì•ŠëŠ”ë‹¤.&lt;/span&gt;

	&lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;ItemExpression&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;isExpensive&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;price&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;

&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
</code></pre>
<p><span class="o">}</span>
</code></pre></div></div></p>
</li>
</ul>
</li>
<li>
<p>ë©”ì„œë“œ ìœ„ì„ ê¸°ëŠ¥ ì‚¬ìš©</p>
<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">query</span><span class="o">.</span><span class="na">from</span><span class="o">(</span><span class="n">item</span><span class="o">).</span><span class="na">where</span><span class="o">(</span><span class="n">item</span><span class="o">.</span><span class="na">isExpensive</span><span class="o">(</span><span class="mi">30000</span><span class="o">)).</span><span class="na">list</span><span class="o">(</span><span class="n">item</span><span class="o">);</span>
</code></pre></div></div>
</li>
</ul>
<br/>
<h3 id="section-21">ì°¸ê³ </h3>
<ul>
<li>í•„ìš”í•˜ë‹¤ë©´ <code>String</code> ì´ë‚˜ <code>Date</code> ì™€ ê°™ì€ ìë°” ê¸°ë³¸ ë‚´ì¥ íƒ€ì…ì—ë„ ë©”ì„œë“œ ìœ„ì„ ê¸°ëŠ¥ì„ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.</li>
</ul>
<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nd">@QueryDelegate</span><span class="o">(</span><span class="nc">String</span><span class="o">.</span><span class="na">class</span><span class="o">)</span>
<span class="kd">public</span> <span class="kd">static</span> <span class="nc">BooleanExpression</span> <span class="nf">isHelloStart</span><span class="o">(</span><span class="nc">StringPath</span> <span class="n">stringPath</span><span class="o">)</span> <span class="o">{</span>
<pre><code>&lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;stringPath&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;startsWith&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;Hello&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
</code></pre>
<p><span class="o">}</span>
</code></pre></div></div></p>
<p><br><br></p>
<hr />
<br>
<div style="font-style: italic;color: gray;">
  <ul>
    <li>ê¹€ì˜í•œ, ã€ìë°” ORM í‘œì¤€ JPA í”„ë¡œê·¸ë˜ë°ã€, ì—ì´ì½˜</li>
  </ul>
  ë³¸ ê²Œì‹œê¸€ì€ ìœ„ êµì¬ë¥¼ ê¸°ë°˜ìœ¼ë¡œ ì •ë¦¬í•œ ê¸€ì…ë‹ˆë‹¤.
</div>
:ET