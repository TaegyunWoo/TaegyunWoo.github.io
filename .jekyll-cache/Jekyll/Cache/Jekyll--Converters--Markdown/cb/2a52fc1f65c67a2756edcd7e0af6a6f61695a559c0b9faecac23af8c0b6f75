I"§0<p><br/><br/></p>
<ul>
<li>ì´ì „ ê²Œì‹œê¸€
<ol>
<li><a href="https://taegyunwoo.github.io/spring-mvc/SPRING_MVC_ExceptionServlet">ì˜ˆì™¸ì²˜ë¦¬ - ì„œë¸”ë¦¿ ì˜ˆì™¸ ì²˜ë¦¬</a></li>
<li><a href="https://taegyunwoo.github.io/spring-mvc/SPRING_MVC_ExceptionSpring">ì˜ˆì™¸ì²˜ë¦¬ - ìŠ¤í”„ë§ ì˜¤ë¥˜ í˜ì´ì§€</a></li>
<li><a href="https://taegyunwoo.github.io/spring-mvc/SPRING_MVC_ExceptionAPIAndBasicController">ì˜ˆì™¸ì²˜ë¦¬ - API ì˜ˆì™¸ì²˜ë¦¬ì™€ BasicErrorController</a></li>
<li><a href="https://taegyunwoo.github.io/spring-mvc/SPRING_MVC_ExceptionAPIAndHandlerExceptionResolver">ì˜ˆì™¸ì²˜ë¦¬ - API ì˜ˆì™¸ì²˜ë¦¬ì™€ HandlerExceptionResolver</a></li>
<li><a href="https://taegyunwoo.github.io/spring-mvc/SPRING_MVC_ExceptionSpringAPI">ì˜ˆì™¸ì²˜ë¦¬ - API ì˜ˆì™¸ì²˜ë¦¬ì™€ ExceptionHandlerExceptionResolver</a></li>
</ol>
</li>
</ul>
<p><br/><br/></p>
<h1 id="controlleradvice">@ControllerAdvice</h1>
<h2 id="section">ê°œìš”</h2>
<ul>
<li><a href="https://taegyunwoo.github.io/spring-mvc/SPRING_MVC_ExceptionSpringAPI#10">ì´ì „ ê¸€</a>ì—ì„œ ExceptionHandlerExceptionResolver ë¥¼ í™œìš©í•´ì„œ API ì˜ˆì™¸ì²˜ë¦¬ë¥¼ í•˜ëŠ” ë°©ë²•ì— ëŒ€í•´ ì•Œì•„ë³´ì•˜ë‹¤.</li>
<li><a href="https://taegyunwoo.github.io/spring-mvc/SPRING_MVC_ExceptionSpringAPI#14">í•´ë‹¹ ê¸€ì—ì„œ ì‘ì„±í•œ ì»¨íŠ¸ë¡¤ëŸ¬</a> ( <code>ExceptionHandlerController</code> í´ë˜ìŠ¤ )ì˜ ë¬¸ì œì ì€ <strong>ì •ìƒì½”ë“œì™€ ì˜ˆì™¸ì²˜ë¦¬ ì½”ë“œê°€ í•˜ë‚˜ì˜ ì»¨íŠ¸ë¡¤ëŸ¬ì— ì„ì—¬ìˆë‹¤ëŠ” ê²ƒì´ë‹¤.</strong></li>
<li>ë”°ë¼ì„œ, ì •ìƒì½”ë“œì™€ ì˜ˆì™¸ì²˜ë¦¬ì½”ë“œë¥¼ ë¶„ë¦¬í•´ë³´ì.</li>
</ul>
<br/>
<h3 id="section-1">ëª©í‘œ</h3>
<ul>
<li>ì •ìƒë¡œì§ë¥¼ ìˆ˜í–‰í•˜ëŠ” ì»¨íŠ¸ë¡¤ëŸ¬ì™€ ì˜ˆì™¸ì²˜ë¦¬ ì»¨íŠ¸ë¡¤ëŸ¬ë¥¼ ë¶„ë¦¬í•œë‹¤.</li>
</ul>
<br/>
<h2 id="section-2">ì˜ˆì‹œ ì½”ë“œ</h2>
<blockquote>
<p><a href="https://taegyunwoo.github.io/spring-mvc/SPRING_MVC_ExceptionSpringAPI#12">ì´ì „ì— ì‘ì„±í•œ ì½”ë“œ</a>ë¥¼ ê·¸ëŒ€ë¡œ ì‚¬ìš©í•˜ì—¬ ë¶„ë¦¬í•œë‹¤.</p>
</blockquote>
<br/>
<h3 id="codeexcontrolleradvicecode-">ì˜ˆì™¸ ì²˜ë¦¬ ì½”ë“œ: <code>ExControllerAdvice</code> í´ë˜ìŠ¤</h3>
<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">package</span> <span class="nn">example.exception</span><span class="o">;</span>
<p><span class="kn">import</span> <span class="nn">org.springframework.http.HttpStatus</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.springframework.http.ResponseEntity</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.springframework.web.bind.annotation.*</span><span class="o">;</span></p>
<p><span class="nd">@RestControllerAdvice</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">ExControllerAdvice</span> <span class="o">{</span></p>
<p><span class="nd">@ResponseStatus</span><span class="o">(</span><span class="nc">HttpStatus</span><span class="o">.</span><span class="na">BAD_REQUEST</span><span class="o">)</span>
<span class="nd">@ExceptionHandler</span><span class="o">(</span><span class="nc">IllegalArgumentException</span><span class="o">.</span><span class="na">class</span><span class="o">)</span>
<span class="kd">public</span> <span class="nc">ErrorItem</span> <span class="nf">illegalExHandle</span><span class="o">(</span><span class="nc">IllegalArgumentException</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
<span class="k">return</span> <span class="k">new</span> <span class="nf">ErrorItem</span><span class="o">(</span><span class="s">â€œBADâ€</span><span class="o">,</span> <span class="n">e</span><span class="o">.</span><span class="na">getMessage</span><span class="o">());</span>
<span class="o">}</span></p>
<p><span class="nd">@ExceptionHandler</span><span class="o">(</span><span class="nc">MyException</span><span class="o">.</span><span class="na">class</span><span class="o">)</span>
<span class="kd">public</span> <span class="nc">ResponseEntity</span><span class="o">&lt;</span><span class="nc">ErrorItem</span><span class="o">&gt;</span> <span class="nf">myExHandler</span><span class="o">(</span><span class="nc">MyException</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
<span class="nc">ErrorItem</span> <span class="n">errorItem</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">ErrorItem</span><span class="o">(</span><span class="s">â€œMY-EXâ€</span><span class="o">,</span> <span class="n">e</span><span class="o">.</span><span class="na">getMessage</span><span class="o">());</span>
<span class="k">return</span> <span class="k">new</span> <span class="nc">ResponseEntity</span><span class="o">&lt;&gt;(</span><span class="n">errorItem</span><span class="o">,</span> <span class="nc">HttpStatus</span><span class="o">.</span><span class="na">BAD_REQUEST</span><span class="o">);</span>
<span class="o">}</span></p>
<p><span class="nd">@ResponseStatus</span><span class="o">(</span><span class="nc">HttpStatus</span><span class="o">.</span><span class="na">INTERNAL_SERVER_ERROR</span><span class="o">)</span>
<span class="nd">@ExceptionHandler</span>
<span class="kd">public</span> <span class="nc">ErrorItem</span> <span class="nf">runtimeExHandle</span><span class="o">(</span><span class="nc">RuntimeException</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
<span class="k">return</span> <span class="k">new</span> <span class="nf">ErrorItem</span><span class="o">(</span><span class="s">â€œEXâ€</span><span class="o">,</span> <span class="s">â€œë‚´ë¶€ì˜¤ë¥˜â€</span><span class="o">);</span>
<span class="o">}</span></p>
<p><span class="o">}</span>
</code></pre></div></div></p>
<ul>
<li><code>@RestControllerAdvice</code>
<ul>
<li>í•´ë‹¹ ì• ë„ˆí…Œì´ì…˜ì„ í™œìš©í•˜ì—¬ ì˜ˆì™¸ì²˜ë¦¬ ì „ìš© í´ë˜ìŠ¤ë¥¼ ì‘ì„±í•˜ì˜€ë‹¤.</li>
<li>ìš”ì²­ ë° ê²°ê³¼ëŠ” ì´ì „ ê²Œì‹œê¸€ì˜ ë‚´ìš©ê³¼ ë™ì¼í•˜ê²Œ ì‘ë™í•œë‹¤.</li>
</ul>
</li>
</ul>
<br/>
<h3 id="codeexceptionhandlercontrollercode-">ì˜ˆì™¸ ë°œìƒ ì»¨íŠ¸ë¡¤ëŸ¬: <code>ExceptionHandlerController</code> í´ë˜ìŠ¤</h3>
<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">package</span> <span class="nn">example.exception</span><span class="o">;</span>
<p><span class="kn">import</span> <span class="nn">â€¦</span></p>
<p><span class="nd">@RestController</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">ExceptionHandlerController</span> <span class="o">{</span></p>
<pre><code>&lt;span class=&quot;nd&quot;&gt;@GetMapping&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;/ex/{exName}&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;kd&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;String&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;throwExceptions&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nd&quot;&gt;@PathVariable&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;String&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;exName&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;exName&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;equals&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;illegal&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;throw&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;IllegalArgumentException&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;IllegalArgument ì˜ˆì™¸!&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
    &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;exName&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;equals&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;my&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;throw&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;MyException&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;();&lt;/span&gt;
    &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;exName&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;equals&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;runtime&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;throw&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;RuntimeException&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;();&lt;/span&gt;
    &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;

    &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;ok&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
</code></pre>
<p><span class="o">}</span>
</code></pre></div></div></p>
<ul>
<li>ì˜ˆì™¸ ì²˜ë¦¬ ì½”ë“œê°€ ì‚­ì œë˜ì—ˆë‹¤.</li>
</ul>
<p><br/><br/></p>
<h2 id="codecontrolleradvicecode-"><code>@ControllerAdvice</code> ìƒì„¸ì„¤ëª…</h2>
<h3 id="section-3">ê¸°ë³¸ ì›ë¦¬</h3>
<ul>
<li><code>@ControllerAdvice</code> ëŠ” ëŒ€ìƒìœ¼ë¡œ ì§€ì •í•œ ì—¬ëŸ¬ ì»¨íŠ¸ë¡¤ëŸ¬ì— <code>@ExceptionHandler</code> , <code>@InitBinder</code> ê¸°ëŠ¥ì„ ë¶€ì—¬í•´ì£¼ëŠ” ì—­í• ì„ í•œë‹¤.</li>
<li><strong>ëŒ€ìƒì„ ì§€ì •í•˜ì§€ ì•Šìœ¼ë©´ ëª¨ë“  ì»¨íŠ¸ë¡¤ëŸ¬ì— ì ìš©ëœë‹¤. (ê¸€ë¡œë²Œ ì ìš©)</strong></li>
<li><code>@RestControllerAdvice</code> ëŠ” <code>@ControllerAdvice</code> ì™€ ê°™ê³ , <code>@ResponseBody</code> ê°€ ì¶”ê°€ë˜ì–´ ìˆë‹¤.</li>
</ul>
<br/>
<h3 id="section-4">ëŒ€ìƒ ì»¨íŠ¸ë¡¤ëŸ¬ ì§€ì • ë°©ë²•</h3>
<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// @RestController ì—ë§Œ ì ìš©í•œë‹¤.</span>
<span class="nd">@ControllerAdvice</span><span class="o">(</span><span class="n">annotations</span> <span class="o">=</span> <span class="nc">RestController</span><span class="o">.</span><span class="na">class</span><span class="o">)</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">ExampleAdvice1</span> <span class="o">{}</span>
<p><span class="c1">// í•´ë‹¹ íŒ¨í‚¤ì§€ì˜ ëª¨ë“  ì»¨íŠ¸ë¡¤ëŸ¬ì— ì ìš©í•œë‹¤.</span>
<span class="nd">@ControllerAdvice</span><span class="o">(</span><span class="s">â€œorg.example.controllersâ€</span><span class="o">)</span> <span class="kd">public</span> <span class="kd">class</span> <span class="nc">ExampleAdvice2</span> <span class="o">{}</span></p>
<p><span class="c1">// ë¶€ëª¨í´ë˜ìŠ¤ë‚˜ ìì‹í´ë˜ìŠ¤ì˜ ì»¨íŠ¸ë¡¤ëŸ¬ì— ì ìš©í•œë‹¤.</span>
<span class="nd">@ControllerAdvice</span><span class="o">(</span><span class="n">assignableTypes</span> <span class="o">=</span> <span class="o">{</span><span class="nc">ControllerInterface</span><span class="o">.</span><span class="na">class</span><span class="o">,</span> <span class="nc">AbstractController</span><span class="o">.</span><span class="na">class</span><span class="o">})</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">ExampleAdvice3</span> <span class="o">{}</span>
</code></pre></div></div>
<br></p>
<hr />
<br>
<p><a href="https://inf.run/YPER"><img src="/assets/img/Inflearn_Spring_MVC2/logo.png" width="400px" height="300px"></a></p>
<ul>
<li><em>ë³¸ ê²Œì‹œê¸€ì€ ê¹€ì˜í•œë‹˜ì˜ ê°•ì˜ë¥¼ í† ëŒ€ë¡œ ì •ë¦¬í•œ ê¸€ì…ë‹ˆë‹¤.</em></li>
<li><em>ë” ìì„¸í•œ ë‚´ìš©ì„ ì•Œê³  ì‹¶ìœ¼ì‹  ë¶„ë“¤ì´ ê³„ì‹ ë‹¤ë©´, í•´ë‹¹ ê°•ì˜ë¥¼ ìˆ˜ê°•í•˜ì‹œëŠ” ê²ƒì„ ì¶”ì²œë“œë¦½ë‹ˆë‹¤.</em></li>
</ul>
:ET