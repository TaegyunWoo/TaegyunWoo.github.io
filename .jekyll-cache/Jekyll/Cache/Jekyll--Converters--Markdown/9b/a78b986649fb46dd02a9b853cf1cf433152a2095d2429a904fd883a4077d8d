I"­Ä<p><br/><br/></p>
<ul>
<li>ì´ì „ ê²Œì‹œê¸€
<ol>
<li><a href="https://taegyunwoo.github.io/jpa/JPA_ObjectQuery_Begin">[JPA] ê°ì²´ì§€í–¥ ì¿¼ë¦¬ ì–¸ì–´ - ì†Œê°œ</a></li>
</ol>
</li>
</ul>
<p><br/><br/></p>
<h1 id="jpql---">JPQL - ê¸°ì´ˆ</h1>
<h2 id="section">ê°œìš”</h2>
<h3 id="jpql">JPQLì´ë€?</h3>
<p>ì´ì „ ê²Œì‹œê¸€ì—ì„œ JPQLì´ ë¬´ì—‡ì¸ì§€ ê°„ëµí•˜ê²Œ ì•Œì•„ë³´ì•˜ë‹¤. ë‹¤ì‹œí•œë²ˆ ë³µìŠµí•´ë³´ì.</p>
<ul>
<li>JPQLì˜ íŠ¹ì§•
<ul>
<li>JPQLì€ ê°ì²´ì§€í–¥ ì¿¼ë¦¬ ì–¸ì–´ì´ë‹¤.
<ul>
<li>ë”°ë¼ì„œ í…Œì´ë¸”ì„ ëŒ€ìƒìœ¼ë¡œ ì¿¼ë¦¬í•˜ëŠ” ê²ƒì´ ì•„ë‹ˆë¼, ì—”í‹°í‹° ê°ì²´ë¥¼ ëŒ€ìƒìœ¼ë¡œ ì¿¼ë¦¬í•œë‹¤.</li>
</ul>
</li>
<li>JPQLì€ SQLì„ ì¶”ìƒí™”í•´ì„œ íŠ¹ì • DB SQLì— ì˜ì¡´í•˜ì§€ ì•ŠëŠ”ë‹¤.</li>
<li>JPQLì€ ê²°êµ­ SQLë¡œ ë³€í™˜ëœë‹¤.</li>
</ul>
</li>
</ul>
<br/>
<h3 id="jpql----">JPQL ì„¤ëª…ì„ ìœ„í•œ ì˜ˆì‹œ ë„ë©”ì¸</h3>
<p>JPQLì— ëŒ€í•´ ì„¤ëª…ì„ í•˜ê¸° ìœ„í•´, ì‚¬ìš©í•  ì˜ˆì‹œì˜ ë„ë©”ì¸ ëª¨ë¸ì„ ì•Œì•„ë³´ì.</p>
<ul>
<li>
<p>ìƒ˜í”Œ ëª¨ë¸ UML</p>
<p><img src="/assets/img/2021-11-29-JPA_ObjectQuery_JPQL_Begin/Untitled%203.png" alt="Untitled" /></p>
</li>
<li>
<p>ìƒ˜í”Œ ëª¨ë¸ ERD</p>
<p><img src="/assets/img/2021-11-29-JPA_ObjectQuery_JPQL_Begin/Untitled%204.png" alt="Untitled" /></p>
</li>
<li>
<p>íŠ¹ì§•</p>
<ul>
<li>íšŒì›(<code>Member</code>)ê°€ ìƒí’ˆ(<code>Product</code>)ì„ ì£¼ë¬¸í•˜ëŠ” ê²ƒì€ ë‹¤ëŒ€ë‹¤ ê´€ê³„ì´ë‹¤.</li>
<li><code>Address</code> ëŠ” ì„ë² ë””ë“œ íƒ€ì…ì´ë‹¤.
<ul>
<li>ê·¸ëŸ¬ë¯€ë¡œ UMLì—ì„œ ìŠ¤í…Œë ˆì˜¤ íƒ€ì…ì„ ì‚¬ìš©í•˜ì—¬ <code>&lt;&lt;Value&gt;&gt;</code> ë¡œ ì •ì˜í•œë‹¤.</li>
<li><code>Address</code> ì— í•´ë‹¹í•˜ëŠ” ë¶€ë¶„ì´ <code>ORDERS</code> í…Œì´ë¸”ì— í¬í•¨ë˜ì–´ ìˆë‹¤.</li>
</ul>
</li>
</ul>
</li>
</ul>
<p><br/><br/></p>
<h2 id="api">ê¸°ë³¸ ë¬¸ë²•ê³¼ ì¿¼ë¦¬ API</h2>
<h3 id="jpql--">JPQL ê¸°ë³¸ ë¬¸ë²•</h3>
<p>JPQLë„ SQLê³¼ ë¹„ìŠ·í•˜ê²Œ SELECT, UPDATE, DELETE ë¬¸ì„ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.</p>
<ul>
<li>
<p>JPQL ë¬¸ë²•: select ë¬¸</p>
<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code>select_ë¬¸ :: =
		select_ì ˆ
		from_ì ˆ
		[where_ì ˆ]
		[groupby_ì ˆ]
		[having_ì ˆ]
		[orderby_ì ˆ]
</code></pre></div></div>
</li>
<li>
<p>ë²Œí¬ ì—°ì‚°: UPDATE ë¬¸</p>
<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code>update_ë¬¸ :: = update_ì ˆ [where_ì ˆ]
</code></pre></div></div>
</li>
<li>
<p>ë²Œí¬ ì—°ì‚°: delete ë¬¸</p>
<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code>delete_ë¬¸ :: = delete_ì ˆ [where_ì ˆ]
</code></pre></div></div>
</li>
</ul>
<blockquote>
<p>ë²Œí¬ì—°ì‚°ì— ëŒ€í•´ì„œëŠ” ì¶”í›„ í¬ìŠ¤íŒ…ìœ¼ë¡œ ë‹¤ë£¬ë‹¤.</p>
</blockquote>
<br/>
<h3 id="select-">SELECT ë¬¸</h3>
<ul>
<li>
<p>ê¸°ë³¸ ì‚¬ìš©ë²•</p>
<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code>SELECT m FROM Member AS m WHERE m.username = 'hello'
</code></pre></div></div>
</li>
<li>
<p>ìƒì„¸ ì„¤ëª…</p>
<ul>
<li>
<p><strong>ëŒ€ì†Œë¬¸ì êµ¬ë¶„</strong></p>
<ul>
<li>ì—”í‹°í‹°ì™€ ì†ì„±ì€ ëŒ€ì†Œë¬¸ìë¥¼ êµ¬ë¶„í•œë‹¤.
<ul>
<li>ì˜ˆ) <code>Member</code> , <code>username</code></li>
</ul>
</li>
<li>JPQL í‚¤ì›Œë“œëŠ” ëŒ€ì†Œë¬¸ìë¥¼ êµ¬ë¶„í•˜ì§€ ì•ŠëŠ”ë‹¤.
<ul>
<li>ì˜ˆ) <code>SELECT</code> , <code>FROM</code> , <code>AS</code></li>
</ul>
</li>
</ul>
</li>
<li>
<p><strong>ì—”í‹°í‹° ì´ë¦„</strong></p>
<ul>
<li>JPQLì—ì„œ ì‚¬ìš©í•œ <code>Member</code> ëŠ” í´ë˜ìŠ¤ ëª…ì´ ì•„ë‹ˆë¼, ì—”í‹°í‹° ëª…ì´ë‹¤.</li>
<li>ì—”í‹°í‹° ëª… ì§€ì •
<ul>
<li><code>@Entity(name = &quot;ì—”í‹°í‹°ëª…&quot;)</code> ìœ¼ë¡œ ì§€ì •í•œë‹¤.</li>
<li><strong>ì—”í‹°í‹° ëª…ì„ ì§€ì •í•˜ì§€ ì•Šìœ¼ë©´, í´ë˜ìŠ¤ ëª…ì„ ê¸°ë³¸ê°’ìœ¼ë¡œ ì‚¬ìš©í•œë‹¤.</strong></li>
<li>ê¸°ë³¸ê°’ì¸ í´ë˜ìŠ¤ ëª…ì„ ì—”í‹°í‹° ëª…ìœ¼ë¡œ ì‚¬ìš©í•˜ëŠ” ê²ƒì„ ê¶Œì¥í•œë‹¤.</li>
</ul>
</li>
</ul>
</li>
<li>
<p><strong>ë³„ì¹­ì€ í•„ìˆ˜</strong></p>
<ul>
<li><code>Member AS m</code> ì„ ë³´ë©´, <code>Member</code> ì— <code>m</code> ì´ë¼ëŠ” ë³„ì¹­ì„ ì£¼ì—ˆë‹¤.</li>
<li><strong>JPQLì€ ë³„ì¹­ì„ í•„ìˆ˜ë¡œ ì‚¬ìš©í•´ì•¼ í•œë‹¤.</strong></li>
<li><code>AS</code> ëŠ” ìƒëµí•  ìˆ˜ ìˆë‹¤.</li>
</ul>
<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code>SELECT username FROM Member m //ì˜ëª»ëœ ë¬¸ë²•
SELECT m.username FROM Member m //ì˜¬ë°”ë¥¸ ë¬¸ë²•
</code></pre></div></div>
</li>
</ul>
<blockquote>
<p>í•˜ì´ë²„ë„¤ì´íŠ¸ëŠ” JPQL í‘œì¤€ê³¼ í•¨ê»˜ HQLì„ ì œê³µí•œë‹¤.<br />
HQLì€ JPQLì˜ í™•ì¥ìœ¼ë¡œ, ë” ë‹¤ì–‘í•œ ê¸°ëŠ¥ì„ ì œê³µí•œë‹¤.</p>
</blockquote>
</li>
</ul>
<br/>
<h3 id="typedquery-query">TypedQueryì™€ Query</h3>
<ul>
<li>ì‘ì„±í•œ JPQLì„ ì‹¤í–‰í•˜ë ¤ë©´ ì¿¼ë¦¬ ê°ì²´ë¥¼ ë§Œë“¤ì–´ì•¼ í•œë‹¤.</li>
<li>ì¿¼ë¦¬ ê°ì²´ì˜ ì¢…ë¥˜
<ul>
<li><code>TypedQuery</code>
<ul>
<li>ë°˜í™˜í•  íƒ€ì…ì„ ëª…í™•í•˜ê²Œ ì§€ì •í•  ìˆ˜ ìˆì„ ë•Œ ì‚¬ìš©í•œë‹¤.</li>
</ul>
</li>
<li><code>Query</code>
<ul>
<li>ë°˜í™˜ íƒ€ì…ì„ ëª…í™•í•˜ê²Œ ì§€ì •í•  ìˆ˜ ì—†ì„ ë•Œ ì‚¬ìš©í•œë‹¤.</li>
</ul>
</li>
</ul>
</li>
</ul>
<br/>
<ul>
<li>
<p><code>TypedQuery</code> ì‚¬ìš© ì˜ˆì‹œ</p>
<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// ì¿¼ë¦¬ ê°ì²´ ìƒì„±</span>
<span class="nc">TypedQuery</span><span class="o">&lt;</span><span class="nc">Member</span><span class="o">&gt;</span> <span class="n">query</span> <span class="o">=</span>
			<span class="n">em</span><span class="o">.</span><span class="na">createQuery</span><span class="o">(</span><span class="s">"SELECT m FROM Member m"</span><span class="o">,</span> <span class="nc">Member</span><span class="o">.</span><span class="na">class</span><span class="o">);</span>
<p><span class="c1">// ì¿¼ë¦¬ ì‹¤í–‰</span>
<span class="nc">List</span><span class="o">&lt;</span><span class="nc">Member</span><span class="o">&gt;</span> <span class="n">resultList</span> <span class="o">=</span> <span class="n">query</span><span class="o">.</span><span class="na">getResultList</span><span class="o">();</span></p>
<p><span class="c1">// ê²°ê³¼ í™•ì¸</span>
<span class="k">for</span> <span class="o">(</span><span class="nc">Member</span> <span class="n">member</span> <span class="o">:</span> <span class="n">resultList</span><span class="o">)</span> <span class="o">{</span>
<span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">â€œmember = â€œ</span> <span class="o">+</span> <span class="n">member</span><span class="o">);</span>
<span class="o">}</span>
</code></pre></div></div></p>
<ul>
<li><code>em.createQuery()</code>
<ul>
<li>ì²«ë²ˆì§¸ íŒŒë¼ë¯¸í„°
<ul>
<li>JPQL ë¬¸ìì—´ì„ ë„˜ê²¨ì¤€ë‹¤.</li>
</ul>
</li>
<li>ë‘ë²ˆì§¸ íŒŒë¼ë¯¸í„°
<ul>
<li>ì¿¼ë¦¬ì˜ ë°˜í™˜íƒ€ì…ì„ ì§€ì •í•œë‹¤.</li>
<li><strong>ë°˜í™˜íƒ€ì…ì´ í™•ì‹¤í•˜ì—¬ í•´ë‹¹ íŒŒë¼ë¯¸í„°ë¥¼ ì±„ìš¸ ìˆ˜ ìˆë‹¤ë©´, <code>em.createQuery()</code> ë©”ì„œë“œê°€ <code>TypedQuery</code> ë¥¼ ë°˜í™˜í•œë‹¤.</strong></li>
<li>ì¡°íšŒ ëŒ€ìƒì´ <code>Member</code> ì—”í‹°í‹° ìì²´ì´ë¯€ë¡œ, ì¡°íšŒ ëŒ€ìƒ íƒ€ì…ì´ ëª…í™•í•˜ë‹¤. â‡’ <code>TypedQuery</code> íƒ€ì…ìœ¼ë¡œ ì¿¼ë¦¬ ê²°ê³¼ë¥¼ ë°›ì„ ìˆ˜ ìˆë‹¤.</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li>
<p><code>Query</code> ì‚¬ìš© ì˜ˆì‹œ</p>
<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// ì¿¼ë¦¬ ê°ì²´ ìƒì„± (ë°˜í™˜íƒ€ì…ì´ ì§€ì •ë˜ì§€ ì•ŠìŒ)</span>
<span class="nc">Query</span><span class="o">&lt;</span><span class="nc">Member</span><span class="o">&gt;</span> <span class="n">query</span> <span class="o">=</span>
			<span class="n">em</span><span class="o">.</span><span class="na">createQuery</span><span class="o">(</span><span class="s">"SELECT m.username, m.age FROM Member m"</span><span class="o">);</span>
<p><span class="c1">// ì¿¼ë¦¬ ì‹¤í–‰</span>
<span class="nc">List</span> <span class="n">resultList</span> <span class="o">=</span> <span class="n">query</span><span class="o">.</span><span class="na">getResultList</span><span class="o">();</span>
<span class="c1">//â€˜Object ë°°ì—´í˜•ì¸ ì¡°íšŒ ê²°ê³¼â€™ê°€ Listì— Objectí˜•ìœ¼ë¡œ ë‹´ê¸´ë‹¤.</span></p>
<p><span class="c1">// ê²°ê³¼ í™•ì¸</span>
<span class="k">for</span> <span class="o">(</span><span class="nc">Object</span> <span class="n">o</span> <span class="o">:</span> <span class="n">resultList</span><span class="o">)</span> <span class="o">{</span>
<span class="nc">Object</span><span class="o">[]</span> <span class="n">resultRecord</span> <span class="o">=</span> <span class="o">(</span><span class="nc">Object</span><span class="o">[])</span> <span class="n">o</span><span class="o">;</span> <span class="c1">//Object[] ê°€ Objectë¡œ ë‹´ê²¨ìˆìœ¼ë¯€ë¡œ</span>
<span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">â€œusername = â€œ</span> <span class="o">+</span> <span class="n">resultRecord</span><span class="o">[</span><span class="mi">0</span><span class="o">]);</span>
<span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">â€œage = â€œ</span> <span class="o">+</span> <span class="n">resultRecord</span><span class="o">[</span><span class="mi">1</span><span class="o">]);</span>
<span class="o">}</span>
</code></pre></div></div></p>
<ul>
<li><code>em.createQuery()</code>
<ul>
<li>ì²«ë²ˆì§¸ íŒŒë¼ë¯¸í„°
<ul>
<li>JPQL ë¬¸ìì—´ì„ ë„˜ê²¨ì¤€ë‹¤.</li>
</ul>
</li>
<li>ë‘ë²ˆì§¸ íŒŒë¼ë¯¸í„°
<ul>
<li><strong>ë°˜í™˜íƒ€ì…ì´ í™•ì‹¤í•˜ì§€ ì•Šì•„ í•´ë‹¹ íŒŒë¼ë¯¸í„°ë¥¼ ì±„ìš¸ ìˆ˜ ì—†ë‹¤ë©´, <code>em.createQuery()</code> ë©”ì„œë“œê°€ <code>Query</code> ë¥¼ ë°˜í™˜í•œë‹¤.</strong></li>
<li>ì¡°íšŒ ëŒ€ìƒì´ <code>Stringí˜• username</code> ê³¼ <code>Integerí˜• age</code> ì´ë¯€ë¡œ, ì¡°íšŒ ëŒ€ìƒ íƒ€ì…ì´ ëª…í™•í•˜ì§€ ì•Šë‹¤. â‡’ <code>Query</code> íƒ€ì…ìœ¼ë¡œ ì¿¼ë¦¬ ê²°ê³¼ë¥¼ ë°›ì„ ìˆ˜ ìˆë‹¤.</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<br/>
<ul>
<li>
<p><code>em.createQuery()</code> ì •ë¦¬</p>
<ul>
<li>
<p><strong><code>TypedQuery</code> ê°ì²´ë¥¼ ì‚¬ìš©í•´ì•¼ í•œë‹¤ë©´</strong></p>
<ul>
<li><code>query.getResultList()</code> í˜¸ì¶œì‹œ â‡’ ì„¤ì •í•œ íƒ€ì…ìœ¼ë¡œ í•˜ë‚˜ì˜ ê²°ê³¼ ë ˆì½”ë“œë¥¼ ë‹´ê³ , ì´ê²ƒì„ <code>List&lt;ì„¤ì •í•œ íƒ€ì…&gt;</code> ì— ê°ê° ë‹´ì•„ ë°˜í™˜í•œë‹¤.</li>
</ul>
<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nc">List</span><span class="o">&lt;</span><span class="nc">Member</span><span class="o">&gt;</span> <span class="n">resultList</span> <span class="o">=</span> <span class="n">query</span><span class="o">.</span><span class="na">getResultList</span><span class="o">();</span>
<span class="c1">// List&lt;Member&gt; ì˜ ê° ìš”ì†ŒëŠ” ì¿¼ë¦¬ê²°ê³¼ì˜ ê° Memberí˜• ë ˆì½”ë“œì´ë‹¤.</span>
</code></pre></div></div>
</li>
<li>
<p><strong>ì¡°íšŒí•˜ê³ ì í•˜ëŠ” ëŒ€ìƒ(í•„ë“œ)ê°€ 2ê°œ ì´ìƒì´ê³ , <code>Query</code> ê°ì²´ë¥¼ ì‚¬ìš©í•´ì•¼ í•œë‹¤ë©´</strong></p>
<ul>
<li><code>query.getResultList()</code> í˜¸ì¶œì‹œ â‡’ <code>Object[]</code> ì— í•˜ë‚˜ì˜ ê²°ê³¼ ë ˆì½”ë“œë¥¼ ë‹´ê³ , ì´ê²ƒì„ <code>List&lt;Object&gt;</code> ì— ê°ê° ë‹´ì•„ ë°˜í™˜í•œë‹¤.</li>
</ul>
<blockquote>
<p><code>Object</code>í˜•ì— <code>Object[]</code> í˜• ë°ì´í„°ë¥¼ ë‹´ì„ ìˆ˜ ìˆë‹¤.</p>
</blockquote>
<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nc">List</span> <span class="n">resultList</span> <span class="o">=</span> <span class="n">query</span><span class="o">.</span><span class="na">getResultList</span><span class="o">();</span>
<span class="nc">List</span><span class="o">&lt;</span><span class="nc">Object</span><span class="o">&gt;</span> <span class="n">resultList</span> <span class="o">=</span> <span class="n">query</span><span class="o">.</span><span class="na">getResultList</span><span class="o">();</span>
<span class="c1">// ìœ„ ë‘ê°€ì§€ ì½”ë“œ ëª¨ë‘ ë™ì¼í•˜ë‹¤.</span>
<span class="c1">// Listì˜ ê° ìš”ì†ŒëŠ” ì¿¼ë¦¬ê²°ê³¼ì˜ ê° Object[]í˜• ë ˆì½”ë“œì´ë‹¤.</span>
<span class="c1">// Object[]ì˜ ê° ìš”ì†ŒëŠ” í•˜ë‚˜ì˜ ì¹¼ëŸ¼ê°’ì„ ê°–ëŠ”ë‹¤.</span>
<span class="c1">// Objectí˜•ìœ¼ë¡œ Object[] ë°ì´í„°ê°€ ë‹´ê²¼ë‹¤.</span>
</code></pre></div></div>
</li>
<li>
<p><strong>ì¡°íšŒí•˜ê³ ì í•˜ëŠ” ëŒ€ìƒ(í•„ë“œ)ê°€ 1ê°œì´ê³ , <code>Query</code> ê°ì²´ë¥¼ ì‚¬ìš©í•´ì•¼ í•œë‹¤ë©´</strong></p>
<ul>
<li><code>query.getResultList()</code> í˜¸ì¶œì‹œ â‡’ <code>Object</code> ì— í•˜ë‚˜ì˜ ê²°ê³¼(í•„ë“œ)ë¥¼ ë‹´ê³ , ì´ê²ƒì„ <code>List&lt;Object&gt;</code> ì— ê°ê° ë‹´ì•„ ë°˜í™˜í•œë‹¤.</li>
</ul>
<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nc">List</span> <span class="n">resultList</span> <span class="o">=</span> <span class="n">query</span><span class="o">.</span><span class="na">getResultList</span><span class="o">();</span>
<span class="nc">List</span><span class="o">&lt;</span><span class="nc">Object</span><span class="o">&gt;</span> <span class="n">resultList</span> <span class="o">=</span> <span class="n">query</span><span class="o">.</span><span class="na">getResultList</span><span class="o">();</span>
<span class="c1">// ìœ„ ë‘ê°€ì§€ ì½”ë“œ ëª¨ë‘ ë™ì¼í•˜ë‹¤.</span>
<span class="c1">// Listì˜ ê° ìš”ì†ŒëŠ” ì¿¼ë¦¬ê²°ê³¼ì˜ ê° Objectí˜• ë ˆì½”ë“œì´ë‹¤.</span>
</code></pre></div></div>
</li>
</ul>
</li>
<li>
<p>íƒ€ì…ì„ ë³€í™˜í•  í•„ìš”ê°€ ì—†ëŠ” <code>TypedQuery</code> ë¥¼ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ë” í¸ë¦¬í•˜ë‹¤.</p>
</li>
</ul>
<br/>
<h3 id="section-1">ê²°ê³¼ ì¡°íšŒ</h3>
<p>ì•„ë˜ ë©”ì„œë“œë“¤ì„ í˜¸ì¶œí•˜ë©´, ì‹¤ì œ ì¿¼ë¦¬ë¥¼ ì‹¤í–‰í•´ì„œ DBë¥¼ ì¡°íšŒí•œë‹¤.</p>
<ul>
<li>
<p><code>query.getResultList()</code></p>
<ul>
<li>ê²°ê³¼ë¥¼ ì˜ˆì œë¡œ ë°˜í™˜í•œë‹¤.</li>
<li>ë§Œì•½ ê²°ê³¼ê°€ ì—†ìœ¼ë©´, ë¹ˆ ì»¬ë ‰ì…˜ì„ ë°˜í™˜í•œë‹¤.</li>
</ul>
</li>
<li>
<p><code>query.getSingleResult()</code></p>
<ul>
<li>ê²°ê³¼ê°€ <strong>ì •í™•íˆ í•˜ë‚˜</strong>ì¼ ë•Œ ì‚¬ìš©í•œë‹¤.</li>
<li>ê²°ê³¼ê°€ ì—†ìœ¼ë©´: <code>javax.persistence.NoResultException</code> ì˜ˆì™¸ê°€ ë°œìƒí•œë‹¤.</li>
<li>ê²°ê³¼ê°€ 1ê°œë³´ë‹¤ ë§ìœ¼ë©´: <code>javax.persistence.NonUniqueResultException</code> ì˜ˆì™¸ê°€ ë°œìƒí•œë‹¤.</li>
</ul>
<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nc">Member</span> <span class="n">member</span> <span class="o">=</span> <span class="n">query</span><span class="o">.</span><span class="na">getSingleResult</span><span class="o">();</span>
</code></pre></div></div>
<blockquote>
<p><strong>ì¦‰, <code>getSingleResult()</code> ëŠ” ê²°ê³¼ê°€ ì •í™•íˆ 1ê°œê°€ ì•„ë‹ˆë©´, ì˜ˆì™¸ê°€ ë°œìƒí•œë‹¤ëŠ” ì ì— ì£¼ì˜í•˜ì!</strong></p>
</blockquote>
</li>
</ul>
<p><br/><br/></p>
<h2 id="section-2">íŒŒë¼ë¯¸í„° ë°”ì¸ë”©</h2>
<h3 id="jpql----1">JPQLì—ì„œ ì œê³µí•˜ëŠ” íŒŒë¼ë¯¸í„° ë°”ì¸ë”©</h3>
<ul>
<li>JDBC ì—ì„œ ì œê³µí•˜ëŠ” íŒŒë¼ë¯¸í„° ë°”ì¸ë”©
<ul>
<li>ì˜¤ì§ ìœ„ì¹˜ ê¸°ì¤€ íŒŒë¼ë¯¸í„° ë°”ì¸ë”©ë§Œ ì§€ì›í•œë‹¤.</li>
</ul>
</li>
<li>JPQL ì—ì„œ ì œê³µí•˜ëŠ” íŒŒë¼ë¯¸í„° ë°”ì¸ë”©
<ul>
<li>ìœ„ì¹˜ ê¸°ì¤€ íŒŒë¼ë¯¸í„° ë°”ì¸ë”© (<code>?</code> ë¥¼ ì‚¬ìš©í•œë‹¤.)</li>
<li>ì´ë¦„ ê¸°ì¤€ íŒŒë¼ë¯¸í„° ë°”ì¸ë”© (<code>:</code> ë¥¼ ì‚¬ìš©í•œë‹¤.)</li>
<li>ìœ„ ë‘ê°€ì§€ ëª¨ë‘ ì§€ì›í•œë‹¤.</li>
</ul>
</li>
</ul>
<br/>
<h3 id="section-3">íŒŒë¼ë¯¸í„° ë°”ì¸ë”© ì˜ˆì‹œ: ì´ë¦„ ê¸°ì¤€ íŒŒë¼ë¯¸í„° ë°”ì¸ë”©</h3>
<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nc">String</span> <span class="n">usernameParam</span> <span class="o">=</span> <span class="s">"User1"</span><span class="o">;</span>
<p><span class="c1">// â€˜:usernameâ€™ìœ¼ë¡œ ë°”ì¸ë”© ê¸°ì¤€ ì •ì˜</span>
<span class="nc">TypedQuery</span><span class="o">&lt;</span><span class="nc">Member</span><span class="o">&gt;</span> <span class="n">query</span> <span class="o">=</span> <span class="n">em</span><span class="o">.</span><span class="na">createQuery</span><span class="o">(</span>
<span class="s">â€œSELECT m FROM Member m WHERE m.username = :usernameâ€</span><span class="o">,</span>
<span class="nc">Member</span><span class="o">.</span><span class="na">class</span><span class="o">);</span></p>
<p><span class="c1">//ì´ë¦„ ê¸°ì¤€ íŒŒë¼ë¯¸í„° ë°”ì¸ë”© ì ìš©</span>
<span class="n">query</span><span class="o">.</span><span class="na">setParemeter</span><span class="o">(</span><span class="s">â€œusernameâ€</span><span class="o">,</span> <span class="n">usernameParam</span><span class="o">);</span>
<span class="c1">// ì™„ì„±ëœ ì¿¼ë¦¬:</span>
<span class="c1">// SELECT m FROM Member m WHERE m.username = User1</span></p>
<p><span class="nc">List</span><span class="o">&lt;</span><span class="nc">Member</span><span class="o">&gt;</span> <span class="n">resultList</span> <span class="o">=</span> <span class="n">query</span><span class="o">.</span><span class="na">getResultList</span><span class="o">();</span>
</code></pre></div></div></p>
<ul>
<li>
<p><code>:username</code> ì´ë¼ëŠ” ì´ë¦„ ê¸°ì¤€ íŒŒë¼ë¯¸í„°ë¥¼ ì •ì˜í–ˆë‹¤.</p>
</li>
<li>
<p><code>query.setParameter()</code> ì—ì„œ <code>username</code> ì´ë¼ëŠ” ì´ë¦„ì„ ê°–ëŠ” ìœ„ì¹˜ì— íŒŒë¼ë¯¸í„°ë¥¼ ë°”ì¸ë”©í–ˆë‹¤.</p>
</li>
<li>
<p>ë©”ì„œë“œ ì²´ì´ë‹ì„ ì§€ì›í•˜ì—¬ ì•„ë˜ì™€ ê°™ì´ ì‘ì„±í• ìˆ˜ë„ ìˆë‹¤.</p>
<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nc">List</span><span class="o">&lt;</span><span class="nc">Member</span><span class="o">&gt;</span> <span class="n">resultList</span> <span class="o">=</span> <span class="n">em</span><span class="o">.</span><span class="na">createQuery</span><span class="o">(</span>
			<span class="s">"SELECT m FROM Member m WHERE m.username = :username"</span><span class="o">,</span>
			<span class="nc">Member</span><span class="o">.</span><span class="na">class</span><span class="o">)</span>
		<span class="o">.</span><span class="na">setParameter</span><span class="o">(</span><span class="s">"username"</span><span class="o">,</span> <span class="n">usernameParam</span><span class="o">)</span>
		<span class="o">.</span><span class="na">getResultList</span><span class="o">();</span>
</code></pre></div></div>
</li>
</ul>
<br/>
<h3 id="section-4">íŒŒë¼ë¯¸í„° ë°”ì¸ë”© ì˜ˆì‹œ: ìœ„ì¹˜ ê¸°ì¤€ íŒŒë¼ë¯¸í„° ë°”ì¸ë”©</h3>
<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nc">String</span> <span class="n">usernameParam</span> <span class="o">=</span> <span class="s">"User1"</span><span class="o">;</span>
<p><span class="c1">// â€˜?1â€™ìœ¼ë¡œ ë°”ì¸ë”© ê¸°ì¤€ ì •ì˜</span>
<span class="c1">//ìœ„ì¹˜ ê¸°ì¤€ íŒŒë¼ë¯¸í„° ë°”ì¸ë”© ì ìš© ë° ì‹¤í–‰</span>
<span class="nc">List</span><span class="o">&lt;</span><span class="nc">Member</span><span class="o">&gt;</span> <span class="n">resultList</span> <span class="o">=</span> <span class="n">em</span><span class="o">.</span><span class="na">createQuery</span><span class="o">(</span>
<span class="s">â€œSELECT m FROM Member m WHERE m.username = ?1â€</span><span class="o">,</span>
<span class="nc">Member</span><span class="o">.</span><span class="na">class</span><span class="o">)</span>
<span class="o">.</span><span class="na">setParameter</span><span class="o">(</span><span class="mi">1</span><span class="o">,</span> <span class="n">usernameParam</span><span class="o">)</span>
<span class="o">.</span><span class="na">getResultList</span><span class="o">();</span></p>
<p><span class="c1">// ì™„ì„±ëœ ì¿¼ë¦¬:</span>
<span class="c1">// SELECT m FROM Member m WHERE m.username = User1</span>
</code></pre></div></div></p>
<ul>
<li>â€˜ìœ„ì¹˜ ê¸°ì¤€ íŒŒë¼ë¯¸í„° ë°”ì¸ë”© ë°©ì‹â€™ë³´ë‹¨, <strong>â€˜ì´ë¦„ ê¸°ì¤€ íŒŒë¼ë¯¸í„° ë°”ì¸ë”© ë°©ì‹â€™ì„ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ë” ëª…í™•</strong>í•˜ë‹¤.</li>
</ul>
<br/>
<h3 id="section-5">ì°¸ê³ ì‚¬í•­: ì™œ íŒŒë¼ë¯¸í„° ë°”ì¸ë”© ë°©ì‹ì„ ì‚¬ìš©í•´ì•¼ í•˜ëŠ”ê°€?</h3>
<ul>
<li>
<p>ì‚¬ì‹¤ íŒŒë¼ë¯¸í„° ë°”ì¸ë”©ì„ ì‚¬ìš©í•˜ì§€ ì•Šê³ , ë‹¤ìŒê³¼ ê°™ì´ JPQLì„ ì‘ì„±í•  ìˆ˜ ìˆë‹¤.</p>
<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nc">String</span> <span class="n">usernameParam</span> <span class="o">=</span> <span class="s">"User1"</span><span class="o">;</span>
<p><span class="nc">TypedQuery</span><span class="o">&lt;</span><span class="nc">Member</span><span class="o">&gt;</span> <span class="n">query</span> <span class="o">=</span> <span class="n">em</span><span class="o">.</span><span class="na">createQuery</span><span class="o">(</span>
<span class="s">â€œSELECT m FROM Member m WHERE m.username = â€œ</span> <span class="o">+</span> <span class="n">usernameParam</span><span class="o">,</span>
<span class="nc">Member</span><span class="o">.</span><span class="na">class</span><span class="o">);</span>
</code></pre></div></div></p>
</li>
<li>
<p><strong>í•˜ì§€ë§Œ ìœ„ ë°©ì‹ë³´ë‹¨, íŒŒë¼ë¯¸í„° ë°”ì¸ë”© ë°©ì‹ìœ¼ë¡œ JPQLì„ ì‘ì„±í•˜ëŠ” ê²ƒì´ ê¶Œì¥ëœë‹¤.</strong></p>
</li>
<li>
<p>íŒŒë¼ë¯¸í„° ë°”ì¸ë”© ì‚¬ìš© ì´ìœ </p>
<ul>
<li>
<p>ìœ„ ì½”ë“œì²˜ëŸ¼ ì§ì ‘ ë¬¸ìë¥¼ ë”í•´ ë§Œë“¤ì–´ ë„£ìœ¼ë©´, ì•…ì˜ì ì¸ ì‚¬ìš©ìì— ì˜í•´ <strong>SQL ì¸ì ì…˜ ê³µê²©</strong>ì„ ë‹¹í•  ìˆ˜ ìˆë‹¤.</p>
</li>
<li>
<p>SQL ì¸ì ì…˜ ê³µê²©?</p>
<ul>
<li>ëŒ€ëµ ì•„ë˜ì™€ ê°™ì€ ìƒí™©ì„ ë§í•œë‹¤.</li>
</ul>
<p><img src="/assets/img/2021-11-29-JPA_ObjectQuery_JPQL_Begin/Untitled%205.png" alt="Untitled" /></p>
<blockquote>
<p>SQL ì¸ì ì…˜ ê³µê²©ì— ëŒ€í•œ ìì„¸í•œ ê²ƒì€ ë”°ë¡œ ë‹¤ë£¨ì§„ ì•ŠëŠ”ë‹¤.</p>
</blockquote>
</li>
<li>
<p>SQL ì¸ì ì…˜ ê³µê²©ì„ ë°©ì§€í•˜ê¸° ìœ„í•œ ê²ƒ ì´ì™¸ì—, <strong>ì„±ëŠ¥ ì´ìŠˆ</strong>ë„ ì¡´ì¬í•œë‹¤.</p>
<ul>
<li>íŒŒë¼ë¯¸í„° ë°”ì¸ë”© ë°©ì‹ì„ ì‚¬ìš©í•˜ë©´, íŒŒë¼ë¯¸í„°ì˜ ê°’ì´ ë‹¬ë¼ë„ ê°™ì€ ì¿¼ë¦¬ë¡œ ì¸ì‹í•´ì„œ JPAëŠ” JPQLì„ SQLë¡œ íŒŒì‹±í•œ ê²°ê³¼ë¥¼ <strong>ì¬ì‚¬ìš©</strong>í•  ìˆ˜ ìˆë‹¤.</li>
</ul>
</li>
</ul>
</li>
</ul>
<p><br/><br/></p>
<h2 id="section-6">í”„ë¡œì ì…˜</h2>
<h3 id="section-7">í”„ë¡œì ì…˜ì´ë€?</h3>
<ul>
<li>SELECT ì ˆì— ì¡°íšŒí•  ëŒ€ìƒì„ ì§€ì •í•˜ëŠ” ê²ƒì„ í”„ë¡œì ì…˜ì´ë¼ê³  í•œë‹¤.
<ul>
<li><code>SELECT {í”„ë¡œì ì…˜ ëŒ€ìƒ} FROM</code></li>
</ul>
</li>
<li>í”„ë¡œì ì…˜ ëŒ€ìƒ
<ul>
<li>ì—”í‹°í‹°</li>
<li>ì„ë² ë””ë“œ íƒ€ì…</li>
<li>ìŠ¤ì¹¼ë¼ íƒ€ì…
<ul>
<li>ìˆ«ì, ë¬¸ì ë“±ì˜ ê¸°ë³¸ ë°ì´í„° íƒ€ì…</li>
</ul>
</li>
</ul>
</li>
</ul>
<p>ì´ì œ í”„ë¡œì ì…˜ì— ëŒ€í•´ í•˜ë‚˜ì”© ì•Œì•„ë³´ì.</p>
<br/>
<h3 id="section-8">ì—”í‹°í‹° í”„ë¡œì ì…˜</h3>
<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code>SELECT m FROM Member m //íšŒì› ì—”í‹°í‹° ì¡°íšŒ
SELECT m.team FROM Member m //íŒ€ ì—”í‹°í‹° ì¡°íšŒ
</code></pre></div></div>
<ul>
<li>ë‘˜ ë‹¤ ì—”í‹°í‹°ë¥¼ í”„ë¡œì ì…˜ ëŒ€ìƒìœ¼ë¡œ ì‚¬ìš©í–ˆë‹¤.</li>
<li>ì°¸ê³ : ì¡°íšŒí•œ ì—°ê´€ ì—”í‹°í‹°ëŠ” ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ì—ì„œ ê´€ë¦¬ëœë‹¤.</li>
</ul>
<br/>
<h3 id="section-9">ì„ë² ë””ë“œ íƒ€ì… í”„ë¡œì ì…˜</h3>
<ul>
<li>
<p><strong>ì„ë² ë””ë“œ íƒ€ì…ì€ ì¡°íšŒì˜ ì‹œì‘ì ì´ ë  ìˆ˜ ì—†ë‹¤.</strong></p>
<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nc">String</span> <span class="n">query</span> <span class="o">=</span> <span class="s">"SELECT a FROM Address a"</span><span class="o">;</span>
</code></pre></div></div>
<ul>
<li>í¬ìŠ¤íŒ… ê¸€ ì´ˆë°˜ì— ì„¤ëª…í•œ ì˜ˆì‹œ ë„ë©”ì¸ì„ ì°¸ê³ í•˜ë©´, <code>Address</code> ëŠ” ì„ë² ë””ë“œ íƒ€ì…ì´ë‹¤.</li>
<li>ì„ë² ë””ë“œ íƒ€ì…ì€ ì¡°íšŒì˜ ì‹œì‘ì ì´ ë  ìˆ˜ ì—†ìœ¼ë¯€ë¡œ, ìœ„ì™€ ê°™ì€ JPQL ì¿¼ë¦¬ëŠ” ì˜ëª»ëœ ì¿¼ë¦¬ì´ë‹¤.</li>
<li>ë”°ë¼ì„œ ì•„ë˜ì™€ ê°™ì´ ìˆ˜ì •í•´ì•¼ í•œë‹¤.</li>
</ul>
<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nc">String</span> <span class="n">query</span> <span class="o">=</span> <span class="s">"SELECT o.address FROM Order o"</span><span class="o">;</span>
</code></pre></div></div>
<ul>
<li>ìœ„ ì½”ë“œì—ì„  <code>Order</code> ì—”í‹°í‹°ê°€ ì¡°íšŒì˜ ì‹œì‘ì ì´ë¯€ë¡œ, ì˜¬ë°”ë¥¸ JPQL ì¿¼ë¦¬ì´ë‹¤.</li>
</ul>
</li>
<li>
<p><strong>ì„ë² ë””ë“œ íƒ€ì…ì€ â€˜ì—”í‹°í‹° íƒ€ì…â€™ì´ ì•„ë‹Œ â€˜ê°’ íƒ€ì…â€™ì´ë‹¤.</strong></p>
<ul>
<li><strong>ë”°ë¼ì„œ ì´ë ‡ê²Œ ì§ì ‘ ì¡°íšŒí•œ ì„ë² ë””ë“œ íƒ€ì…ì€ ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ì—ì„œ ê´€ë¦¬ë˜ì§€ ì•ŠëŠ”ë‹¤.</strong></li>
<li>ì„ë² ë””ë“œ íƒ€ì…ì— ëŒ€í•œ ìì„¸í•œ ë‚´ìš©ì€ <a href="https://taegyunwoo.github.io/jpa/JPA_Value_Type#6">ì´ì „ í¬ìŠ¤íŒ…</a>ì„ ì°¸ê³ í•˜ì.</li>
</ul>
</li>
</ul>
<br/>
<h3 id="section-10">ìŠ¤ì¹¼ë¼ íƒ€ì… í”„ë¡œì ì…˜</h3>
<ul>
<li>
<p>ìˆ«ìë‚˜ ë¬¸ì, ë‚ ì§œì™€ ê°™ì€ ê¸°ë³¸ ë°ì´í„° íƒ€ì…ë“¤ì„ <strong>ìŠ¤ì¹¼ë¼ íƒ€ì…</strong>ì´ë¼ê³  í•œë‹¤.</p>
</li>
<li>
<p>ìŠ¤ì¹¼ë¼ íƒ€ì… ì¡°íšŒ</p>
<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nc">List</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;</span> <span class="n">resultList</span> <span class="o">=</span> <span class="n">em</span><span class="o">.</span><span class="na">createQuery</span><span class="o">(</span>
			<span class="s">"SELECT m.username FROM Member m"</span><span class="o">,</span>
			<span class="nc">String</span><span class="o">.</span><span class="na">class</span><span class="o">)</span>
		<span class="o">.</span><span class="na">getResultList</span><span class="o">();</span>
</code></pre></div></div>
</li>
<li>
<p>ì¤‘ë³µ ë°ì´í„° ì—†ì´ ìŠ¤ì¹¼ë¼ íƒ€ì… ì¡°íšŒ</p>
<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nc">List</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;</span> <span class="n">resultList</span> <span class="o">=</span> <span class="n">em</span><span class="o">.</span><span class="na">createQuery</span><span class="o">(</span>
			<span class="s">"SELECT DISTINCT m.username FROM Member m"</span><span class="o">,</span>
			<span class="nc">String</span><span class="o">.</span><span class="na">class</span><span class="o">)</span>
		<span class="o">.</span><span class="na">getResultList</span><span class="o">();</span>
</code></pre></div></div>
</li>
</ul>
<br/>
<h3 id="section-11">ì—¬ëŸ¬ ê°’ ì¡°íšŒ</h3>
<ul>
<li>
<p><strong>í”„ë¡œì ì…˜ì— ì—¬ëŸ¬ ê°’ì„ ì„ íƒí•˜ë©´, <code>TypedQuery</code> ë¥¼ ì‚¬ìš©í•  ìˆ˜ ì—†ê³  ëŒ€ì‹  <code>Query</code>ë¥¼ ì‚¬ìš©í•´ì•¼ í•œë‹¤.</strong></p>
</li>
<li>
<p>ì˜ˆì‹œ ì½”ë“œ</p>
<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nc">Query</span><span class="o">&lt;</span><span class="nc">Member</span><span class="o">&gt;</span> <span class="n">query</span> <span class="o">=</span>
			<span class="n">em</span><span class="o">.</span><span class="na">createQuery</span><span class="o">(</span><span class="s">"SELECT m.username, m.age FROM Member m"</span><span class="o">);</span>
<p><span class="nc">List</span> <span class="n">resultList</span> <span class="o">=</span> <span class="n">query</span><span class="o">.</span><span class="na">getResultList</span><span class="o">();</span></p>
<p><span class="c1">// List&lt;Object&gt; ê²°ê³¼ í™•ì¸</span>
<span class="nc">Iterator</span> <span class="n">iterator</span> <span class="o">=</span> <span class="n">resultList</span><span class="o">.</span><span class="na">iterator</span><span class="o">();</span>
<span class="k">while</span> <span class="o">(</span><span class="n">iterator</span><span class="o">.</span><span class="na">hasNext</span><span class="o">())</span> <span class="o">{</span>
<span class="nc">Object</span><span class="o">[]</span> <span class="n">resultRecord</span> <span class="o">=</span> <span class="o">(</span><span class="nc">Object</span><span class="o">[])</span> <span class="n">iterator</span><span class="o">.</span><span class="na">next</span><span class="o">();</span></p>
<pre><code>&lt;span class=&quot;nc&quot;&gt;String&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;username&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;resultRecord&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;];&lt;/span&gt;
&lt;span class=&quot;nc&quot;&gt;Integer&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;age&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;Integer&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;resultRecord&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;];&lt;/span&gt;

&lt;span class=&quot;nc&quot;&gt;System&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;out&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;println&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;username = &quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;username&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;age = &quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;age&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
</code></pre>
<p><span class="o">}</span>
</code></pre></div></div></p>
<ul>
<li>ìœ„ ë°©ì‹ìœ¼ë¡œ ê²°ê³¼ ë¦¬ìŠ¤íŠ¸ë¥¼ í™•ì¸í•˜ëŠ” ê²ƒì€ ë²ˆê±°ë¡­ë‹¤.</li>
<li>ì•„ë˜ ë°©ì‹ì„ ì‚¬ìš©í•´ë³´ì.</li>
</ul>
</li>
</ul>
<br/>
<ul>
<li>
<p>ì œë„¤ë¦­ì„ ì‚¬ìš©í•˜ì—¬ ë³´ë‹¤ ê°„ê²°í•œ ì½”ë“œ</p>
<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nc">Query</span><span class="o">&lt;</span><span class="nc">Member</span><span class="o">&gt;</span> <span class="n">query</span> <span class="o">=</span>
			<span class="n">em</span><span class="o">.</span><span class="na">createQuery</span><span class="o">(</span><span class="s">"SELECT m.username, m.age FROM Member m"</span><span class="o">);</span>
<p><span class="c1">//ì œë„¤ë¦­ìœ¼ë¡œ ìš”ì†Œ íƒ€ì… ì§€ì •</span>
<span class="nc">List</span><span class="o">&lt;</span><span class="nc">Object</span><span class="o">[]&gt;</span> <span class="n">resultList</span> <span class="o">=</span> <span class="n">query</span><span class="o">.</span><span class="na">getResultList</span><span class="o">();</span></p>
<p><span class="c1">// List&lt;Object[]&gt; ê²°ê³¼ í™•ì¸</span>
<span class="k">for</span> <span class="o">(</span><span class="nc">Object</span><span class="o">[]</span> <span class="n">resultRecord</span> <span class="o">:</span> <span class="n">resultList</span><span class="o">)</span> <span class="o">{</span></p>
<pre><code>&lt;span class=&quot;nc&quot;&gt;String&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;username&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;resultRecord&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;];&lt;/span&gt;
&lt;span class=&quot;nc&quot;&gt;Integer&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;age&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;Integer&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;resultRecord&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;];&lt;/span&gt;

&lt;span class=&quot;nc&quot;&gt;System&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;out&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;println&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;username = &quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;username&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;age = &quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;age&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
</code></pre>
<p><span class="o">}</span>
</code></pre></div></div></p>
</li>
</ul>
<br/>
<ul>
<li>ìŠ¤ì¹¼ë¼ íƒ€ì…ë¿ë§Œ ì•„ë‹ˆë¼, ì—”í‹°í‹° íƒ€ì…ë„ ì—¬ëŸ¬ ê°’ì„ í•¨ê»˜ ì¡°íšŒí•  ìˆ˜ ìˆë‹¤. ì•„ë˜ ì½”ë“œë¥¼ ë³´ì.</li>
</ul>
<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nc">Query</span><span class="o">&lt;</span><span class="nc">Member</span><span class="o">&gt;</span> <span class="n">query</span> <span class="o">=</span> <span class="n">em</span><span class="o">.</span><span class="na">createQuery</span><span class="o">(</span>
			<span class="s">"SELECT o.member, o.product, o.orderAmount FROM Order o"</span><span class="o">);</span>
<p><span class="nc">List</span><span class="o">&lt;</span><span class="nc">Object</span><span class="o">[]&gt;</span> <span class="n">resultList</span> <span class="o">=</span> <span class="n">query</span><span class="o">.</span><span class="na">getResultList</span><span class="o">();</span></p>
<p><span class="c1">// List&lt;Object[]&gt; ê²°ê³¼ í™•ì¸</span>
<span class="k">for</span> <span class="o">(</span><span class="nc">Object</span><span class="o">[]</span> <span class="n">resultRecord</span> <span class="o">:</span> <span class="n">resultList</span><span class="o">)</span> <span class="o">{</span></p>
<pre><code>&lt;span class=&quot;nc&quot;&gt;Member&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;member&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;Member&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;resultRecord&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;];&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;// ì—”í‹°í‹°&lt;/span&gt;
&lt;span class=&quot;nc&quot;&gt;Product&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;product&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;Product&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;resultRecord&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;];&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;// ì—”í‹°í‹°&lt;/span&gt;
&lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;orderAmount&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;Integer&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;resultRecord&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;];&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;// ìŠ¤ì¹¼ë¼&lt;/span&gt;
</code></pre>
<p><span class="o">}</span>
</code></pre></div></div></p>
<ul>
<li>ë¬¼ë¡  ì´ë•Œë„ ì¡°íšŒí•œ ì—”í‹°í‹°ëŠ” ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ì—ì„œ ê´€ë¦¬ëœë‹¤.</li>
</ul>
<br/>
<h3 id="codenewcode-"><code>NEW</code> ëª…ë ¹ì–´</h3>
<ul>
<li>ì§€ê¸ˆê¹Œì§€ ì—¬ëŸ¬ í•„ë“œë¥¼ ì¡°íšŒí•  ë•Œ, íƒ€ì…ì„ ëª…í™•íˆ ì§€ì •í•  ìˆ˜ ì—†ìœ¼ë¯€ë¡œ <code>Query</code> ë¥¼ ì‚¬ìš©í•˜ì—¬ <code>Object[]</code> ë¥¼ ë°˜í™˜ë°›ì•˜ë‹¤.</li>
<li><strong>ì‹¤ì œë¡œ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ê°œë°œí•  ë•ŒëŠ” <code>Object[]</code> ë¥¼ ì§ì ‘ ì‚¬ìš©í•˜ì§€ ì•Šê³ , DTO í´ë˜ìŠ¤ì™€ ê°™ì´ ì˜ë¯¸ìˆëŠ” ê°ì²´ë¡œ ë³€í™˜í•´ì„œ ì‚¬ìš©í•  ê²ƒì´ë‹¤.</strong></li>
</ul>
<br/>
<ul>
<li>DTO í´ë˜ìŠ¤ ì‚¬ìš© ì˜ˆì‹œ
<ul>
<li>
<p>UserDTO í´ë˜ìŠ¤</p>
<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">public</span> <span class="kd">class</span> <span class="nc">UserDTO</span> <span class="o">{</span>
	<span class="kd">private</span> <span class="nc">String</span> <span class="n">username</span><span class="o">;</span>
	<span class="kd">private</span> <span class="kt">int</span> <span class="n">age</span><span class="o">;</span>
<pre><code>&lt;span class=&quot;kd&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;UserDTO&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;String&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;username&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;age&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
	&lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;username&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;username&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt;
	&lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;age&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;age&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;c1&quot;&gt;//getter, setter ìƒëµ&lt;/span&gt;
</code></pre>
<p><span class="o">}</span>
</code></pre></div></div></p>
</li>
<li>
<p>DTOë¥¼ ì‚¬ìš©í•˜ëŠ” JPQL ì¡°íšŒ: <code>NEW</code> ëª…ë ¹ì–´ ì—†ì´</p>
<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nc">List</span><span class="o">&lt;</span><span class="nc">Object</span><span class="o">[]&gt;</span> <span class="n">resultList</span> <span class="o">=</span>
			<span class="n">em</span><span class="o">.</span><span class="na">createQuery</span><span class="o">(</span><span class="s">"SELECT m.username, m.age FROM Member m"</span><span class="o">)</span>
			<span class="o">.</span><span class="na">getResultList</span><span class="o">();</span>
<p><span class="c1">// ë²ˆê±°ë¡œìš´ DTO ë³€í™˜ ì‘ì—…</span></p>
<p><span class="nc">List</span><span class="o">&lt;</span><span class="nc">UserDTO</span><span class="o">&gt;</span> <span class="n">userDTOs</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">ArrayList</span><span class="o">&lt;</span><span class="nc">UserDTO</span><span class="o">&gt;();</span></p>
<p><span class="k">for</span> <span class="o">(</span><span class="nc">Object</span><span class="o">[]</span> <span class="n">resultRecord</span> <span class="o">:</span> <span class="n">resultList</span><span class="o">)</span> <span class="o">{</span></p>
<pre><code>&lt;span class=&quot;nc&quot;&gt;String&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;username&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;resultRecord&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;];&lt;/span&gt;
&lt;span class=&quot;nc&quot;&gt;Integer&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;age&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;Integer&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;resultRecord&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;];&lt;/span&gt;

&lt;span class=&quot;n&quot;&gt;userDTOs&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;add&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;UserDTO&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;username&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;age&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;));&lt;/span&gt;
</code></pre>
<p><span class="o">}</span></p>
<p><span class="k">return</span> <span class="n">userDTOs</span><span class="o">;</span>
</code></pre></div></div></p>
<ul>
<li>ìœ„ì™€ ê°™ì€ DTO ë³€í™˜ ì‘ì—…ì€ ë„ˆë¬´ ë²ˆê±°ë¡­ë‹¤.</li>
<li><strong>ì´ë•Œ, JPQL ì¿¼ë¦¬ì— <code>NEW</code> ëª…ë ¹ì–´ë¥¼ ì‚¬ìš©í•˜ë©´ í¸ë¦¬í•˜ë‹¤.</strong></li>
</ul>
</li>
<li>
<p>DTOë¥¼ ì‚¬ìš©í•˜ëŠ” JPQL ì¡°íšŒ: <code>NEW</code> ëª…ë ¹ì–´ ì‚¬ìš©</p>
<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">//new ëª…ë ¹ì–´ê°€ ì ìš©ëœ ìƒˆ JPQL ì¿¼ë¦¬</span>
<span class="nc">List</span><span class="o">&lt;</span><span class="nc">UserDTO</span><span class="o">&gt;</span> <span class="n">userDTOs</span> <span class="o">=</span> <span class="n">em</span><span class="o">.</span><span class="na">createQuery</span><span class="o">(</span>
			<span class="s">"SELECT NEW íŒ¨í‚¤ì§€ê²½ë¡œ.UserDTO(m.username, m.age) FROM Member m"</span>
			<span class="nc">UserDTO</span><span class="o">.</span><span class="na">class</span><span class="o">)</span>
			<span class="o">.</span><span class="na">getResultList</span><span class="o">();</span>
<p><span class="c1">// ë²ˆê±°ë¡œìš´ DTO ë³€í™˜ ì‘ì—…ì€ í•„ìš”ì—†ë‹¤.</span></p>
<p><span class="k">return</span> <span class="n">userDTOs</span><span class="o">;</span>
</code></pre></div></div></p>
<ul>
<li><code>SELECT</code> ë‹¤ìŒì— <code>NEW</code> ëª…ë ¹ì–´ë¥¼ ì‚¬ìš©í•˜ì—¬ ë°˜í™˜ë°›ì„ í´ë˜ìŠ¤ë¥¼ ì§€ì •í•  ìˆ˜ ìˆë‹¤.</li>
<li><strong>ë°˜í™˜ë°›ì„ í´ë˜ìŠ¤ì˜ ìƒì„±ìì— JPQL ì¡°íšŒ ê²°ê³¼ë¥¼ ë„˜ê²¨ì¤„ ìˆ˜ ìˆë‹¤.</strong></li>
<li><code>NEW</code> ëª…ë ¹ì–´ë¥¼ ì‚¬ìš©í•œ í´ë˜ìŠ¤ë¡œ <code>TypedQuery</code> ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆì–´ì„œ ê°„í¸í•˜ë‹¤.</li>
</ul>
</li>
</ul>
</li>
</ul>
<br/>
<ul>
<li><code>NEW</code> ëª…ë ¹ì–´ ì‚¬ìš© ì‹œ, ì£¼ì˜ì‚¬í•­
<ul>
<li>íŒ¨í‚¤ì§€ ëª…ì„ í¬í•¨í•œ ì „ì²´ í´ë˜ìŠ¤ ëª…ì„ ì…ë ¥í•´ì•¼ í•œë‹¤.</li>
<li>ìˆœì„œì™€ íƒ€ì…ì´ ì¼ì¹˜í•˜ëŠ” ìƒì„±ìê°€ í•„ìš”í•˜ë‹¤.</li>
</ul>
</li>
</ul>
<p><br/><br/></p>
<h2 id="api-1">í˜ì´ì§• API</h2>
<h3 id="jpa---api">JPAê°€ ì œê³µí•˜ëŠ” í˜ì´ì§• API</h3>
<p>JPAëŠ” í˜ì´ì§•ì„ ì•„ë˜ ë‘ APIë¡œ ì¶”ìƒí™”í–ˆë‹¤.</p>
<ul>
<li><code>setFirstResult(int startPosition)</code>
<ul>
<li>ì¡°íšŒ ì‹œì‘ ìœ„ì¹˜ (0ë¶€í„° ì‹œì‘í•œë‹¤.)</li>
</ul>
</li>
<li><code>setMaxResults(int maxResult)</code>
<ul>
<li>ì¡°íšŒí•  ë°ì´í„° ìˆ˜</li>
</ul>
</li>
</ul>
<br/>
<h3 id="section-12">ì˜ˆì‹œ ì½”ë“œ</h3>
<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nc">TypedQuery</span><span class="o">&lt;</span><span class="nc">Member</span><span class="o">&gt;</span> <span class="n">query</span> <span class="o">=</span> <span class="n">em</span><span class="o">.</span><span class="na">createQuery</span><span class="o">(</span>
		<span class="s">"SELECT m FROM Member m ORDER BY m.username DESC"</span><span class="o">,</span>
		<span class="nc">Member</span><span class="o">.</span><span class="na">class</span><span class="o">);</span>
<p><span class="n">query</span><span class="o">.</span><span class="na">setFirstResult</span><span class="o">(</span><span class="mi">10</span><span class="o">);</span> <span class="c1">// 11ë²ˆì§¸ ë ˆì½”ë“œë¶€í„°</span>
<span class="n">query</span><span class="o">.</span><span class="na">setMaxResults</span><span class="o">(</span><span class="mi">20</span><span class="o">);</span> <span class="c1">// ì´ 20ê°œì˜ ë ˆì½”ë“œê¹Œì§€</span>
<span class="n">query</span><span class="o">.</span><span class="na">getResultList</span><span class="o">();</span>
</code></pre></div></div></p>
<ul>
<li><code>setFirstResult(10)</code>
<ul>
<li>11ë²ˆì§¸ ë ˆì½”ë“œë¶€í„°</li>
</ul>
</li>
<li><code>setMaxResults(20)</code>
<ul>
<li>20ê°œì˜ ë ˆì½”ë“œë¥¼ ì¡°íšŒí•œë‹¤.</li>
</ul>
</li>
<li><strong>ì¦‰ 11~20 ë²ˆì§¸ ë ˆì½”ë“œë¥¼ ì¡°íšŒí•œë‹¤.</strong></li>
<li>DBë§ˆë‹¤ ë‹¤ë¥¸ í˜ì´ì§• ì²˜ë¦¬ë¥¼ ê°™ì€ APIë¡œ ì²˜ë¦¬í•  ìˆ˜ ìˆëŠ” ì´ìœ 
<ul>
<li>ë°ì´í„°ë² ì´ìŠ¤ ë°©ì–¸(Dialect) ê¸°ëŠ¥ ë•ë¶„ì— ê°€ëŠ¥í•˜ë‹¤.</li>
</ul>
</li>
</ul>
<p><br/><br/></p>
<h2 id="section-13">ì§‘í•©ê³¼ ì •ë ¬</h2>
<h3 id="section-14">ì§‘í•©ì´ë€?</h3>
<ul>
<li>
<p>ì§‘í•©í•¨ìˆ˜ì™€ í•¨ê»˜ í†µê³„ ì •ë³´ë¥¼ êµ¬í•  ë•Œ ì‚¬ìš©í•œë‹¤.</p>
</li>
<li>
<p>ì˜ˆì‹œ JPQL ì¿¼ë¦¬</p>
<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code>select
	COUNT(m), //íšŒì›ìˆ˜
	SUM(m.age), //ë‚˜ì´ í•©
	AVG(m.age), //ë‚˜ì´ í‰ê· 
	MAX(m.age), //ìµœëŒ€ ë‚˜ì´
	MIN(m.age) //ìµœì†Œ ë‚˜ì´
from Member m
</code></pre></div></div>
</li>
</ul>
<br/>
<h3 id="section-15">ì§‘í•© í•¨ìˆ˜</h3>
<table>
<thead>
<tr>
<th>í•¨ìˆ˜</th>
<th>ì„¤ëª…</th>
<th>ë°˜í™˜íƒ€ì…</th>
</tr>
</thead>
<tbody>
<tr>
<td>COUNT</td>
<td>ê²°ê³¼ ìˆ˜ë¥¼ êµ¬í•œë‹¤.</td>
<td>Long</td>
</tr>
<tr>
<td>MAX, MIN</td>
<td>ìµœëŒ€, ìµœì†Œ ê°’ì„ êµ¬í•œë‹¤.</td>
<td>ë¬¸ì, ìˆ«ì, ë‚ ì§œ ë“±</td>
</tr>
<tr>
<td>AVG</td>
<td>í‰ê· ê°’ì„ êµ¬í•œë‹¤. <br/> ìˆ«ìíƒ€ì…ë§Œ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.</td>
<td>Double</td>
</tr>
<tr>
<td>SUM</td>
<td>í•©ì„ êµ¬í•œë‹¤. <br/> ìˆ«ìíƒ€ì…ë§Œ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.</td>
<td>ì •ìˆ˜í•©: Long <br/> ì†Œìˆ˜í•©: Double <br/> BigIntegerí•©: BigInteger <br/> BigDecimalí•©: BigDecimal</td>
</tr>
</tbody>
</table>
<br/>
<h3 id="section-16">ì§‘í•© í•¨ìˆ˜ ì‚¬ìš© ì‹œ ì°¸ê³ ì‚¬í•­</h3>
<ul>
<li><strong><code>NULL</code> ê°’ì€ ë¬´ì‹œí•˜ë¯€ë¡œ í†µê³„ì— ì¡íˆì§€ ì•ŠëŠ”ë‹¤.</strong></li>
<li><strong>ë§Œì•½ ê°’ì´ ì—†ëŠ”ë° <code>SUM</code> , <code>AVG</code> , <code>MAX</code> , <code>MIN</code> í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•˜ë©´ <code>NULL</code> ê°’ì´ ëœë‹¤.</strong>
<ul>
<li>ë‹¨, <code>COUNT</code> ëŠ” 0ì´ ëœë‹¤.</li>
</ul>
</li>
<li><strong><code>DISTINCT</code> ë¥¼ ì§‘í•© í•¨ìˆ˜ ì•ˆì— ì‚¬ìš©í•´ì„œ ì¤‘ë³µëœ ê°’ì„ ì œê±°í•œ ë’¤ì˜ ì§‘í•©ì„ êµ¬í•  ìˆ˜ ìˆë‹¤.</strong>
<ul>
<li><code>select COUNT ( DISTINCT m.age ) from Member m</code></li>
</ul>
</li>
<li><strong><code>DISTINCT</code> ë¥¼ <code>COUNT</code> ì—ì„œ ì‚¬ìš©í•  ë•Œ, ì„ë² ë””ë“œ íƒ€ì…ì€ ì§€ì›í•˜ì§€ ì•ŠëŠ”ë‹¤.</strong></li>
</ul>
<br/>
<h3 id="group-by-having">GROUP BY, HAVING</h3>
<ul>
<li>
<p><code>GROUP BY</code> ëŠ” í†µê³„ ë°ì´í„°ë¥¼ êµ¬í•  ë•Œ, íŠ¹ì • ê·¸ë£¹ê¹Œì§€ ë¬¶ì–´ì¤€ë‹¤.</p>
</li>
<li>
<p>ì˜ˆì‹œ</p>
<ul>
<li>ì•„ë˜ JPQL ì¿¼ë¦¬ëŠ” â€˜íŒ€ ì´ë¦„ì„ ê¸°ì¤€ìœ¼ë¡œ ë¬¶ì–´, í†µê³„ ë°ì´í„°ë¥¼ êµ¬í•˜ëŠ” ì¿¼ë¦¬â€™ì´ë‹¤.</li>
</ul>
<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code>select t.name, COUNT(m.age), SUM(m.age),
	AVG(m.age), MAX(m.age), MIN(m.age)
	from Member m LEFT JOIN m.team t
	GROUP BY t.name
</code></pre></div></div>
</li>
</ul>
<br/>
<ul>
<li>
<p><code>HAVING</code> ì€ <code>GROUP BY</code> ì™€ í•¨ê»˜ ì‚¬ìš©ë˜ì–´, <code>**GROUP BY</code> ë¡œ ê·¸ë£¹í™”í•œ í†µê³„ ë°ì´í„°ë¥¼ ê¸°ì¤€ìœ¼ë¡œ í•„í„°ë§**í•œë‹¤.</p>
</li>
<li>
<p>ì˜ˆì‹œ</p>
<ul>
<li>ì•„ë˜ JPQL ì¿¼ë¦¬ëŠ” â€˜ìœ„ ì¿¼ë¦¬ì˜ ê²°ê³¼ ë°ì´í„° ì¤‘ì—ì„œ í‰ê· ë‚˜ì´ê°€ 10ì‚´ ì´ìƒì¸ ê·¸ë£¹ì„ ì¡°íšŒí•˜ëŠ” ì¿¼ë¦¬â€™ì´ë‹¤.</li>
</ul>
<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code>select t.name, COUNT(m.age), SUM(m.age),
	AVG(m.age), MAX(m.age), MIN(m.age)
	from Member m LEFT JOIN m.team t
	GROUP BY t.name
	HAVING AVG(m.age) &gt;= 10
</code></pre></div></div>
</li>
<li>
<p><code>GROUP BY</code> ì™€ <code>HAVING</code> ë¬¸ë²•</p>
<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code>groupby_ì ˆ ::= GROUP BY {ë‹¨ì¼ê°’ ê²½ë¡œ | ë³„ì¹­} +
having_ì ˆ ::= HAVING ì¡°ê±´ì‹
</code></pre></div></div>
</li>
</ul>
<br/>
<ul>
<li>í†µê³„ ì¿¼ë¦¬ ì‚¬ìš© ì‹œ, ì£¼ì˜ì‚¬í•­
<ul>
<li>í†µê³„ ì¿¼ë¦¬ëŠ” ë³´í†µ ì „ì²´ ë°ì´í„°ë¥¼ ê¸°ì¤€ìœ¼ë¡œ ì²˜ë¦¬í•˜ë¯€ë¡œ, ì‹¤ì‹œê°„ìœ¼ë¡œ ì‚¬ìš©í•˜ê¸°ì—” ë¶€ë‹´ì´ ë§ë‹¤.</li>
<li><em>ë”°ë¼ì„œ ê²°ê³¼ê°€ ì•„ì£¼ ë§ë‹¤ë©´ í†µê³„ ê²°ê³¼ë§Œ ì €ì¥í•˜ëŠ” í…Œì´ë¸”ì„ ë³„ë„ë¡œ ë§Œë“¤ì–´ ë‘ê³  ì‚¬ìš©ìê°€ ì ì€ ìƒˆë²½ì— í†µê³„ ì¿¼ë¦¬ë¥¼ ì‹¤í–‰í•´ì„œ ê·¸ ê²°ê³¼ë¥¼ ë³´ê´€í•˜ëŠ” ê²ƒì´ ì¢‹ë‹¤.</em></li>
</ul>
</li>
</ul>
<br/>
<h3 id="order-by">ì •ë ¬(ORDER BY)</h3>
<ul>
<li>
<p><code>ORDER BY</code> ëŠ” ê²°ê³¼ë¥¼ ì •ë ¬í•  ë•Œ ì‚¬ìš©í•œë‹¤.</p>
</li>
<li>
<p>ì˜ˆì‹œ JPQL ì¿¼ë¦¬</p>
<ul>
<li>ì•„ë˜ JPQL ì¿¼ë¦¬ëŠ” â€˜ë‚˜ì´ë¥¼ ê¸°ì¤€ìœ¼ë¡œ ë‚´ë¦¼ì°¨ìˆœìœ¼ë¡œ ì •ë ¬í•˜ê³  ë‚˜ì´ê°€ ê°™ìœ¼ë©´ ì´ë¦„ì„ ê¸°ì¤€ìœ¼ë¡œ ì˜¤ë¦„ì°¨ìˆœìœ¼ë¡œ ì •ë ¬í•˜ëŠ” ì¿¼ë¦¬â€™ì´ë‹¤.</li>
</ul>
<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code>select m from Member m
	ORDER BY m.age DESC, m.username ASC
</code></pre></div></div>
</li>
<li>
<p><code>ORDER BY</code> ë¬¸ë²•</p>
<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code>orderby_ì ˆ ::= ORDER BY {ìƒíƒœí•„ë“œ ê²½ë¡œ | ê²°ê³¼ ë³€ìˆ˜ [ASC | DESC]}+
</code></pre></div></div>
<ul>
<li>ìƒíƒœí•„ë“œ: <code>t.name</code> ê³¼ ê°™ì´, ê°ì²´ì˜ ìƒíƒœë¥¼ ë‚˜íƒ€ë‚´ëŠ” í•„ë“œ</li>
<li>ê²°ê³¼ ë³€ìˆ˜: SELECT ì ˆì— ë‚˜íƒ€ë‚˜ëŠ” ê°’</li>
</ul>
</li>
</ul>
<p><br><br></p>
<hr />
<br>
<div style="font-style: italic;color: gray;">
  <ul>
    <li>ê¹€ì˜í•œ, ã€ìë°” ORM í‘œì¤€ JPA í”„ë¡œê·¸ë˜ë°ã€, ì—ì´ì½˜</li>
  </ul>
  ë³¸ ê²Œì‹œê¸€ì€ ìœ„ êµì¬ë¥¼ ê¸°ë°˜ìœ¼ë¡œ ì •ë¦¬í•œ ê¸€ì…ë‹ˆë‹¤.
</div>
:ET