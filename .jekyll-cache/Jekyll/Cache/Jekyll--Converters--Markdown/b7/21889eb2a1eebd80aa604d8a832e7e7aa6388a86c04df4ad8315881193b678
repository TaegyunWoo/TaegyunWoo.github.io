I"Ë9<p><br/><br/></p>
<h1 id="codeautowiredcode-----2-"><code>@Autowired</code> - ì¡°íšŒ ë¹ˆì´ 2ê°œ ì´ìƒì¼ë•Œ</h1>
<h2 id="section">ë¬¸ì œ ìƒí™©</h2>
<ul>
<li>
<p><code>@Autowired</code> ëŠ” íƒ€ì…(Type)ì„ ê¸°ë°˜ìœ¼ë¡œ ì¡°íšŒí•œë‹¤.</p>
</li>
<li>
<p>ê·¸ë ‡ë‹¤ë©´, íƒ€ì…ì´ ê°™ì€ ë¹ˆ ê°ì²´ë“¤ì´ ì¡´ì¬í•œë‹¤ë©´ ì–´ë–»ê²Œ ë ê¹Œ?</p>
<ul>
<li>ì¶©ëŒì´ ë°œìƒí•˜ì—¬, <code>NoUniqueBeanDefinitionException</code> ì˜ˆì™¸ë¥¼ ë°œìƒì‹œí‚¨ë‹¤.</li>
</ul>
</li>
<li>
<p>ì´ ë¬¸ì œë¥¼ ì–´ë–»ê²Œ í•´ê²°í• ê¹Œ.</p>
</li>
</ul>
<p><br><br></p>
<h2 id="section-1">ì¡°íšŒ ëŒ€ìƒ ë¹ˆì´ 2ê°œ ì´ìƒì¼ ë•Œì˜ í•´ê²° ë°©ì•ˆ</h2>
<ul>
<li><code>@Autowired</code> í•„ë“œëª… ë§¤ì¹­</li>
<li><code>@Qualifier</code> â†’ <code>@Qualifier</code> ë¼ë¦¬ ë§¤ì¹­ â†’ ë¹ˆ ì´ë¦„ ë§¤ì¹­</li>
<li><code>@Primary</code> ì‚¬ìš©</li>
</ul>
<p>ìœ„ì™€ ê°™ì´ ì´ 3ê°€ì§€ì˜ í•´ê²° ë°©ë²•ì´ ìˆë‹¤. í•˜ë‚˜ì”© ì•Œì•„ë³´ì.</p>
<p><br><br></p>
<h2 id="codeautowiredcode--"><code>@Autowired</code> í•„ë“œëª… ë§¤ì¹­</h2>
<ul>
<li><code>@Autowired</code> ëŠ” íƒ€ì… ë§¤ì¹­ì„ ì‹œë„í•˜ê³ , <strong>ì´ë•Œ ì—¬ëŸ¬ ë¹ˆì´ ìˆìœ¼ë©´ â€˜í•„ë“œ ì´ë¦„â€™ê³¼ â€˜íŒŒë¼ë¯¸í„° ì´ë¦„â€™ìœ¼ë¡œ ë¹ˆ ì´ë¦„ì„ ì¶”ê°€ ë§¤ì¹­</strong> í•œë‹¤.</li>
<li><strong>í•„ë“œì— ì§ì ‘ ì£¼ì…í•˜ëŠ” ë°©ì‹ìœ¼ë¡œ ìˆ˜í–‰í•œë‹¤.</strong></li>
</ul>
<br>
<h3 id="section-2">íƒ€ì…ì´ ê°™ì€ ë¹ˆ ê°ì²´ ë“±ë¡ 1</h3>
<ul>
<li>ë¹ˆ ê°ì²´ ì´ë¦„ì„ <code>rateDiscountPolicy</code> ë¡œ ë“±ë¡í•œë‹¤.</li>
<li>íƒ€ì…ì€ <code>DiscountPolicy</code> ì´ë‹¤.</li>
</ul>
<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nd">@Component</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">RateDiscountPolicy</span> <span class="kd">implements</span> <span class="nc">DisocuntPolicy</span> <span class="o">{</span>
	<span class="c1">//... ì´í•˜ ìƒëµ</span>
<span class="o">}</span>
</code></pre></div></div>
<br>
<h3 id="section-3">íƒ€ì…ì´ ê°™ì€ ë¹ˆ ê°ì²´ ë“±ë¡ 2</h3>
<ul>
<li>ë¹ˆ ê°ì²´ ì´ë¦„ì„ <code>fixDiscountPolicy</code> ë¡œ ë“±ë¡í•œë‹¤.</li>
<li>íƒ€ì…ì€ <code>DiscountPolicy</code> ì´ë‹¤. ìœ„ì™€ <strong>ë™ì¼í•œ íƒ€ì…</strong> ì´ë‹¤.</li>
</ul>
<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nd">@Component</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">FixDiscountPolicy</span> <span class="kd">implements</span> <span class="nc">DisocuntPolicy</span> <span class="o">{</span>
	<span class="c1">//... ì´í•˜ ìƒëµ</span>
<span class="o">}</span>
</code></pre></div></div>
<br>
<h3 id="section-4">ì˜ì¡´ê´€ê³„ ì£¼ì…</h3>
<ul>
<li><code>DiscountPolicy</code> íƒ€ì…ì¸ <code>rateDiscountPolicy</code> ë¹ˆê³¼ <code>fixDiscountPolicy</code> ë¹ˆ ì¤‘ <code>rateDiscountPolicy</code> ë¹ˆì„ <code>OrderServiceImpl</code> ì— ì£¼ì…í•œë‹¤.</li>
</ul>
<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nd">@Component</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">OrderServiceImpl</span> <span class="kd">implements</span> <span class="nc">OrderService</span> <span class="o">{</span>

	<span class="c1">//ì˜ì¡´ê´€ê³„ ì£¼ì… (rateDiscountPolicy ë¹ˆì„ OrderServiceImplì— ì£¼ì…í•œë‹¤.)</span>
	<span class="cm">/*
		íƒ€ì…ì´ ê°™ì€ ë¹ˆì´ 2ê°œì´ë¯€ë¡œ, ë¹ˆ ì´ë¦„ì´ rateDiscountPolicyì¸ ê²ƒ(í•„ë“œëª…ê³¼ ë¹ˆì´ë¦„ì´ ê°™ì€ ê²ƒ)ì„
		ì°¾ì•„ ì£¼ì…í•œë‹¤.
	*/</span>
	<span class="nd">@Autowired</span>
	<span class="kd">private</span> <span class="nc">DiscountPolicy</span> <span class="n">rateDiscountPolicy</span><span class="o">;</span>

	<span class="c1">// .. ì´í•˜ ìƒëµ</span>
<span class="o">}</span>
</code></pre></div></div>
<p><br><br></p>
<h2 id="codequalifiercode-"><code>@Qualifier</code> ì‚¬ìš©</h2>
<ul>
<li>
<p><code>@Qualifier</code> ëŠ” ì¶”ê°€ êµ¬ë¶„ìë¥¼ ë¶™ì—¬ì£¼ëŠ” ë°©ë²•ì´ë‹¤.</p>
</li>
<li>
<p>ì£¼ì…ì‹œ ì¶”ê°€ì ì¸ ë°©ë²•ì„ ì œê³µí•˜ëŠ” ê²ƒì´ì§€, <strong>ë¹ˆ ì´ë¦„ì„ ë³€ê²½í•˜ëŠ” ê²ƒì€ ì•„ë‹ˆë‹¤.</strong></p>
</li>
</ul>
<br>
<h3 id="section-5">íƒ€ì…ì´ ê°™ì€ ë¹ˆ ê°ì²´ ë“±ë¡ 1</h3>
<ul>
<li>
<p>ë¹ˆ ê°ì²´ ì´ë¦„ì„ <code>rateDiscountPolicy</code> ë¡œ ë“±ë¡í•œë‹¤.</p>
</li>
<li>
<p>íƒ€ì…ì€ <code>DiscountPolicy</code> ì´ë‹¤.</p>
</li>
<li>
<p><strong>ì¶”ê°€ êµ¬ë¶„ìë¥¼ â€œmainDiscountPolicyâ€ë¡œ ì„¤ì •í•œë‹¤.</strong></p>
</li>
</ul>
<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nd">@Component</span>
<span class="nd">@Qualifier</span><span class="o">(</span><span class="s">"mainDiscountPolicy"</span><span class="o">)</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">RateDiscountPolicy</span> <span class="kd">implements</span> <span class="nc">DisocuntPolicy</span> <span class="o">{</span>
	<span class="c1">//... ì´í•˜ ìƒëµ</span>
<span class="o">}</span>
</code></pre></div></div>
<br>
<h3 id="section-6">íƒ€ì…ì´ ê°™ì€ ë¹ˆ ê°ì²´ ë“±ë¡ 2</h3>
<ul>
<li>
<p>ë¹ˆ ê°ì²´ ì´ë¦„ì„ <code>fixDiscountPolicy</code> ë¡œ ë“±ë¡í•œë‹¤.</p>
</li>
<li>
<p>íƒ€ì…ì€ <code>DiscountPolicy</code> ì´ë‹¤. ìœ„ì™€ <strong>ë™ì¼í•œ íƒ€ì…</strong> ì´ë‹¤.</p>
</li>
<li>
<p><strong>ì¶”ê°€ êµ¬ë¶„ìë¥¼ â€œfixDiscountPolicyâ€ë¡œ ì„¤ì •í•œë‹¤.</strong></p>
</li>
</ul>
<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nd">@Component</span>
<span class="nd">@Qualifier</span><span class="o">(</span><span class="s">"fixDiscountPolicy"</span><span class="o">)</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">FixDiscountPolicy</span> <span class="kd">implements</span> <span class="nc">DisocuntPolicy</span> <span class="o">{</span>
	<span class="c1">//... ì´í•˜ ìƒëµ</span>
<span class="o">}</span>
</code></pre></div></div>
<br>
<h3 id="section-7">ìƒì„±ì ì£¼ì…</h3>
<ul>
<li>ë§¤ê°œë³€ìˆ˜ <code>discountPolicy</code> ì— â€™ì¶”ê°€ êµ¬ë¶„ìë¥¼ í†µí•´ ì„ íƒëœ ë¹ˆ ê°ì²´ <code>rateDiscountPolicy</code> â€™ë¥¼ ë„˜ê¸´ë‹¤.</li>
</ul>
<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nd">@Component</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">OrderServiceImpl</span> <span class="kd">implements</span> <span class="nc">OrderService</span> <span class="o">{</span>

	<span class="kd">private</span> <span class="kd">final</span> <span class="nc">DiscountPolicy</span> <span class="n">discountPolicy</span><span class="o">;</span>
	
	<span class="nd">@Autowired</span>
	<span class="kd">public</span> <span class="nf">OrderServiceImpl</span><span class="o">(</span><span class="nd">@Qualifier</span><span class="o">(</span><span class="s">"mainDiscountPolicy"</span><span class="o">)</span> <span class="nc">DiscountPolicy</span> <span class="n">discountPolicy</span><span class="o">)</span> <span class="o">{</span>
		<span class="k">this</span><span class="o">.</span><span class="na">discountPolicy</span> <span class="o">=</span> <span class="n">discountPolicy</span><span class="o">;</span>
	<span class="o">}</span>
	
	<span class="c1">// .. ì´í•˜ ìƒëµ</span>
<span class="o">}</span>
</code></pre></div></div>
<br>
<h3 id="setter-">setter ì£¼ì…</h3>
<ul>
<li>ë§¤ê°œë³€ìˆ˜ <code>discountPolicy</code> ì— â€™ì¶”ê°€ êµ¬ë¶„ìë¥¼ í†µí•´ ì„ íƒëœ ë¹ˆ ê°ì²´ <code>rateDiscountPolicy</code> â€™ë¥¼ ë„˜ê¸´ë‹¤.</li>
</ul>
<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nd">@Component</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">OrderServiceImpl</span> <span class="kd">implements</span> <span class="nc">OrderService</span> <span class="o">{</span>

	<span class="kd">private</span> <span class="nc">DiscountPolicy</span> <span class="n">discountPolicy</span><span class="o">;</span>
	
	<span class="nd">@Autowired</span>
	<span class="kd">public</span> <span class="nc">DiscountPolicy</span> <span class="nf">setDiscountPolicy</span><span class="o">(</span><span class="nd">@Qualifier</span><span class="o">(</span><span class="s">"mainDiscountPolicy"</span><span class="o">)</span> <span class="nc">DiscountPolicy</span> <span class="n">discountPolicy</span><span class="o">)</span> <span class="o">{</span>
		<span class="k">return</span> <span class="n">discountPolicy</span><span class="o">;</span>
	<span class="o">}</span>
	
	<span class="c1">// .. ì´í•˜ ìƒëµ</span>
<span class="o">}</span>
</code></pre></div></div>
<br>
<h3 id="codequalifiercode-----"><code>@Qualifier</code> ì—ì„œ ì¶”ê°€ êµ¬ë¶„ìë¥¼ ëª»ì°¾ì„ ê²½ìš°</h3>
<ul>
<li>
<p><code>@Qualifier</code> ë¡œ ì„¤ì •ëœ ì¶”ê°€ êµ¬ë¶„ì ê°’ì„ ëª»ì°¾ì„ ë•ŒëŠ” ì–´ë–»ê²Œ í• ê¹Œ?</p>
</li>
<li>
<p>ì´ë•ŒëŠ” ì„¤ì •ëœ ì¶”ê°€ êµ¬ë¶„ì ê°’ì„ <strong>ì´ë¦„ìœ¼ë¡œ ê°–ëŠ” ë¹ˆì„ ì°¾ëŠ”ë‹¤.</strong></p>
</li>
<li>
<p>ì˜ˆì‹œ</p>
<ol>
<li><code>@Qualifier(&quot;MyValue&quot;)</code> ë¥¼ í†µí•´ â€œMyValueâ€ ë¼ëŠ” ì¶”ê°€ êµ¬ë¶„ìë¥¼ ê°–ëŠ” ë¹ˆì„ ì°¾ëŠ”ë‹¤.</li>
<li>í•˜ì§€ë§Œ, <code>@Qualifier(&quot;MyValue&quot;)</code> ë¡œ ì„¤ì •ëœ ë¹ˆ ê°ì²´ê°€ ì—†ë‹¤.</li>
<li>ê·¸ë ‡ë‹¤ë©´, â€œMyValueâ€ ë¼ëŠ” ì´ë¦„ì„ ê°–ëŠ” ë¹ˆ ê°ì²´ë¥¼ ì°¾ëŠ”ë‹¤.</li>
<li>ë§Œì•½, â€œMyValueâ€ ë¼ëŠ” ì´ë¦„ì„ ê°–ëŠ” ë¹ˆ ê°ì²´ ì—­ì‹œ ì—†ë‹¤ë©´, <code>NoSuchBeanDefinitionException</code> ì´ ë°œìƒí•œë‹¤.</li>
</ol>
</li>
</ul>
<p><br><br></p>
<h2 id="codeprimarycode-"><code>@Primary</code> ì‚¬ìš©</h2>
<ul>
<li>
<p><code>@Primary</code> ëŠ” ìš°ì„ ìˆœìœ„ë¥¼ ì •í•˜ëŠ” ë°©ë²•ì´ë‹¤.</p>
</li>
<li>
<p><code>@Autowired</code> ì‹œì— ì—¬ëŸ¬ ë¹ˆì´ ë§¤ì¹­ë˜ë©´ <code>@Primary</code> ê°€ ìš°ì„ ê¶Œì„ ê°€ì§„ë‹¤.</p>
</li>
</ul>
<br>
<h3 id="section-8">íƒ€ì…ì´ ê°™ì€ ë¹ˆ ê°ì²´ ë“±ë¡ 1</h3>
<ul>
<li>ë¹ˆ ê°ì²´ ì´ë¦„ì„ <code>rateDiscountPolicy</code> ë¡œ ë“±ë¡í•œë‹¤.</li>
<li>íƒ€ì…ì€ <code>DiscountPolicy</code> ì´ë‹¤.</li>
<li><strong>ìš°ì„ ê¶Œì„ ê°€ì§„ë‹¤.</strong></li>
</ul>
<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nd">@Component</span>
<span class="nd">@Primary</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">RateDiscountPolicy</span> <span class="kd">implements</span> <span class="nc">DisocuntPolicy</span> <span class="o">{</span>
	<span class="c1">//... ì´í•˜ ìƒëµ</span>
<span class="o">}</span>
</code></pre></div></div>
<br>
<h3 id="section-9">íƒ€ì…ì´ ê°™ì€ ë¹ˆ ê°ì²´ ë“±ë¡ 2</h3>
<ul>
<li>ë¹ˆ ê°ì²´ ì´ë¦„ì„ <code>fixDiscountPolicy</code> ë¡œ ë“±ë¡í•œë‹¤.</li>
<li>íƒ€ì…ì€ <code>DiscountPolicy</code> ì´ë‹¤. ìœ„ì™€ <strong>ë™ì¼í•œ íƒ€ì…</strong> ì´ë‹¤.</li>
<li><strong>ìš°ì„ ê¶Œì„ ê°–ì§€ ì•ŠëŠ”ë‹¤.</strong></li>
</ul>
<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nd">@Component</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">FixDiscountPolicy</span> <span class="kd">implements</span> <span class="nc">DisocuntPolicy</span> <span class="o">{</span>
	<span class="c1">//... ì´í•˜ ìƒëµ</span>
<span class="o">}</span>
</code></pre></div></div>
<br>
<h3 id="section-10">ìƒì„±ì ì£¼ì…</h3>
<ul>
<li>ë§¤ê°œë³€ìˆ˜ <code>discountPolicy</code> ì— â€™ìš°ì„ ê¶Œì„ ê°€ì§„ ë¹ˆ ê°ì²´ <code>rateDiscountPolicy</code> â€™ë¥¼ ë„˜ê¸´ë‹¤.</li>
</ul>
<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nd">@Component</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">OrderServiceImpl</span> <span class="kd">implements</span> <span class="nc">OrderService</span> <span class="o">{</span>

	<span class="kd">private</span> <span class="kd">final</span> <span class="nc">DiscountPolicy</span> <span class="n">discountPolicy</span><span class="o">;</span>
	
	<span class="c1">//ìƒì„±ì</span>
	<span class="nd">@Autowired</span>
	<span class="kd">public</span> <span class="nf">OrderServiceImpl</span><span class="o">(</span><span class="nc">DiscountPolicy</span> <span class="n">discountPolicy</span><span class="o">)</span> <span class="o">{</span>
		<span class="k">this</span><span class="o">.</span><span class="na">discountPolicy</span> <span class="o">=</span> <span class="n">discountPolicy</span><span class="o">;</span>
	<span class="o">}</span>
		
	<span class="c1">// .. ì´í•˜ ìƒëµ</span>
<span class="o">}</span>
</code></pre></div></div>
<br>
<h3 id="setter--1">setter ì£¼ì…</h3>
<ul>
<li>ë§¤ê°œë³€ìˆ˜ <code>discountPolicy</code> ì— â€™ìš°ì„ ê¶Œì„ ê°€ì§„ ë¹ˆ ê°ì²´ <code>rateDiscountPolicy</code> â€™ë¥¼ ë„˜ê¸´ë‹¤.</li>
</ul>
<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nd">@Component</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">OrderServiceImpl</span> <span class="kd">implements</span> <span class="nc">OrderService</span> <span class="o">{</span>

	<span class="kd">private</span> <span class="nc">DiscountPolicy</span> <span class="n">discountPolicy</span><span class="o">;</span>
	
	<span class="nd">@Autowired</span>
	<span class="kd">public</span> <span class="nc">DiscountPolicy</span> <span class="nf">setDiscountPolicy</span><span class="o">(</span><span class="nc">DiscountPolicy</span> <span class="n">discountPolicy</span><span class="o">)</span> <span class="o">{</span>
		<span class="k">return</span> <span class="n">discountPolicy</span><span class="o">;</span>
	<span class="o">}</span>
	
	<span class="c1">// .. ì´í•˜ ìƒëµ</span>
<span class="o">}</span>
</code></pre></div></div>
<p><br><br></p>
<h2 id="codequalifiercode-vs-codeprimarycode"><code>@Qualifier</code> vs <code>@Primary</code></h2>
<h3 id="section-11">ìš°ì„ ê¶Œ</h3>
<ul>
<li>ë§Œì•½ <code>@Qualifier</code> ì™€ <code>@Primary</code> ê°€ ëª¨ë‘ ë¶™ì—ˆë‹¤ë©´ ì–´ë–»ê²Œ ì‘ë™í• ê¹Œ?</li>
<li><strong>ë” êµ¬ì²´ì ìœ¼ë¡œ ì„¤ì •ëœ</strong> <code>@Qualifier</code> <strong>ê°€</strong> <code>@Primary</code> <strong>ë³´ë‹¤ ìš°ì„ ê¶Œì„ ê°–ëŠ”ë‹¤.</strong></li>
</ul>
<h3 id="section-12">í™œìš©</h3>
<ul>
<li><code>@Qualifier</code>
<ul>
<li>ê°€ë” ì‚¬ìš©ë˜ëŠ” ë¹ˆì¼ ë•Œ ì‚¬ìš©</li>
</ul>
</li>
<li><code>@Primary</code>
<ul>
<li>ìì£¼ ì‚¬ìš©ë˜ëŠ” ë¹ˆì¼ ë•Œ ì‚¬ìš©</li>
</ul>
</li>
</ul>
<br>
<hr />
<br>
<p><a href="https://inf.run/pcN8"><img src="/assets/img/Inflearn_Spring_SpringCore/Logo.png" width="400px" height="250px"></a></p>
<ul>
<li><em>ë³¸ ê²Œì‹œê¸€ì€ ê¹€ì˜í•œë‹˜ì˜ ê°•ì˜ë¥¼ í† ëŒ€ë¡œ ì •ë¦¬í•œ ê¸€ì…ë‹ˆë‹¤.</em></li>
<li><em>ë” ìì„¸í•œ ë‚´ìš©ì„ ì•Œê³  ì‹¶ìœ¼ì‹  ë¶„ë“¤ì´ ê³„ì‹ ë‹¤ë©´, í•´ë‹¹ ê°•ì˜ë¥¼ ìˆ˜ê°•í•˜ì‹œëŠ” ê²ƒì„ ì¶”ì²œë“œë¦½ë‹ˆë‹¤.</em></li>
</ul>
:ET